/*! For license information please see main.dc709fd799c4e621f16d.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdatefloema("main",{"./app/index.js":(e,t,n)=>{n.r(t);var s=n("./node_modules/lodash/each.js"),a=n.n(s),i=n("./node_modules/normalize-wheel/index.js"),o=n.n(i),h=n("./app/components/Canvas/index.js"),d=n("./app/components/Navigation.js"),c=n("./app/components/Preloader.js"),p=n("./app/pages/About/About.js"),r=n("./app/pages/Collections/Collections.js"),l=n("./app/pages/Detail/Detail.js"),u=n("./app/pages/Home/index.js");new class{constructor(){this.createContent(),this.createCanvas(),this.createPreloader(),this.createNavigation(),this.createPages(),this.addLinkListeners(),this.addEventListeners(),this.onResize(),this.update()}createNavigation(){this.navigation=new d.default({template:this.template})}createPreloader(){this.preloader=new c.default({canvas:this.canvas}),this.preloader.once("completed",this.onPreloaded.bind(this))}createCanvas(){this.canvas=new h.default({template:this.template})}createContent(){this.content=document.querySelector(".content"),this.template=this.content.getAttribute("data-template")}createPages(){this.pages={about:new p.default,collections:new r.default,detail:new l.default,home:new u.default},this.page=this.pages[this.template],this.page.create()}onPreloaded(){this.onResize(),this.canvas.onPreloaded(),this.page.show()}onPopState(){this.onChange({url:window.location.pathname,push:!1})}async onChange({url:e}){this.canvas.onChangeStart(this.template,e),await this.page.hide();const t=await window.fetch(e);if(200===t.status){const n=await t.text(),s=document.createElement("div");window.history.pushState({},"",e),s.innerHTML=n;const a=s.querySelector(".content");this.template=a.getAttribute("data-template"),this.navigation.onChange(this.template),this.content.setAttribute("data-template",this.template),this.content.innerHTML=a.innerHTML,this.canvas.onChangeEnd(this.template),this.page=this.pages[this.template],this.page.create(),this.onResize(),this.page.show(),this.addLinkListeners()}else console.log("Error");console.log(t)}onResize(){window.requestAnimationFrame((e=>{this.canvas&&this.canvas.onResize&&this.canvas.onResize()})),this.page&&this.page.onResize&&this.page.onResize()}onTouchDown(e){this.canvas&&this.canvas.onTouchDown&&this.canvas.onTouchDown(e)}onTouchMove(e){this.canvas&&this.canvas.onTouchMove&&this.canvas.onTouchMove(e)}onTouchUp(e){this.canvas&&this.canvas.onTouchUp&&this.canvas.onTouchUp(e)}onWheel(e){const t=o()(e);this.canvas&&this.canvas.onWheel&&this.canvas.onWheel(t),this.page&&this.page.onWheel&&this.page.onWheel(t)}update(){this.page&&this.page.update&&this.page.update(),this.canvas&&this.canvas.update&&this.canvas.update(this.page.scroll),this.frame=window.requestAnimationFrame(this.update.bind(this))}addEventListeners(){window.addEventListener("popstate",this.onPopState.bind(this)),window.addEventListener("mousewheel",this.onWheel.bind(this)),window.addEventListener("mousedown",this.onTouchDown.bind(this)),window.addEventListener("mousemove",this.onTouchMove.bind(this)),window.addEventListener("mouseup",this.onTouchUp.bind(this)),window.addEventListener("touchstart",this.onTouchDown.bind(this)),window.addEventListener("touchmove",this.onTouchMove.bind(this)),window.addEventListener("touchend",this.onTouchUp.bind(this)),window.addEventListener("resize",this.onResize.bind(this))}addLinkListeners(){const e=document.querySelectorAll("a");a()(e,(e=>{e.onclick=t=>{t.preventDefault();const{href:n}=e;this.onChange(n)}}))}}}},(function(e){e.h=()=>"334402f9c942b289a689"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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eER1QyxPQUFPZ0MsaUJBQWlCLFNBQVV2RSxLQUFLUSxTQUFTVSxLQUFLbEIsTUFDdkQsQ0FFQU0sZ0JBQUFBLEdBRUUsTUFBTWtFLEVBQVFuRCxTQUFTb0QsaUJBQWlCLEtBR3hDQyxJQUFLRixHQUFRRyxJQUNYQSxFQUFLQyxRQUFXYixJQUNkQSxFQUFNYyxpQkFFTixNQUFNLEtBQUVDLEdBQVNILEVBRWpCM0UsS0FBS3FDLFNBQVN5QyxFQUFLLENBQ3BCLEdBRUwsa0JDMU9GQyxFQUFvQkMsRUFBSSxJQUFNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmxvZW1hLy4vYXBwL2luZGV4LmpzIiwid2VicGFjazovL2Zsb2VtYS93ZWJwYWNrL3J1bnRpbWUvZ2V0RnVsbEhhc2giXSwic291cmNlc0NvbnRlbnQiOlsiLy8g5YWz5LmO5pW05Liq572R6aG155qE5bGV56S65L+h5oGvXG5pbXBvcnQgZWFjaCBmcm9tICdsb2Rhc2gvZWFjaCc7XG5pbXBvcnQgTm9ybWFsaXplV2hlZWwgZnJvbSAnbm9ybWFsaXplLXdoZWVsJ1xuXG5pbXBvcnQgQ2FudmFzIGZyb20gJ2NvbXBvbmVudHMvQ2FudmFzJztcbmltcG9ydCBOYXZpZ2F0aW9uIGZyb20gJy4vY29tcG9uZW50cy9OYXZpZ2F0aW9uJztcbmltcG9ydCBQcmVsb2FkZXIgZnJvbSAnY29tcG9uZW50cy9QcmVsb2FkZXInXG5cbmltcG9ydCBBYm91dCBmcm9tIFwiLi9wYWdlcy9BYm91dC9BYm91dFwiO1xuaW1wb3J0IENvbGxlY3Rpb25zIGZyb20gXCIuL3BhZ2VzL0NvbGxlY3Rpb25zL0NvbGxlY3Rpb25zXCI7XG5pbXBvcnQgRGV0YWlsIGZyb20gXCIuL3BhZ2VzL0RldGFpbC9EZXRhaWxcIjtcbmltcG9ydCBIb21lIGZyb20gXCIuL3BhZ2VzL0hvbWVcIjtcblxuY2xhc3MgQXBwIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLy8g5Y+s5ZSkXG4gICAgdGhpcy5jcmVhdGVDb250ZW50KClcblxuICAgIHRoaXMuY3JlYXRlQ2FudmFzKClcbiAgICB0aGlzLmNyZWF0ZVByZWxvYWRlcigpXG4gICAgdGhpcy5jcmVhdGVOYXZpZ2F0aW9uKClcblxuICAgIHRoaXMuY3JlYXRlUGFnZXMoKVxuXG4gICAgdGhpcy5hZGRMaW5rTGlzdGVuZXJzKCk7XG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVycygpO1xuXG4gICAgdGhpcy5vblJlc2l6ZSgpXG5cbiAgICB0aGlzLnVwZGF0ZSgpO1xuXG4gIH1cbiAgLy8g5Yid5aeL5YyW57G7XG4gIGNyZWF0ZU5hdmlnYXRpb24oKSB7XG4gICAgdGhpcy5uYXZpZ2F0aW9uID0gbmV3IE5hdmlnYXRpb24oeyB0ZW1wbGF0ZTogdGhpcy50ZW1wbGF0ZSB9KTtcbiAgfVxuXG4gIGNyZWF0ZVByZWxvYWRlcigpIHtcbiAgICB0aGlzLnByZWxvYWRlciA9IG5ldyBQcmVsb2FkZXIoe1xuICAgICAgY2FudmFzOiB0aGlzLmNhbnZhc1xuICAgIH0pXG4gICAgdGhpcy5wcmVsb2FkZXIub25jZSgnY29tcGxldGVkJywgdGhpcy5vblByZWxvYWRlZC5iaW5kKHRoaXMpKVxuICB9XG5cbiAgY3JlYXRlQ2FudmFzKCkge1xuICAgIHRoaXMuY2FudmFzID0gbmV3IENhbnZhcyh7XG4gICAgICB0ZW1wbGF0ZTogdGhpcy50ZW1wbGF0ZVxuICAgIH0pXG4gIH1cblxuICBjcmVhdGVDb250ZW50KCkge1xuICAgIHRoaXMuY29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250ZW50Jyk7IC8vREVTOiBzZWxlY3RpbmcgdGhlIGNvbnRlbnQgY2xhc3NcbiAgICB0aGlzLnRlbXBsYXRlID0gdGhpcy5jb250ZW50LmdldEF0dHJpYnV0ZSgnZGF0YS10ZW1wbGF0ZScpOyAvL0RFUzogZ2V0dGluZyB0aGUgZGF0YXNldC10ZW1wbGF0ZVxuICB9XG5cbiAgY3JlYXRlUGFnZXMoKSB7XG4gICAgLy8g5Yid5aeL5YyW6aG16Z2iLOWFiOW7uuaWh+aho++8jOWcqOWGmei/meS4qu+8jOS7luS8muiHquWKqOW8ueWHumltcG9ydFxuICAgIHRoaXMucGFnZXMgPSB7XG4gICAgICBhYm91dDogbmV3IEFib3V0KCksXG4gICAgICBjb2xsZWN0aW9uczogbmV3IENvbGxlY3Rpb25zKCksXG4gICAgICBkZXRhaWw6IG5ldyBEZXRhaWwoKSxcbiAgICAgIGhvbWU6IG5ldyBIb21lKCksXG4gICAgfVxuICAgIHRoaXMucGFnZSA9IHRoaXMucGFnZXNbdGhpcy50ZW1wbGF0ZV1cbiAgICAvLyDkvaDlnKjlk6rkuKrpobXpnaLlsLHmuLLmn5Pkuoblk6rkuKrpobXpnaLvvIxkYXRhMHRlbXBhbHRl5a6D5L2/5b6X5L2g5Y+v5Lul5ZyoIEhUTUwg5YWD57Sg5Lit5a2Y5YKo5pWw5o2u77yM54S25ZCO6YCa6L+HIEphdmFTY3JpcHQg5p2l6K+75Y+W5ZKM5L2/55So6L+Z5Lqb5pWw5o2u77yMXG4gICAgdGhpcy5wYWdlLmNyZWF0ZSgpXG5cblxuICB9XG5cbiAgLyoqXG4gICAqIEV2ZW50c1xuICAgKi9cbiAgb25QcmVsb2FkZWQoKSB7XG4gICAgdGhpcy5vblJlc2l6ZSgpXG5cbiAgICB0aGlzLmNhbnZhcy5vblByZWxvYWRlZCgpXG4gICAgdGhpcy5wYWdlLnNob3coKVxuICAgIC8vIOmUgOavgS3ph43mlrDlrprkuYnlsLrlr7gt6aG16Z2i5bGV56S6XG4gIH1cblxuICBvblBvcFN0YXRlKCkge1xuICAgIHRoaXMub25DaGFuZ2UoeyBcbiAgICAgIHVybDogd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLFxuICAgICAgcHVzaDogZmFsc2VcbiAgICAgfSlcbiAgfVxuICAvLyDmtY/op4jlmajov5Tlm57plK7otbfkvZznlKhcblxuICBhc3luYyBvbkNoYW5nZSh7dXJsfSkgey8vIOWQjOatpWh0bWzph4znmoR1cmzpk77mjqXvvIzkvb/lvpflnKhjaGVja+aXtuS4jeS8mueci+WIsOayoeacieabtOaWsOeahGNvbnRlbnTlkI3lrZdcbiAgICB0aGlzLmNhbnZhcy5vbkNoYW5nZVN0YXJ0KHRoaXMudGVtcGxhdGUsIHVybClcblxuICAgIGF3YWl0IHRoaXMucGFnZS5oaWRlKClcbiAgICAvLyDlvZPngrnlh7vml7bvvIzlvZPliY3pobXpnaLkvJrooqvpmpDol49cbiAgICBjb25zdCByZXF1ZXN0ID0gYXdhaXQgd2luZG93LmZldGNoKHVybClcblxuICAgIGlmIChyZXF1ZXN0LnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICBjb25zdCBodG1sID0gYXdhaXQgcmVxdWVzdC50ZXh0KClcbiAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG5cbiAgICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSh7fSwgJycsIHVybClcbiAgICAgIC8vIOWwseaYr+ivtOS9oOeCueWHu+WTquS4qumhtemdoix1cmznmoTlkI7nvIDlsLHmmK/lk6rkuKrpobXpnaLnmoQvY29sbGVjdGlzb25zIG9yIC9hYm91dCBvciAvc2xhc2ggaG9tZVxuXG5cbiAgICAgIGRpdi5pbm5lckhUTUwgPSBodG1sXG5cbiAgICAgIGNvbnN0IGRpdkNvbnRlbnQgPSBkaXYucXVlcnlTZWxlY3RvcignLmNvbnRlbnQnKVxuXG4gICAgICB0aGlzLnRlbXBsYXRlID0gZGl2Q29udGVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGVtcGxhdGUnKVxuXG5cbiAgICAgIHRoaXMubmF2aWdhdGlvbi5vbkNoYW5nZSh0aGlzLnRlbXBsYXRlKVxuXG4gICAgICB0aGlzLmNvbnRlbnQuc2V0QXR0cmlidXRlKCdkYXRhLXRlbXBsYXRlJywgdGhpcy50ZW1wbGF0ZSlcbiAgICAgIHRoaXMuY29udGVudC5pbm5lckhUTUwgPSBkaXZDb250ZW50LmlubmVySFRNTFxuXG4gICAgICB0aGlzLmNhbnZhcy5vbkNoYW5nZUVuZCh0aGlzLnRlbXBsYXRlKVxuXG4gICAgICB0aGlzLnBhZ2UgPSB0aGlzLnBhZ2VzW3RoaXMudGVtcGxhdGVdXG4gICAgICAvLyDov5nkuKp0ZW1wbGF0ZeaYr+aWsOeahOmhtemdoueahHRlbXBsYXRlXG5cbiAgICAgIHRoaXMucGFnZS5jcmVhdGUoKVxuICAgICAgdGhpcy5vblJlc2l6ZSgpXG4gICAgICB0aGlzLnBhZ2Uuc2hvdygpXG4gICAgICB0aGlzLmFkZExpbmtMaXN0ZW5lcnMoKVxuICAgICAgLy8g6L+Z6YeM5Y+I5YaZ5LiA6YGN5piv5Zug5Li65Zyo5Yib5bu65paw55qE6aG16Z2i5LmL5ZCO77yM5pyJ5Lqb6aG16Z2i6YeM6Z2i6L+Y5pyJ5paw55qE6ZO+5o6l77yM5omA5Lul5Zyo5o6J5LiA5qyh6L+Z5Liq5pa55rOVXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coJ0Vycm9yJylcbiAgICB9XG5cbiAgICAvLyBpZiAocmVxdWVzdC5zdGF0dXMpXG4gICAgY29uc29sZS5sb2cocmVxdWVzdClcbiAgfVxuXG4gIG9uUmVzaXplKCkge1xuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoXyA9PiB7XG4gICAgICBpZiAodGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMub25SZXNpemUpIHtcbiAgICAgICAgdGhpcy5jYW52YXMub25SZXNpemUoKTtcbiAgICAgIH1cbiAgICAgIC8vIOWkhOeQhueql+WPo+iwg+aVtOWkp+Wwj+S6i+S7tueahOWHveaVsOOAguW9k+a1j+iniOWZqOeql+WPo+Wkp+Wwj+aUueWPmOaXtu+8iOavlOWmgueUqOaIt+iwg+aVtOeql+WPo+Wkp+Wwj+aIluiAheiuvuWkh+WPkeeUn+aXi+i9rO+8ie+8jOS8muinpuWPkSBvblJlc2l6ZSDlh73mlbDjgIJcbiAgICB9KVxuXG5cbiAgICBpZiAodGhpcy5wYWdlICYmIHRoaXMucGFnZS5vblJlc2l6ZSkge1xuICAgICAgdGhpcy5wYWdlLm9uUmVzaXplKCk7XG4gICAgfVxuICB9XG5cbiAgb25Ub3VjaERvd24oZXZlbnQpIHtcbiAgICBpZiAodGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMub25Ub3VjaERvd24pIHtcbiAgICAgIHRoaXMuY2FudmFzLm9uVG91Y2hEb3duKGV2ZW50KTtcbiAgICB9XG5cblxuICB9XG5cbiAgb25Ub3VjaE1vdmUoZXZlbnQpIHtcbiAgICBpZiAodGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMub25Ub3VjaE1vdmUpIHtcbiAgICAgIHRoaXMuY2FudmFzLm9uVG91Y2hNb3ZlKGV2ZW50KTtcbiAgICB9XG5cbiAgfVxuXG4gIG9uVG91Y2hVcChldmVudCkge1xuICAgIGlmICh0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy5vblRvdWNoVXApIHtcbiAgICAgIHRoaXMuY2FudmFzLm9uVG91Y2hVcChldmVudCk7XG4gICAgfVxuICB9XG5cbiAgb25XaGVlbChldmVudCkge1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRXaGVlbCA9IE5vcm1hbGl6ZVdoZWVsKGV2ZW50KTtcbiAgICBpZiAodGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMub25XaGVlbCkge1xuICAgICAgdGhpcy5jYW52YXMub25XaGVlbChub3JtYWxpemVkV2hlZWwpO1xuICAgICAgLy8g6LCD55So55S75biD55qEb25XaGVlbOeahOaWueazle+8jOW5tuWwhuagh+WHhuWMluWkhOeQhuWQjueahOa7muWKqOWAvOS9nOS4uuWPguaVsOS8oOi/m+WOu1xuICAgIH1cblxuICAgIGlmICh0aGlzLnBhZ2UgJiYgdGhpcy5wYWdlLm9uV2hlZWwpIHtcbiAgICAgIHRoaXMucGFnZS5vbldoZWVsKG5vcm1hbGl6ZWRXaGVlbCk7XG4gICAgfVxuICB9XG5cblxuICAvKipcbiAgICogTG9vcFxuICAgKi9cblxuICB1cGRhdGUoKSB7IC8vIOWKqOeUu+aIlumhtemdouabtOaWsOeahOW+queOr1xuXG4gICAgaWYgKHRoaXMucGFnZSAmJiB0aGlzLnBhZ2UudXBkYXRlKSB7XG4gICAgICB0aGlzLnBhZ2UudXBkYXRlKCk7XG4gICAgfVxuICAgIC8vIOWFiOa4suafk+mhtemdou+8jOWboOS4uuaciWNvcnJlY3QgWSBwb3NpdGlvbu+8jOaJgOS7peWQjumdoueahGNhbnZhc+eahFnkuZ/kvJrot5/nnYDmm7TmlrBcblxuICAgIGlmICh0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy51cGRhdGUpIHtcbiAgICAgIHRoaXMuY2FudmFzLnVwZGF0ZSh0aGlzLnBhZ2Uuc2Nyb2xsKTtcbiAgICB9XG5cbiAgICB0aGlzLmZyYW1lID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMaXN0ZW5lcnNcbiAgICovXG4gIGFkZEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb3BzdGF0ZScsIHRoaXMub25Qb3BTdGF0ZS5iaW5kKHRoaXMpKVxuICAgIC8vIOa1j+iniOWZqOi/lOWbnumUrui1t+S9nOeUqFxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXdoZWVsJywgdGhpcy5vbldoZWVsLmJpbmQodGhpcykpXG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vblRvdWNoRG93bi5iaW5kKHRoaXMpKVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uVG91Y2hNb3ZlLmJpbmQodGhpcykpXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLm9uVG91Y2hVcC5iaW5kKHRoaXMpKVxuICAgIC8vIOeUteiEkeerr+eahFxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5vblRvdWNoRG93bi5iaW5kKHRoaXMpKVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLm9uVG91Y2hNb3ZlLmJpbmQodGhpcykpXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5vblRvdWNoVXAuYmluZCh0aGlzKSlcbiAgICAvLyDnp7vliqjnq6/nmoRcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIGFkZExpbmtMaXN0ZW5lcnMoKSB7Ly8g6ZO+5o6l6Lez6L2s5aSE55CGXG5cbiAgICBjb25zdCBsaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2EnKVxuICAgIC8vIOmAieaLqeaJgOaciemTvuaOpe+8jGxpbmtz5piv5pWw57uEXG5cbiAgICBlYWNoKGxpbmtzLCAobGluaykgPT4ge1xuICAgICAgbGluay5vbmNsaWNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcblxuICAgICAgICBjb25zdCB7IGhyZWYgfSA9IGxpbmtcblxuICAgICAgICB0aGlzLm9uQ2hhbmdlKGhyZWYpXG4gICAgICB9XG4gICAgfSlcbiAgfVxufVxubmV3IEFwcCgpIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5oID0gKCkgPT4gKFwiMzM0NDAyZjljOTQyYjI4OWE2ODlcIikiXSwibmFtZXMiOlsiY29uc3RydWN0b3IiLCJ0aGlzIiwiY3JlYXRlQ29udGVudCIsImNyZWF0ZUNhbnZhcyIsImNyZWF0ZVByZWxvYWRlciIsImNyZWF0ZU5hdmlnYXRpb24iLCJjcmVhdGVQYWdlcyIsImFkZExpbmtMaXN0ZW5lcnMiLCJhZGRFdmVudExpc3RlbmVycyIsIm9uUmVzaXplIiwidXBkYXRlIiwibmF2aWdhdGlvbiIsIk5hdmlnYXRpb24iLCJ0ZW1wbGF0ZSIsInByZWxvYWRlciIsIlByZWxvYWRlciIsImNhbnZhcyIsIm9uY2UiLCJvblByZWxvYWRlZCIsImJpbmQiLCJDYW52YXMiLCJjb250ZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZ2V0QXR0cmlidXRlIiwicGFnZXMiLCJhYm91dCIsIkFib3V0IiwiY29sbGVjdGlvbnMiLCJDb2xsZWN0aW9ucyIsImRldGFpbCIsIkRldGFpbCIsImhvbWUiLCJIb21lIiwicGFnZSIsImNyZWF0ZSIsInNob3ciLCJvblBvcFN0YXRlIiwib25DaGFuZ2UiLCJ1cmwiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInBhdGhuYW1lIiwicHVzaCIsIm9uQ2hhbmdlU3RhcnQiLCJoaWRlIiwicmVxdWVzdCIsImZldGNoIiwic3RhdHVzIiwiaHRtbCIsInRleHQiLCJkaXYiLCJjcmVhdGVFbGVtZW50IiwiaGlzdG9yeSIsInB1c2hTdGF0ZSIsImlubmVySFRNTCIsImRpdkNvbnRlbnQiLCJzZXRBdHRyaWJ1dGUiLCJvbkNoYW5nZUVuZCIsImNvbnNvbGUiLCJsb2ciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJfIiwib25Ub3VjaERvd24iLCJldmVudCIsIm9uVG91Y2hNb3ZlIiwib25Ub3VjaFVwIiwib25XaGVlbCIsIm5vcm1hbGl6ZWRXaGVlbCIsIk5vcm1hbGl6ZVdoZWVsIiwic2Nyb2xsIiwiZnJhbWUiLCJhZGRFdmVudExpc3RlbmVyIiwibGlua3MiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZWFjaCIsImxpbmsiLCJvbmNsaWNrIiwicHJldmVudERlZmF1bHQiLCJocmVmIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImgiXSwic291cmNlUm9vdCI6IiJ9