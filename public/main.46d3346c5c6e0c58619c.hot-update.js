/*! For license information please see main.46d3346c5c6e0c58619c.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdatefloema("main",{"./app/components/Canvas/index.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var o=s("./node_modules/ogl/src/core/Renderer.js"),i=s("./node_modules/ogl/src/core/Camera.js"),h=s("./node_modules/ogl/src/core/Transform.js"),n=s("./app/components/Canvas/home/index.js"),c=s("./app/components/Canvas/about/index.js"),a=s("./app/components/Canvas/collections/index.js");class l{constructor({template:e}){this.template=e,this.x={start:0,distance:0,end:0},this.y={start:0,distance:0,end:0},this.createRenderer(),this.createCamera(),this.createScene(),this.onResize(),this.onChangeEnd(this.template)}createRenderer(){this.renderer=new o.Renderer({alpha:!0,antialias:!0}),this.gl=this.renderer.gl,document.body.appendChild(this.gl.canvas)}createCamera(){this.camera=new i.Camera(this.gl),this.camera.position.z=5}createScene(){this.scene=new h.Transform}createHome(){this.home=new n.default({gl:this.gl,scene:this.scene,sizes:this.sizes})}destroyHome(){this.home&&(this.home.destroy(),this.home=null)}createAbout(){this.about=new c.default({gl:this.gl,scene:this.scene,sizes:this.sizes})}destroyAbout(){this.about&&(this.about.destroy(),this.about=null)}createCollections(){this.collections=new a.default({gl:this.gl,scene:this.scene,sizes:this.sizes})}destroyCollections(){this.collections&&(this.collections.destroy(),this.collections=null)}onChangeStart(){this.about&&this.about.hide(),this.collections&&this.collections.hide(),this.home&&this.home.hide()}onChangeEnd(e){"about"===e?this.createAbout():this.about&&this.destroyAbout(),"collections"===e?(this.gl.canvas.style.zIndex=1e3,this.createCollections()):this.collections&&(this.gl.canvas.style.zIndex="",this.destroyCollecreateCollections()),"home"===e?this.createHome():this.destroyHome()}onResize(){this.renderer.setSize(window.innerWidth,window.innerHeight),this.camera.perspective({aspect:window.innerWidth/window.innerHeight});const e=this.camera.fov*(Math.PI/180),t=2*Math.tan(e/2)*this.camera.position.z,s=t*this.camera.aspect;this.sizes={height:t,width:s};const o={sizes:this.sizes};this.about&&this.about.onResize(o),this.collections&&this.collections.onResize(o),this.home&&this.home.onResize(o)}onTouchDown(e){this.isDown=!0,this.x.start=e.touches?e.touches[0].clientX:e.clientX,this.y.start=e.touches?e.touches[0].clientY:e.clientY;const t={x:this.x,y:this.y};this.about&&this.about.onTouchDown(t),this.collections&&this.collections.onTouchDown(t),this.home&&this.home.onTouchDown(t)}onTouchMove(e){if(!this.isDown)return;const t=e.touches?e.touches[0].clientX:e.clientX,s=e.touches?e.touches[0].clientY:e.clientY;this.x.end=t,this.y.end=s;const o={x:this.x,y:this.y};this.about&&this.about.onTouchMove(o),this.collections&&this.collections.onTouchMove(o),this.home&&this.home.onTouchMove(o)}onTouchUp(e){this.isDown=!1;const t=e.changedTouches?e.changedTouches[0].clientX:e.clientX,s=e.changedTouches?e.changedTouches[0].clientY:e.clientY;this.x.end=t,this.y.end=s;const o={x:this.x,y:this.y};this.about&&this.about.onTouchUp(o),this.collections&&this.collections.onTouchUp(o),this.home&&this.home.onTouchUp(o)}onWheel(e){this.home&&this.home.onWheel(e),this.collections&&this.collections.onWheel(e)}update(e){this.about&&this.about.update(e),this.collections&&this.collections.update(),this.home&&this.home.update(),this.renderer.render({camera:this.camera,scene:this.scene})}}}},(function(e){e.h=()=>"5eed84fd5240aea67bb6"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixLQUFLMkIsS0FBS3FDLFlBQVlQLEVBRTFCLENBRUFRLFNBQUFBLENBQVVOLEdBQ1IzRCxLQUFLNEQsUUFBUyxFQUNkLE1BQU0zRCxFQUFJMEQsRUFBTU8sZUFBaUJQLEVBQU1PLGVBQWUsR0FBR0osUUFBVUgsRUFBTUcsUUFDbkV6RCxFQUFJc0QsRUFBTU8sZUFBaUJQLEVBQU1PLGVBQWUsR0FBR0gsUUFBVUosRUFBTUksUUFFekUvRCxLQUFLQyxFQUFFRyxJQUFLSCxFQUNaRCxLQUFLSyxFQUFFRCxJQUFLQyxFQUVaLE1BQU1vRCxFQUFTLENBQ2J4RCxFQUFHRCxLQUFLQyxFQUNSSSxFQUFHTCxLQUFLSyxHQUdOTCxLQUFLaUMsT0FDUGpDLEtBQUtpQyxNQUFNZ0MsVUFBVVIsR0FHbkJ6RCxLQUFLcUMsYUFDUHJDLEtBQUtxQyxZQUFZNEIsVUFBVVIsR0FHekJ6RCxLQUFLMkIsTUFDUDNCLEtBQUsyQixLQUFLc0MsVUFBVVIsRUFFeEIsQ0FFQVUsT0FBQUEsQ0FBUVIsR0FDSDNELEtBQUsyQixNQUNOM0IsS0FBSzJCLEtBQUt3QyxRQUFRUixHQUdqQjNELEtBQUtxQyxhQUNOckMsS0FBS3FDLFlBQVk4QixRQUFRUixFQUU3QixDQUdBUyxNQUFBQSxDQUFPQyxHQUlGckUsS0FBS2lDLE9BQ05qQyxLQUFLaUMsTUFBTW1DLE9BQU9DLEdBSWpCckUsS0FBS3FDLGFBQ05yQyxLQUFLcUMsWUFBWStCLFNBR2hCcEUsS0FBSzJCLE1BQ04zQixLQUFLMkIsS0FBS3lDLFNBR1pwRSxLQUFLVyxTQUFTMkQsT0FBTyxDQUNuQmxELE9BQVFwQixLQUFLb0IsT0FDYkksTUFBT3hCLEtBQUt3QixPQUVoQixrQkN2VEYrQyxFQUFvQkMsRUFBSSxJQUFNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmxvZW1hLy4vYXBwL2NvbXBvbmVudHMvQ2FudmFzL2luZGV4LmpzIiwid2VicGFjazovL2Zsb2VtYS93ZWJwYWNrL3J1bnRpbWUvZ2V0RnVsbEhhc2giXSwic291cmNlc0NvbnRlbnQiOlsiLy8g6L+Z5Liq5paH5Lu255qE5LiK5LiA57qn5Lqk5o6l5pivY29tcG9uZW50c+eahGluZGV4Lmpz5paH5Lu2XG5pbXBvcnQgeyBDYW1lcmEsIFJlbmRlcmVyLCBUcmFuc2Zvcm0gfSBmcm9tICdvZ2wnO1xuXG5pbXBvcnQgSG9tZSBmcm9tICcuL2hvbWUnO1xuaW1wb3J0IEFib3V0IGZyb20gJy4vYWJvdXQnO1xuaW1wb3J0IENvbGxlY3Rpb25zIGZyb20gJy4vY29sbGVjdGlvbnMnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbnZhcyB7XG4gIGNvbnN0cnVjdG9yKHt0ZW1wbGF0ZX0pIHtcbiAgICB0aGlzLnRlbXBsYXRlID0gdGVtcGxhdGVcbiAgICAvLyB0ZW1wbGF0ZeaYr+aVsOaNruaooeeJiFxuICAgIHRoaXMueCA9IHtcbiAgICAgIHN0YXJ0OiAwLFxuICAgICAgZGlzdGFuY2U6IDAsXG4gICAgICBlbmQ6IDBcbiAgICB9XG4gICAgdGhpcy55ID0ge1xuICAgICAgc3RhcnQ6IDAsXG4gICAgICBkaXN0YW5jZTogMCxcbiAgICAgIGVuZDogMFxuICAgIH1cblxuXG4gICAgdGhpcy5jcmVhdGVSZW5kZXJlcigpXG4gICAgdGhpcy5jcmVhdGVDYW1lcmEoKVxuICAgIHRoaXMuY3JlYXRlU2NlbmUoKVxuXG4gICAgdGhpcy5vblJlc2l6ZSgpXG5cbiAgICB0aGlzLm9uQ2hhbmdlRW5kKHRoaXMudGVtcGxhdGUpXG4gICAgLy8gdGhpcy5jcmVhdGVDdWJlKClcbiAgICAvLyDku4DkuYjku4DkuYjlv5jorrBkZWZpbmXkuobvvIzlsLHnnIvov5nph4zmnInmsqHmnInooqvliJ3lp4vljJZcbiAgfVxuXG4gIGNyZWF0ZVJlbmRlcmVyKCkge1xuICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgUmVuZGVyZXIoIHtcbiAgICAgIGFscGhhOiB0cnVlLFxuICAgICAgLy8g6K6pd2ViZ2znmoTog4zmma/oibLpgI/mmI7vvIzku47ogIzmmL7npLpjc3Porr7nva7nmoTpopzoibJcbiAgICAgIGFudGlhbGlhczp0cnVlXG4gICAgICAvLyDmipfplK/pvb9cbiAgICB9KTtcblxuICAgIHRoaXMuZ2wgPSB0aGlzLnJlbmRlcmVyLmdsOyAvL1RJUCB3b3JrcyBsaWtlIGEgY2FudmFzIGNvbnRleHRcblxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5nbC5jYW52YXMpO1xuICB9XG5cbiAgY3JlYXRlQ2FtZXJhKCkge1xuICAgIHRoaXMuY2FtZXJhID0gbmV3IENhbWVyYSh0aGlzLmdsKVxuICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnogPSA1XG5cbiAgfVxuXG4gIGNyZWF0ZVNjZW5lKCkge1xuICAgIHRoaXMuc2NlbmUgPSBuZXcgVHJhbnNmb3JtKClcbiAgfVxuXG4gIC8qKlxuICAgKiBIb21lLlxuICAgKi9cbiAgY3JlYXRlSG9tZSgpIHtcbiAgICB0aGlzLmhvbWUgPSBuZXcgSG9tZSh7XG4gICAgICBnbDogdGhpcy5nbCxcbiAgICAgIHNjZW5lOiB0aGlzLnNjZW5lLFxuICAgICAgc2l6ZXM6IHRoaXMuc2l6ZXNcbiAgICB9KTtcblxuICB9XG5cbiAgZGVzdHJveUhvbWUoKXtcbiAgICBpZighdGhpcy5ob21lKSByZXR1cm5cbiAgICAvLyDlpoLmnpzkuI3lrZjlnKhob21l77yM5bCx6ZSA5q+BaG9tZe+8jO+8geaYr+S4jeaIkOeri+eahOaEj+aAne+8jOadoeS7tuS4uuWBh1xuICAgIHRoaXMuaG9tZS5kZXN0cm95KClcbiAgICB0aGlzLmhvbWUgPSBudWxsXG4gIH1cblxuXG4gIC8qKlxuICAgKiBBYm91dC5cbiAgICovXG4gIGNyZWF0ZUFib3V0KCl7XG4gICAgdGhpcy5hYm91dCA9IG5ldyBBYm91dCh7XG4gICAgICBnbDogdGhpcy5nbCxcbiAgICAgIHNjZW5lOiB0aGlzLnNjZW5lLFxuICAgICAgc2l6ZXM6IHRoaXMuc2l6ZXNcbiAgICB9KTtcbiAgfVxuXG4gIGRlc3Ryb3lBYm91dCgpe1xuICAgIGlmKCF0aGlzLmFib3V0KSByZXR1cm5cbiAgICAvLyDlpoLmnpzkuI3lrZjlnKhhYm91dO+8jOWwsemUgOavgWFib3V077yM77yB5piv5LiN5oiQ56uL55qE5oSP5oCd77yM5p2h5Lu25Li65YGHXG4gICAgdGhpcy5hYm91dC5kZXN0cm95KClcbiAgICB0aGlzLmFib3V0ID0gbnVsbFxuICB9XG5cbiAgLyoqXG4gICAqIENvbGxlY3Rpb25zLlxuICAgKi9cbiAgY3JlYXRlQ29sbGVjdGlvbnMoKXtcbiAgICB0aGlzLmNvbGxlY3Rpb25zID0gbmV3IENvbGxlY3Rpb25zKHtcbiAgICAgIGdsOiB0aGlzLmdsLFxuICAgICAgc2NlbmU6IHRoaXMuc2NlbmUsXG4gICAgICBzaXplczogdGhpcy5zaXplc1xuICAgIH0pO1xuICB9XG5cbiAgZGVzdHJveUNvbGxlY3Rpb25zKCl7XG4gICAgaWYoIXRoaXMuY29sbGVjdGlvbnMpIHJldHVyblxuICAgIC8vIOWmguaenOS4jeWtmOWcqENvbGxlY3Rpb25z77yM5bCx6ZSA5q+BQ29sbGVjdGlvbnPvvIzvvIHmmK/kuI3miJDnq4vnmoTmhI/mgJ3vvIzmnaHku7bkuLrlgYdcbiAgICB0aGlzLmNvbGxlY3Rpb25zLmRlc3Ryb3koKVxuICAgIHRoaXMuY29sbGVjdGlvbnMgPSBudWxsXG4gIH1cblxuICAvLyBjcmVhdGVDdWJlKCkge1xuICAvLyAgIHRoaXMuZ2VvbWV0cnkgPSBuZXcgQm94KHRoaXMuZ2wpXG4gIC8vICAgdGhpcy5wcm9ncmFtID0gbmV3IFByb2dyYW0odGhpcy5nbCwge1xuICAvLyAgICAgdmVydGV4LFxuICAvLyAgICAgZnJhZ21lbnRcbiAgLy8gICB9KVxuICAvLyAgIC8vIOWwhmds5L2c5Li656ys5LiA5Liq5YWD57Sg5Lyg57uZTWVzaFxuICAvLyAgIHRoaXMubWVzaCA9IG5ldyBNZXNoKHRoaXMuZ2wsIHtcbiAgLy8gICAgIGdlb21ldHJ5OnRoaXMuZ2VvbWV0cnksIFxuICAvLyAgICAgcHJvZ3JhbTp0aGlzLnByb2dyYW1cbiAgLy8gICB9KVxuICAvLyAgIC8vIOWwhuebkuWtkOiuvue9ruS4uuebuOacuueahOWtkOWFg+e0oFxuICAvLyAgIHRoaXMubWVzaC5zZXRQYXJlbnQodGhpcy5zY2VuZSlcblxuICAvLyB9XG5cbiAgLy8gRXZlbnRzXG4gIFxuXG4gIC8qKlxuICAgKiBFVkVOVFNcbiAgICovXG4gIG9uQ2hhbmdlU3RhcnQoKXtcbiAgICBpZih0aGlzLmFib3V0KXtcbiAgICAgIHRoaXMuYWJvdXQuaGlkZSgpXG4gICAgfVxuXG4gICAgaWYodGhpcy5jb2xsZWN0aW9ucyl7XG4gICAgICB0aGlzLmNvbGxlY3Rpb25zLmhpZGUoKVxuICAgIH1cblxuICAgIGlmKHRoaXMuaG9tZSl7XG4gICAgICB0aGlzLmhvbWUuaGlkZSgpXG4gICAgfVxuICB9XG4gIG9uQ2hhbmdlRW5kKHRlbXBsYXRlKXtcbiAgICAvLyDlsLHmmK/lvZPnlKjmiLdjaGFuZ2UgdGhlIHJvdXRlXG4gICAgaWYodGVtcGxhdGUgPT09ICdhYm91dCcpe1xuICAgICAgdGhpcy5jcmVhdGVBYm91dCgpXG4gICAgfWVsc2UgaWYgKHRoaXMuYWJvdXQpe1xuICAgICAgdGhpcy5kZXN0cm95QWJvdXQoKVxuICAgIH1cblxuICAgIGlmKHRlbXBsYXRlID09PSAnY29sbGVjdGlvbnMnKXtcbiAgICAgIHRoaXMuZ2wuY2FudmFzLnN0eWxlLnpJbmRleCA9IDEwMDBcbiAgICAgIHRoaXMuY3JlYXRlQ29sbGVjdGlvbnMoKVxuICAgIH1lbHNlIGlmICh0aGlzLmNvbGxlY3Rpb25zKXtcbiAgICAgIHRoaXMuZ2wuY2FudmFzLnN0eWxlLnpJbmRleCA9ICcnXG4gICAgICB0aGlzLmRlc3Ryb3lDb2xsZWNyZWF0ZUNvbGxlY3Rpb25zKClcbiAgICB9XG5cbiAgICBpZih0ZW1wbGF0ZSA9PT0gJ2hvbWUnKXtcbiAgICAgIHRoaXMuY3JlYXRlSG9tZSgpXG4gICAgfWVsc2Uge1xuICAgICAgdGhpcy5kZXN0cm95SG9tZSgpXG4gICAgfVxuXG4gIH1cblxuICBvblJlc2l6ZSgpIHtcbiAgICAvLyDlsIbmuLLmn5PnmoTnlLvluIPlsLrlr7jloavmu6Hop4bnqpflj6NcbiAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgLy8g5Yib5bu65LqGY2FtZXJh5LmL5ZCO5omN6IO95Yib5bu66YCP6KeG5Zu+XG4gICAgdGhpcy5jYW1lcmEucGVyc3BlY3RpdmUoeyBhc3BlY3Q6IHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0IH0pO1xuXG4gICAgY29uc3QgZm92ID0gdGhpcy5jYW1lcmEuZm92ICogKE1hdGguUEkgLyAxODApO1xuICAgIGNvbnN0IGhlaWdodCA9IDIgKiBNYXRoLnRhbihmb3YgLyAyKSAqIHRoaXMuY2FtZXJhLnBvc2l0aW9uLno7XG4gICAgY29uc3Qgd2lkdGggPSBoZWlnaHQgKiB0aGlzLmNhbWVyYS5hc3BlY3Q7XG5cbiAgICB0aGlzLnNpemVzID0ge1xuICAgICAgaGVpZ2h0LFxuICAgICAgd2lkdGgsXG4gICAgfTtcblxuICAgIGNvbnN0IHZhbHVlcyA9IHtzaXplczogdGhpcy5zaXplc31cblxuICAgIGlmICh0aGlzLmFib3V0KSB7XG4gICAgICB0aGlzLmFib3V0Lm9uUmVzaXplKHZhbHVlcyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY29sbGVjdGlvbnMpIHtcbiAgICAgIHRoaXMuY29sbGVjdGlvbnMub25SZXNpemUodmFsdWVzKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5ob21lKSB7XG4gICAgICB0aGlzLmhvbWUub25SZXNpemUodmFsdWVzKTtcbiAgICB9XG4gIH1cblxuICBvblRvdWNoRG93bihldmVudCkge1xuICAgIHRoaXMuaXNEb3duID0gdHJ1ZVxuICAgIHRoaXMueC5zdGFydCA9IGV2ZW50LnRvdWNoZXMgPyBldmVudC50b3VjaGVzWzBdLmNsaWVudFggOiBldmVudC5jbGllbnRYXG4gICAgdGhpcy55LnN0YXJ0ID0gZXZlbnQudG91Y2hlcyA/IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WSA6IGV2ZW50LmNsaWVudFlcblxuICAgIGNvbnN0IHZhbHVlcyA9IHtcbiAgICAgIHg6IHRoaXMueCxcbiAgICAgIHk6IHRoaXMueVxuICAgIH1cblxuICAgIGlmICh0aGlzLmFib3V0KSB7XG4gICAgICB0aGlzLmFib3V0Lm9uVG91Y2hEb3duKHZhbHVlcylcbiAgICB9XG5cbiAgICBpZiAodGhpcy5jb2xsZWN0aW9ucykge1xuICAgICAgdGhpcy5jb2xsZWN0aW9ucy5vblRvdWNoRG93bih2YWx1ZXMpXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaG9tZSkge1xuICAgICAgdGhpcy5ob21lLm9uVG91Y2hEb3duKHZhbHVlcylcbiAgICB9XG4gIH1cblxuICBvblRvdWNoTW92ZShldmVudCkge1xuICAgIGlmICghdGhpcy5pc0Rvd24pIHJldHVyblxuXG4gICAgY29uc3QgeCA9IGV2ZW50LnRvdWNoZXMgPyBldmVudC50b3VjaGVzWzBdLmNsaWVudFggOiBldmVudC5jbGllbnRYXG4gICAgY29uc3QgeSA9IGV2ZW50LnRvdWNoZXMgPyBldmVudC50b3VjaGVzWzBdLmNsaWVudFkgOiBldmVudC5jbGllbnRZXG5cbiAgICB0aGlzLnguZW5kID14XG4gICAgdGhpcy55LmVuZCA9eVxuXG5cbiAgICBjb25zdCB2YWx1ZXMgPSB7XG4gICAgICB4OiB0aGlzLngsXG4gICAgICB5OiB0aGlzLnlcbiAgICB9XG5cbiAgICBpZiAodGhpcy5hYm91dCkge1xuICAgICAgdGhpcy5hYm91dC5vblRvdWNoTW92ZSh2YWx1ZXMpXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY29sbGVjdGlvbnMpIHtcbiAgICAgIHRoaXMuY29sbGVjdGlvbnMub25Ub3VjaE1vdmUodmFsdWVzKVxuICAgIH1cblxuICAgIGlmICh0aGlzLmhvbWUpIHtcbiAgICAgIHRoaXMuaG9tZS5vblRvdWNoTW92ZSh2YWx1ZXMpXG4gICAgfVxuICB9XG5cbiAgb25Ub3VjaFVwKGV2ZW50KSB7XG4gICAgdGhpcy5pc0Rvd24gPSBmYWxzZVxuICAgIGNvbnN0IHggPSBldmVudC5jaGFuZ2VkVG91Y2hlcyA/IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFggOiBldmVudC5jbGllbnRYXG4gICAgY29uc3QgeSA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzID8gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WSA6IGV2ZW50LmNsaWVudFlcblxuICAgIHRoaXMueC5lbmQgPXhcbiAgICB0aGlzLnkuZW5kID15XG5cbiAgICBjb25zdCB2YWx1ZXMgPSB7XG4gICAgICB4OiB0aGlzLngsXG4gICAgICB5OiB0aGlzLnlcbiAgICB9XG5cbiAgICBpZiAodGhpcy5hYm91dCkge1xuICAgICAgdGhpcy5hYm91dC5vblRvdWNoVXAodmFsdWVzKVxuICAgIH1cblxuICAgIGlmICh0aGlzLmNvbGxlY3Rpb25zKSB7XG4gICAgICB0aGlzLmNvbGxlY3Rpb25zLm9uVG91Y2hVcCh2YWx1ZXMpXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaG9tZSkge1xuICAgICAgdGhpcy5ob21lLm9uVG91Y2hVcCh2YWx1ZXMpXG4gICAgfVxuICB9XG5cbiAgb25XaGVlbChldmVudCl7XG4gICAgaWYodGhpcy5ob21lKXtcbiAgICAgIHRoaXMuaG9tZS5vbldoZWVsKGV2ZW50KVxuICAgIH1cblxuICAgIGlmKHRoaXMuY29sbGVjdGlvbnMpe1xuICAgICAgdGhpcy5jb2xsZWN0aW9ucy5vbldoZWVsKGV2ZW50KVxuICAgIH1cbiAgfVxuXG4gIC8vIExvb3BcbiAgdXBkYXRlKHNjcm9sbCkge1xuICAgIC8vIOWunuaXtua4suafk1xuICAgIC8vIHRoaXMubWVzaC5yb3RhdGlvbi54ICs9IDAuMDFcbiAgICAvLyB0aGlzLm1lc2gucm90YXRpb24ueSArPSAwLjAxXG4gICAgaWYodGhpcy5hYm91dCl7XG4gICAgICB0aGlzLmFib3V0LnVwZGF0ZShzY3JvbGwpXG4gICAgfVxuICAgIC8vIOWboOS4uuWPquaciWFib3V0IHBhZ2XmnInkuIvmu5FcblxuICAgIGlmKHRoaXMuY29sbGVjdGlvbnMpe1xuICAgICAgdGhpcy5jb2xsZWN0aW9ucy51cGRhdGUoKVxuICAgIH1cblxuICAgIGlmKHRoaXMuaG9tZSl7XG4gICAgICB0aGlzLmhvbWUudXBkYXRlKClcbiAgICB9XG5cbiAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih7XG4gICAgICBjYW1lcmE6IHRoaXMuY2FtZXJhLFxuICAgICAgc2NlbmU6IHRoaXMuc2NlbmVcbiAgICB9KVxuICB9XG59IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5oID0gKCkgPT4gKFwiNWVlZDg0ZmQ1MjQwYWVhNjdiYjZcIikiXSwibmFtZXMiOlsiQ2FudmFzIiwiY29uc3RydWN0b3IiLCJ0ZW1wbGF0ZSIsInRoaXMiLCJ4Iiwic3RhcnQiLCJkaXN0YW5jZSIsImVuZCIsInkiLCJjcmVhdGVSZW5kZXJlciIsImNyZWF0ZUNhbWVyYSIsImNyZWF0ZVNjZW5lIiwib25SZXNpemUiLCJvbkNoYW5nZUVuZCIsInJlbmRlcmVyIiwiUmVuZGVyZXIiLCJhbHBoYSIsImFudGlhbGlhcyIsImdsIiwiZG9jdW1lbnQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJjYW52YXMiLCJjYW1lcmEiLCJDYW1lcmEiLCJwb3NpdGlvbiIsInoiLCJzY2VuZSIsIlRyYW5zZm9ybSIsImNyZWF0ZUhvbWUiLCJob21lIiwiSG9tZSIsInNpemVzIiwiZGVzdHJveUhvbWUiLCJkZXN0cm95IiwiY3JlYXRlQWJvdXQiLCJhYm91dCIsIkFib3V0IiwiZGVzdHJveUFib3V0IiwiY3JlYXRlQ29sbGVjdGlvbnMiLCJjb2xsZWN0aW9ucyIsIkNvbGxlY3Rpb25zIiwiZGVzdHJveUNvbGxlY3Rpb25zIiwib25DaGFuZ2VTdGFydCIsImhpZGUiLCJzdHlsZSIsInpJbmRleCIsImRlc3Ryb3lDb2xsZWNyZWF0ZUNvbGxlY3Rpb25zIiwic2V0U2l6ZSIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsInBlcnNwZWN0aXZlIiwiYXNwZWN0IiwiZm92IiwiTWF0aCIsIlBJIiwiaGVpZ2h0IiwidGFuIiwid2lkdGgiLCJ2YWx1ZXMiLCJvblRvdWNoRG93biIsImV2ZW50IiwiaXNEb3duIiwidG91Y2hlcyIsImNsaWVudFgiLCJjbGllbnRZIiwib25Ub3VjaE1vdmUiLCJvblRvdWNoVXAiLCJjaGFuZ2VkVG91Y2hlcyIsIm9uV2hlZWwiLCJ1cGRhdGUiLCJzY3JvbGwiLCJyZW5kZXIiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiaCJdLCJzb3VyY2VSb290IjoiIn0=