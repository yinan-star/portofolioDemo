/*! For license information please see main.5f77b2d64775c4a7b21a.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdatefloema("main",{"./app/classes/Detection.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>n});const n=new class{isPhone(){return this.isPhoneChecked||(this.isPhoneChecked=!0,this.isPhoneChecked=document.doucumentElement.classLiast.contains("phone")),this.isPhoneChecked}isTablet(){return this.isTabletChecked||(this.isTabletChecked=!0,this.isTabletChecked=document.doucumentElement.classLiast.contains("tablet")),this.isTabletChecked}isDesktop(){return this.isDesktopChecked||(this.isDesktopChecked=!0,this.isDesktopChecked=document.doucumentElement.classLiast.contains("desktop")),this.isDesktopChecked}}},"./app/index.js":(e,t,s)=>{s.r(t);var n=s("./node_modules/lodash/each.js"),a=s.n(n),i=s("./node_modules/normalize-wheel/index.js"),o=s.n(i),h=(s("./app/classes/Detection.js"),s("./app/components/Canvas/index.js")),c=s("./app/components/Navigation.js"),d=s("./app/components/Preloader.js"),p=s("./app/pages/About/About.js"),l=s("./app/pages/Collections/Collections.js"),r=s("./app/pages/Detail/Detail.js"),u=s("./app/pages/Home/index.js");new class{constructor(){this.createContent(),this.createCanvas(),this.createPreloader(),this.createNavigation(),this.createPages(),this.addLinkListeners(),this.addEventListeners(),this.onResize(),this.update()}createNavigation(){this.navigation=new c.default({template:this.template})}createPreloader(){this.preloader=new d.default({canvas:this.canvas}),this.preloader.once("completed",this.onPreloaded.bind(this))}createCanvas(){this.canvas=new h.default({template:this.template})}createContent(){this.content=document.querySelector(".content"),this.template=this.content.getAttribute("data-template")}createPages(){this.pages={about:new p.default,collections:new l.default,detail:new r.default,home:new u.default},this.page=this.pages[this.template],this.page.create()}onPreloaded(){this.onResize(),this.canvas.onPreloaded(),this.page.show()}onPopState(){this.onChange({url:window.location.pathname,push:!1})}async onChange({url:e,push:t=!0}){this.canvas.onChangeStart(this.template,e),await this.page.hide();const s=await window.fetch(e);if(200===s.status){const n=await s.text(),a=document.createElement("div");t&&window.history.pushState({},"",e),a.innerHTML=n;const i=a.querySelector(".content");this.template=i.getAttribute("data-template"),this.navigation.onChange(this.template),this.content.setAttribute("data-template",this.template),this.content.innerHTML=i.innerHTML,this.canvas.onChangeEnd(this.template),this.page=this.pages[this.template],this.page.create(),this.onResize(),this.page.show(),this.addLinkListeners()}else console.log("Error");console.log(s)}onResize(){window.requestAnimationFrame((e=>{this.canvas&&this.canvas.onResize&&this.canvas.onResize()})),this.page&&this.page.onResize&&this.page.onResize()}onTouchDown(e){this.canvas&&this.canvas.onTouchDown&&this.canvas.onTouchDown(e)}onTouchMove(e){this.canvas&&this.canvas.onTouchMove&&this.canvas.onTouchMove(e)}onTouchUp(e){this.canvas&&this.canvas.onTouchUp&&this.canvas.onTouchUp(e)}onWheel(e){const t=o()(e);this.canvas&&this.canvas.onWheel&&this.canvas.onWheel(t),this.page&&this.page.onWheel&&this.page.onWheel(t)}update(){this.page&&this.page.update&&this.page.update(),this.canvas&&this.canvas.update&&this.canvas.update(this.page.scroll),this.frame=window.requestAnimationFrame(this.update.bind(this))}addEventListeners(){window.addEventListener("popstate",this.onPopState.bind(this)),window.addEventListener("mousewheel",this.onWheel.bind(this)),window.addEventListener("mousedown",this.onTouchDown.bind(this)),window.addEventListener("mousemove",this.onTouchMove.bind(this)),window.addEventListener("mouseup",this.onTouchUp.bind(this)),window.addEventListener("touchstart",this.onTouchDown.bind(this)),window.addEventListener("touchmove",this.onTouchMove.bind(this)),window.addEventListener("touchend",this.onTouchUp.bind(this)),window.addEventListener("resize",this.onResize.bind(this))}addLinkListeners(){const e=document.querySelectorAll("a");a()(e,(e=>{e.onclick=t=>{t.preventDefault();const{href:s}=e;this.onChange({url:s})}}))}}}},(function(e){e.h=()=>"b6edcffefee489e1b034"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi41Zjc3YjJkNjQ3NzVjNGE3YjIxYS5ob3QtdXBkYXRlLmpzIiwibWFwcGluZ3MiOiI7c0hBK0JBLE1BRUEsRUFGeUIsSUEvQnpCLE1BQ0lBLE9BQUFBLEdBTUksT0FMSUMsS0FBS0MsaUJBQ0xELEtBQUtDLGdCQUFpQixFQUV0QkQsS0FBS0MsZUFBaUJDLFNBQVNDLGlCQUFpQkMsV0FBV0MsU0FBUyxVQUVqRUwsS0FBS0MsY0FDaEIsQ0FFQUssUUFBQUEsR0FNSSxPQUxJTixLQUFLTyxrQkFDTFAsS0FBS08saUJBQWtCLEVBRXZCUCxLQUFLTyxnQkFBa0JMLFNBQVNDLGlCQUFpQkMsV0FBV0MsU0FBUyxXQUVsRUwsS0FBS08sZUFFaEIsQ0FFQUMsU0FBQUEsR0FNSSxPQUxJUixLQUFLUyxtQkFDTFQsS0FBS1Msa0JBQW1CLEVBRXhCVCxLQUFLUyxpQkFBbUJQLFNBQVNDLGlCQUFpQkMsV0FBV0MsU0FBUyxZQUVuRUwsS0FBS1MsZ0JBR2hCLDBiQ2tOSixJQWxPQSxNQUNFQyxXQUFBQSxHQUVFVixLQUFLVyxnQkFFTFgsS0FBS1ksZUFDTFosS0FBS2Esa0JBQ0xiLEtBQUtjLG1CQUVMZCxLQUFLZSxjQUVMZixLQUFLZ0IsbUJBQ0xoQixLQUFLaUIsb0JBRUxqQixLQUFLa0IsV0FFTGxCLEtBQUttQixRQUVQLENBRUFMLGdCQUFBQSxHQUNFZCxLQUFLb0IsV0FBYSxJQUFJQyxFQUFBQSxRQUFXLENBQUVDLFNBQVV0QixLQUFLc0IsVUFDcEQsQ0FFQVQsZUFBQUEsR0FDRWIsS0FBS3VCLFVBQVksSUFBSUMsRUFBQUEsUUFBVSxDQUM3QkMsT0FBUXpCLEtBQUt5QixTQUVmekIsS0FBS3VCLFVBQVVHLEtBQUssWUFBYTFCLEtBQUsyQixZQUFZQyxLQUFLNUIsTUFDekQsQ0FFQVksWUFBQUEsR0FDRVosS0FBS3lCLE9BQVMsSUFBSUksRUFBQUEsUUFBTyxDQUN2QlAsU0FBVXRCLEtBQUtzQixVQUVuQixDQUVBWCxhQUFBQSxHQUNFWCxLQUFLOEIsUUFBVTVCLFNBQVM2QixjQUFjLFlBQ3RDL0IsS0FBS3NCLFNBQVd0QixLQUFLOEIsUUFBUUUsYUFBYSxnQkFDNUMsQ0FFQWpCLFdBQUFBLEdBRUVmLEtBQUtpQyxNQUFRLENBQ1hDLE1BQU8sSUFBSUMsRUFBQUEsUUFDWEMsWUFBYSxJQUFJQyxFQUFBQSxRQUNqQkMsT0FBUSxJQUFJQyxFQUFBQSxRQUNaQyxLQUFNLElBQUlDLEVBQUFBLFNBRVp6QyxLQUFLMEMsS0FBTzFDLEtBQUtpQyxNQUFNakMsS0FBS3NCLFVBRTVCdEIsS0FBSzBDLEtBQUtDLFFBR1osQ0FLQWhCLFdBQUFBLEdBQ0UzQixLQUFLa0IsV0FFTGxCLEtBQUt5QixPQUFPRSxjQUNaM0IsS0FBSzBDLEtBQUtFLE1BRVosQ0FFQUMsVUFBQUEsR0FDRTdDLEtBQUs4QyxTQUFTLENBQ1pDLElBQUtDLE9BQU9DLFNBQVNDLFNBQ3JCQyxNQUFNLEdBRVYsQ0FHQSxjQUFNTCxFQUFTLElBQUVDLEVBQUcsS0FBRUksR0FBSyxJQUN6Qm5ELEtBQUt5QixPQUFPMkIsY0FBY3BELEtBQUtzQixTQUFVeUIsU0FFbkMvQyxLQUFLMEMsS0FBS1csT0FFaEIsTUFBTUMsUUFBZ0JOLE9BQU9PLE1BQU1SLEdBRW5DLEdBQXVCLE1BQW5CTyxFQUFRRSxPQUFnQixDQUMxQixNQUFNQyxRQUFhSCxFQUFRSSxPQUNyQkMsRUFBTXpELFNBQVMwRCxjQUFjLE9BRWhDVCxHQUNESCxPQUFPYSxRQUFRQyxVQUFVLENBQUMsRUFBRyxHQUFJZixHQU1uQ1ksRUFBSUksVUFBWU4sRUFFaEIsTUFBTU8sRUFBYUwsRUFBSTVCLGNBQWMsWUFFckMvQixLQUFLc0IsU0FBVzBDLEVBQVdoQyxhQUFhLGlCQUd4Q2hDLEtBQUtvQixXQUFXMEIsU0FBUzlDLEtBQUtzQixVQUU5QnRCLEtBQUs4QixRQUFRbUMsYUFBYSxnQkFBaUJqRSxLQUFLc0IsVUFDaER0QixLQUFLOEIsUUFBUWlDLFVBQVlDLEVBQVdELFVBRXBDL0QsS0FBS3lCLE9BQU95QyxZQUFZbEUsS0FBS3NCLFVBRTdCdEIsS0FBSzBDLEtBQU8xQyxLQUFLaUMsTUFBTWpDLEtBQUtzQixVQUc1QnRCLEtBQUswQyxLQUFLQyxTQUNWM0MsS0FBS2tCLFdBQ0xsQixLQUFLMEMsS0FBS0UsT0FDVjVDLEtBQUtnQixrQkFFUCxNQUVFbUQsUUFBUUMsSUFBSSxTQUlkRCxRQUFRQyxJQUFJZCxFQUNkLENBRUFwQyxRQUFBQSxHQUNFOEIsT0FBT3FCLHVCQUFzQkMsSUFDdkJ0RSxLQUFLeUIsUUFBVXpCLEtBQUt5QixPQUFPUCxVQUM3QmxCLEtBQUt5QixPQUFPUCxVQUNkLElBS0VsQixLQUFLMEMsTUFBUTFDLEtBQUswQyxLQUFLeEIsVUFDekJsQixLQUFLMEMsS0FBS3hCLFVBRWQsQ0FFQXFELFdBQUFBLENBQVlDLEdBQ054RSxLQUFLeUIsUUFBVXpCLEtBQUt5QixPQUFPOEMsYUFDN0J2RSxLQUFLeUIsT0FBTzhDLFlBQVlDLEVBSTVCLENBRUFDLFdBQUFBLENBQVlELEdBQ054RSxLQUFLeUIsUUFBVXpCLEtBQUt5QixPQUFPZ0QsYUFDN0J6RSxLQUFLeUIsT0FBT2dELFlBQVlELEVBRzVCLENBRUFFLFNBQUFBLENBQVVGLEdBQ0p4RSxLQUFLeUIsUUFBVXpCLEtBQUt5QixPQUFPaUQsV0FDN0IxRSxLQUFLeUIsT0FBT2lELFVBQVVGLEVBRTFCLENBRUFHLE9BQUFBLENBQVFILEdBQ04sTUFBTUksRUFBa0JDLElBQWVMLEdBQ25DeEUsS0FBS3lCLFFBQVV6QixLQUFLeUIsT0FBT2tELFNBQzdCM0UsS0FBS3lCLE9BQU9rRCxRQUFRQyxHQUlsQjVFLEtBQUswQyxNQUFRMUMsS0FBSzBDLEtBQUtpQyxTQUN6QjNFLEtBQUswQyxLQUFLaUMsUUFBUUMsRUFFdEIsQ0FPQXpELE1BQUFBLEdBRU1uQixLQUFLMEMsTUFBUTFDLEtBQUswQyxLQUFLdkIsUUFDekJuQixLQUFLMEMsS0FBS3ZCLFNBSVJuQixLQUFLeUIsUUFBVXpCLEtBQUt5QixPQUFPTixRQUM3Qm5CLEtBQUt5QixPQUFPTixPQUFPbkIsS0FBSzBDLEtBQUtvQyxRQUcvQjlFLEtBQUsrRSxNQUFRL0IsT0FBT3FCLHNCQUFzQnJFLEtBQUttQixPQUFPUyxLQUFLNUIsTUFDN0QsQ0FLQWlCLGlCQUFBQSxHQUNFK0IsT0FBT2dDLGlCQUFpQixXQUFZaEYsS0FBSzZDLFdBQVdqQixLQUFLNUIsT0FFekRnRCxPQUFPZ0MsaUJBQWlCLGFBQWNoRixLQUFLMkUsUUFBUS9DLEtBQUs1QixPQUV4RGdELE9BQU9nQyxpQkFBaUIsWUFBYWhGLEtBQUt1RSxZQUFZM0MsS0FBSzVCLE9BQzNEZ0QsT0FBT2dDLGlCQUFpQixZQUFhaEYsS0FBS3lFLFlBQVk3QyxLQUFLNUIsT0FDM0RnRCxPQUFPZ0MsaUJBQWlCLFVBQVdoRixLQUFLMEUsVUFBVTlDLEtBQUs1QixPQUV2RGdELE9BQU9nQyxpQkFBaUIsYUFBY2hGLEtBQUt1RSxZQUFZM0MsS0FBSzVCLE9BQzVEZ0QsT0FBT2dDLGlCQUFpQixZQUFhaEYsS0FBS3lFLFlBQVk3QyxLQUFLNUIsT0FDM0RnRCxPQUFPZ0MsaUJBQWlCLFdBQVloRixLQUFLMEUsVUFBVTlDLEtBQUs1QixPQUV4RGdELE9BQU9nQyxpQkFBaUIsU0FBVWhGLEtBQUtrQixTQUFTVSxLQUFLNUIsTUFDdkQsQ0FFQWdCLGdCQUFBQSxHQUVFLE1BQU1pRSxFQUFRL0UsU0FBU2dGLGlCQUFpQixLQUd4Q0MsSUFBS0YsR0FBUUcsSUFDWEEsRUFBS0MsUUFBV2IsSUFDZEEsRUFBTWMsaUJBRU4sTUFBTSxLQUFFQyxHQUFTSCxFQUVqQnBGLEtBQUs4QyxTQUFTLENBQUVDLElBQUt3QyxHQUFPLENBQzdCLEdBRUwsa0JDN09GQyxFQUFvQkMsRUFBSSxJQUFNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmxvZW1hLy4vYXBwL2NsYXNzZXMvRGV0ZWN0aW9uLmpzIiwid2VicGFjazovL2Zsb2VtYS8uL2FwcC9pbmRleC5qcyIsIndlYnBhY2s6Ly9mbG9lbWEvd2VicGFjay9ydW50aW1lL2dldEZ1bGxIYXNoIl0sInNvdXJjZXNDb250ZW50IjpbImNsYXNzIERldGVjdGlvbntcbiAgICBpc1Bob25lKCl7XG4gICAgICAgIGlmKCF0aGlzLmlzUGhvbmVDaGVja2VkKXtcbiAgICAgICAgICAgIHRoaXMuaXNQaG9uZUNoZWNrZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICB0aGlzLmlzUGhvbmVDaGVja2VkID0gZG9jdW1lbnQuZG91Y3VtZW50RWxlbWVudC5jbGFzc0xpYXN0LmNvbnRhaW5zKCdwaG9uZScpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaXNQaG9uZUNoZWNrZWQ7XG4gICAgfVxuXG4gICAgaXNUYWJsZXQoKXtcbiAgICAgICAgaWYoIXRoaXMuaXNUYWJsZXRDaGVja2VkKXtcbiAgICAgICAgICAgIHRoaXMuaXNUYWJsZXRDaGVja2VkID0gdHJ1ZTtcblxuICAgICAgICAgICAgdGhpcy5pc1RhYmxldENoZWNrZWQgPSBkb2N1bWVudC5kb3VjdW1lbnRFbGVtZW50LmNsYXNzTGlhc3QuY29udGFpbnMoJ3RhYmxldCcpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaXNUYWJsZXRDaGVja2VkO1xuXG4gICAgfVxuXG4gICAgaXNEZXNrdG9wKCl7XG4gICAgICAgIGlmKCF0aGlzLmlzRGVza3RvcENoZWNrZWQpe1xuICAgICAgICAgICAgdGhpcy5pc0Rlc2t0b3BDaGVja2VkID0gdHJ1ZTtcblxuICAgICAgICAgICAgdGhpcy5pc0Rlc2t0b3BDaGVja2VkID0gZG9jdW1lbnQuZG91Y3VtZW50RWxlbWVudC5jbGFzc0xpYXN0LmNvbnRhaW5zKCdkZXNrdG9wJylcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pc0Rlc2t0b3BDaGVja2VkO1xuXG5cbiAgICB9XG59XG5jb25zdCBEZXRlY3Rpb25NYW5hZ2VyID0gbmV3IERldGVjdGlvbigpO1xuXG5leHBvcnQgZGVmYXVsdCBEZXRlY3Rpb25NYW5hZ2VyOyIsIi8vIOWFs+S5juaVtOS4que9kemhteeahOWxleekuuS/oeaBr1xuaW1wb3J0IGVhY2ggZnJvbSAnbG9kYXNoL2VhY2gnO1xuaW1wb3J0IE5vcm1hbGl6ZVdoZWVsIGZyb20gJ25vcm1hbGl6ZS13aGVlbCdcbmltcG9ydCBEZXRlY3Rpb24gZnJvbSAnY2xhc3Nlcy9EZXRlY3Rpb24nXG5pbXBvcnQgQ2FudmFzIGZyb20gJ2NvbXBvbmVudHMvQ2FudmFzJztcbmltcG9ydCBOYXZpZ2F0aW9uIGZyb20gJy4vY29tcG9uZW50cy9OYXZpZ2F0aW9uJztcbmltcG9ydCBQcmVsb2FkZXIgZnJvbSAnY29tcG9uZW50cy9QcmVsb2FkZXInXG5cbmltcG9ydCBBYm91dCBmcm9tIFwiLi9wYWdlcy9BYm91dC9BYm91dFwiO1xuaW1wb3J0IENvbGxlY3Rpb25zIGZyb20gXCIuL3BhZ2VzL0NvbGxlY3Rpb25zL0NvbGxlY3Rpb25zXCI7XG5pbXBvcnQgRGV0YWlsIGZyb20gXCIuL3BhZ2VzL0RldGFpbC9EZXRhaWxcIjtcbmltcG9ydCBIb21lIGZyb20gXCIuL3BhZ2VzL0hvbWVcIjtcblxuY2xhc3MgQXBwIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLy8g5Y+s5ZSkXG4gICAgdGhpcy5jcmVhdGVDb250ZW50KClcblxuICAgIHRoaXMuY3JlYXRlQ2FudmFzKClcbiAgICB0aGlzLmNyZWF0ZVByZWxvYWRlcigpXG4gICAgdGhpcy5jcmVhdGVOYXZpZ2F0aW9uKClcblxuICAgIHRoaXMuY3JlYXRlUGFnZXMoKVxuXG4gICAgdGhpcy5hZGRMaW5rTGlzdGVuZXJzKCk7XG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVycygpO1xuXG4gICAgdGhpcy5vblJlc2l6ZSgpXG5cbiAgICB0aGlzLnVwZGF0ZSgpO1xuXG4gIH1cbiAgLy8g5Yid5aeL5YyW57G7XG4gIGNyZWF0ZU5hdmlnYXRpb24oKSB7XG4gICAgdGhpcy5uYXZpZ2F0aW9uID0gbmV3IE5hdmlnYXRpb24oeyB0ZW1wbGF0ZTogdGhpcy50ZW1wbGF0ZSB9KTtcbiAgfVxuXG4gIGNyZWF0ZVByZWxvYWRlcigpIHtcbiAgICB0aGlzLnByZWxvYWRlciA9IG5ldyBQcmVsb2FkZXIoe1xuICAgICAgY2FudmFzOiB0aGlzLmNhbnZhc1xuICAgIH0pXG4gICAgdGhpcy5wcmVsb2FkZXIub25jZSgnY29tcGxldGVkJywgdGhpcy5vblByZWxvYWRlZC5iaW5kKHRoaXMpKVxuICB9XG5cbiAgY3JlYXRlQ2FudmFzKCkge1xuICAgIHRoaXMuY2FudmFzID0gbmV3IENhbnZhcyh7XG4gICAgICB0ZW1wbGF0ZTogdGhpcy50ZW1wbGF0ZVxuICAgIH0pXG4gIH1cblxuICBjcmVhdGVDb250ZW50KCkge1xuICAgIHRoaXMuY29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250ZW50Jyk7IC8vREVTOiBzZWxlY3RpbmcgdGhlIGNvbnRlbnQgY2xhc3NcbiAgICB0aGlzLnRlbXBsYXRlID0gdGhpcy5jb250ZW50LmdldEF0dHJpYnV0ZSgnZGF0YS10ZW1wbGF0ZScpOyAvL0RFUzogZ2V0dGluZyB0aGUgZGF0YXNldC10ZW1wbGF0ZVxuICB9XG5cbiAgY3JlYXRlUGFnZXMoKSB7XG4gICAgLy8g5Yid5aeL5YyW6aG16Z2iLOWFiOW7uuaWh+aho++8jOWcqOWGmei/meS4qu+8jOS7luS8muiHquWKqOW8ueWHumltcG9ydFxuICAgIHRoaXMucGFnZXMgPSB7XG4gICAgICBhYm91dDogbmV3IEFib3V0KCksXG4gICAgICBjb2xsZWN0aW9uczogbmV3IENvbGxlY3Rpb25zKCksXG4gICAgICBkZXRhaWw6IG5ldyBEZXRhaWwoKSxcbiAgICAgIGhvbWU6IG5ldyBIb21lKCksXG4gICAgfVxuICAgIHRoaXMucGFnZSA9IHRoaXMucGFnZXNbdGhpcy50ZW1wbGF0ZV1cbiAgICAvLyDkvaDlnKjlk6rkuKrpobXpnaLlsLHmuLLmn5Pkuoblk6rkuKrpobXpnaLvvIxkYXRhMHRlbXBhbHRl5a6D5L2/5b6X5L2g5Y+v5Lul5ZyoIEhUTUwg5YWD57Sg5Lit5a2Y5YKo5pWw5o2u77yM54S25ZCO6YCa6L+HIEphdmFTY3JpcHQg5p2l6K+75Y+W5ZKM5L2/55So6L+Z5Lqb5pWw5o2u77yMXG4gICAgdGhpcy5wYWdlLmNyZWF0ZSgpXG5cblxuICB9XG5cbiAgLyoqXG4gICAqIEV2ZW50c1xuICAgKi9cbiAgb25QcmVsb2FkZWQoKSB7XG4gICAgdGhpcy5vblJlc2l6ZSgpXG5cbiAgICB0aGlzLmNhbnZhcy5vblByZWxvYWRlZCgpXG4gICAgdGhpcy5wYWdlLnNob3coKVxuICAgIC8vIOmUgOavgS3ph43mlrDlrprkuYnlsLrlr7gt6aG16Z2i5bGV56S6XG4gIH1cblxuICBvblBvcFN0YXRlKCkge1xuICAgIHRoaXMub25DaGFuZ2Uoe1xuICAgICAgdXJsOiB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUsXG4gICAgICBwdXNoOiBmYWxzZVxuICAgIH0pXG4gIH1cbiAgLy8g5rWP6KeI5Zmo6L+U5Zue6ZSu6LW35L2c55SoXG5cbiAgYXN5bmMgb25DaGFuZ2UoeyB1cmwsIHB1c2g9dHJ1ZSB9KSB7Ly8g5ZCM5q2laHRtbOmHjOeahHVybOmTvuaOpe+8jOS9v+W+l+WcqGNoZWNr5pe25LiN5Lya55yL5Yiw5rKh5pyJ5pu05paw55qEY29udGVudOWQjeWtl1xuICAgIHRoaXMuY2FudmFzLm9uQ2hhbmdlU3RhcnQodGhpcy50ZW1wbGF0ZSwgdXJsKVxuXG4gICAgYXdhaXQgdGhpcy5wYWdlLmhpZGUoKVxuICAgIC8vIOW9k+eCueWHu+aXtu+8jOW9k+WJjemhtemdouS8muiiq+makOiXj1xuICAgIGNvbnN0IHJlcXVlc3QgPSBhd2FpdCB3aW5kb3cuZmV0Y2godXJsKVxuXG4gICAgaWYgKHJlcXVlc3Quc3RhdHVzID09PSAyMDApIHtcbiAgICAgIGNvbnN0IGh0bWwgPSBhd2FpdCByZXF1ZXN0LnRleHQoKVxuICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcblxuICAgICAgaWYocHVzaCl7XG4gICAgICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSh7fSwgJycsIHVybClcbiAgICAgIH1cbiAgICAgXG4gICAgICAvLyDlsLHmmK/or7TkvaDngrnlh7vlk6rkuKrpobXpnaIsdXJs55qE5ZCO57yA5bCx5piv5ZOq5Liq6aG16Z2i55qEL2NvbGxlY3Rpc29ucyBvciAvYWJvdXQgb3IgL3NsYXNoIGhvbWVcblxuXG4gICAgICBkaXYuaW5uZXJIVE1MID0gaHRtbFxuXG4gICAgICBjb25zdCBkaXZDb250ZW50ID0gZGl2LnF1ZXJ5U2VsZWN0b3IoJy5jb250ZW50JylcblxuICAgICAgdGhpcy50ZW1wbGF0ZSA9IGRpdkNvbnRlbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXRlbXBsYXRlJylcblxuXG4gICAgICB0aGlzLm5hdmlnYXRpb24ub25DaGFuZ2UodGhpcy50ZW1wbGF0ZSlcblxuICAgICAgdGhpcy5jb250ZW50LnNldEF0dHJpYnV0ZSgnZGF0YS10ZW1wbGF0ZScsIHRoaXMudGVtcGxhdGUpXG4gICAgICB0aGlzLmNvbnRlbnQuaW5uZXJIVE1MID0gZGl2Q29udGVudC5pbm5lckhUTUxcblxuICAgICAgdGhpcy5jYW52YXMub25DaGFuZ2VFbmQodGhpcy50ZW1wbGF0ZSlcblxuICAgICAgdGhpcy5wYWdlID0gdGhpcy5wYWdlc1t0aGlzLnRlbXBsYXRlXVxuICAgICAgLy8g6L+Z5LiqdGVtcGxhdGXmmK/mlrDnmoTpobXpnaLnmoR0ZW1wbGF0ZVxuXG4gICAgICB0aGlzLnBhZ2UuY3JlYXRlKClcbiAgICAgIHRoaXMub25SZXNpemUoKVxuICAgICAgdGhpcy5wYWdlLnNob3coKVxuICAgICAgdGhpcy5hZGRMaW5rTGlzdGVuZXJzKClcbiAgICAgIC8vIOi/memHjOWPiOWGmeS4gOmBjeaYr+WboOS4uuWcqOWIm+W7uuaWsOeahOmhtemdouS5i+WQju+8jOacieS6m+mhtemdoumHjOmdoui/mOacieaWsOeahOmTvuaOpe+8jOaJgOS7peWcqOaOieS4gOasoei/meS4quaWueazlVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKCdFcnJvcicpXG4gICAgfVxuXG4gICAgLy8gaWYgKHJlcXVlc3Quc3RhdHVzKVxuICAgIGNvbnNvbGUubG9nKHJlcXVlc3QpXG4gIH1cblxuICBvblJlc2l6ZSgpIHtcbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKF8gPT4ge1xuICAgICAgaWYgKHRoaXMuY2FudmFzICYmIHRoaXMuY2FudmFzLm9uUmVzaXplKSB7XG4gICAgICAgIHRoaXMuY2FudmFzLm9uUmVzaXplKCk7XG4gICAgICB9XG4gICAgICAvLyDlpITnkIbnqpflj6PosIPmlbTlpKflsI/kuovku7bnmoTlh73mlbDjgILlvZPmtY/op4jlmajnqpflj6PlpKflsI/mlLnlj5jml7bvvIjmr5TlpoLnlKjmiLfosIPmlbTnqpflj6PlpKflsI/miJbogIXorr7lpIflj5HnlJ/ml4vovazvvInvvIzkvJrop6blj5Egb25SZXNpemUg5Ye95pWw44CCXG4gICAgfSlcblxuXG4gICAgaWYgKHRoaXMucGFnZSAmJiB0aGlzLnBhZ2Uub25SZXNpemUpIHtcbiAgICAgIHRoaXMucGFnZS5vblJlc2l6ZSgpO1xuICAgIH1cbiAgfVxuXG4gIG9uVG91Y2hEb3duKGV2ZW50KSB7XG4gICAgaWYgKHRoaXMuY2FudmFzICYmIHRoaXMuY2FudmFzLm9uVG91Y2hEb3duKSB7XG4gICAgICB0aGlzLmNhbnZhcy5vblRvdWNoRG93bihldmVudCk7XG4gICAgfVxuXG5cbiAgfVxuXG4gIG9uVG91Y2hNb3ZlKGV2ZW50KSB7XG4gICAgaWYgKHRoaXMuY2FudmFzICYmIHRoaXMuY2FudmFzLm9uVG91Y2hNb3ZlKSB7XG4gICAgICB0aGlzLmNhbnZhcy5vblRvdWNoTW92ZShldmVudCk7XG4gICAgfVxuXG4gIH1cblxuICBvblRvdWNoVXAoZXZlbnQpIHtcbiAgICBpZiAodGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMub25Ub3VjaFVwKSB7XG4gICAgICB0aGlzLmNhbnZhcy5vblRvdWNoVXAoZXZlbnQpO1xuICAgIH1cbiAgfVxuXG4gIG9uV2hlZWwoZXZlbnQpIHtcbiAgICBjb25zdCBub3JtYWxpemVkV2hlZWwgPSBOb3JtYWxpemVXaGVlbChldmVudCk7XG4gICAgaWYgKHRoaXMuY2FudmFzICYmIHRoaXMuY2FudmFzLm9uV2hlZWwpIHtcbiAgICAgIHRoaXMuY2FudmFzLm9uV2hlZWwobm9ybWFsaXplZFdoZWVsKTtcbiAgICAgIC8vIOiwg+eUqOeUu+W4g+eahG9uV2hlZWznmoTmlrnms5XvvIzlubblsIbmoIflh4bljJblpITnkIblkI7nmoTmu5rliqjlgLzkvZzkuLrlj4LmlbDkvKDov5vljrtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5wYWdlICYmIHRoaXMucGFnZS5vbldoZWVsKSB7XG4gICAgICB0aGlzLnBhZ2Uub25XaGVlbChub3JtYWxpemVkV2hlZWwpO1xuICAgIH1cbiAgfVxuXG5cbiAgLyoqXG4gICAqIExvb3BcbiAgICovXG5cbiAgdXBkYXRlKCkgeyAvLyDliqjnlLvmiJbpobXpnaLmm7TmlrDnmoTlvqrnjq9cblxuICAgIGlmICh0aGlzLnBhZ2UgJiYgdGhpcy5wYWdlLnVwZGF0ZSkge1xuICAgICAgdGhpcy5wYWdlLnVwZGF0ZSgpO1xuICAgIH1cbiAgICAvLyDlhYjmuLLmn5PpobXpnaLvvIzlm6DkuLrmnIljb3JyZWN0IFkgcG9zaXRpb27vvIzmiYDku6XlkI7pnaLnmoRjYW52YXPnmoRZ5Lmf5Lya6Lef552A5pu05pawXG5cbiAgICBpZiAodGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMudXBkYXRlKSB7XG4gICAgICB0aGlzLmNhbnZhcy51cGRhdGUodGhpcy5wYWdlLnNjcm9sbCk7XG4gICAgfVxuXG4gICAgdGhpcy5mcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy51cGRhdGUuYmluZCh0aGlzKSk7XG4gIH1cblxuICAvKipcbiAgICogTGlzdGVuZXJzXG4gICAqL1xuICBhZGRFdmVudExpc3RlbmVycygpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9wc3RhdGUnLCB0aGlzLm9uUG9wU3RhdGUuYmluZCh0aGlzKSlcbiAgICAvLyDmtY/op4jlmajov5Tlm57plK7otbfkvZznlKhcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V3aGVlbCcsIHRoaXMub25XaGVlbC5iaW5kKHRoaXMpKVxuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Ub3VjaERvd24uYmluZCh0aGlzKSlcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vblRvdWNoTW92ZS5iaW5kKHRoaXMpKVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vblRvdWNoVXAuYmluZCh0aGlzKSlcbiAgICAvLyDnlLXohJHnq6/nmoRcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMub25Ub3VjaERvd24uYmluZCh0aGlzKSlcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5vblRvdWNoTW92ZS5iaW5kKHRoaXMpKVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMub25Ub3VjaFVwLmJpbmQodGhpcykpXG4gICAgLy8g56e75Yqo56uv55qEXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMub25SZXNpemUuYmluZCh0aGlzKSk7XG4gIH1cblxuICBhZGRMaW5rTGlzdGVuZXJzKCkgey8vIOmTvuaOpei3s+i9rOWkhOeQhlxuXG4gICAgY29uc3QgbGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdhJylcbiAgICAvLyDpgInmi6nmiYDmnInpk77mjqXvvIxsaW5rc+aYr+aVsOe7hFxuXG4gICAgZWFjaChsaW5rcywgKGxpbmspID0+IHtcbiAgICAgIGxpbmsub25jbGljayA9IChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICAgICAgY29uc3QgeyBocmVmIH0gPSBsaW5rXG5cbiAgICAgICAgdGhpcy5vbkNoYW5nZSh7IHVybDogaHJlZiB9KVxuICAgICAgfVxuICAgIH0pXG4gIH1cbn1cbm5ldyBBcHAoKSIsIl9fd2VicGFja19yZXF1aXJlX18uaCA9ICgpID0+IChcImI2ZWRjZmZlZmVlNDg5ZTFiMDM0XCIpIl0sIm5hbWVzIjpbImlzUGhvbmUiLCJ0aGlzIiwiaXNQaG9uZUNoZWNrZWQiLCJkb2N1bWVudCIsImRvdWN1bWVudEVsZW1lbnQiLCJjbGFzc0xpYXN0IiwiY29udGFpbnMiLCJpc1RhYmxldCIsImlzVGFibGV0Q2hlY2tlZCIsImlzRGVza3RvcCIsImlzRGVza3RvcENoZWNrZWQiLCJjb25zdHJ1Y3RvciIsImNyZWF0ZUNvbnRlbnQiLCJjcmVhdGVDYW52YXMiLCJjcmVhdGVQcmVsb2FkZXIiLCJjcmVhdGVOYXZpZ2F0aW9uIiwiY3JlYXRlUGFnZXMiLCJhZGRMaW5rTGlzdGVuZXJzIiwiYWRkRXZlbnRMaXN0ZW5lcnMiLCJvblJlc2l6ZSIsInVwZGF0ZSIsIm5hdmlnYXRpb24iLCJOYXZpZ2F0aW9uIiwidGVtcGxhdGUiLCJwcmVsb2FkZXIiLCJQcmVsb2FkZXIiLCJjYW52YXMiLCJvbmNlIiwib25QcmVsb2FkZWQiLCJiaW5kIiwiQ2FudmFzIiwiY29udGVudCIsInF1ZXJ5U2VsZWN0b3IiLCJnZXRBdHRyaWJ1dGUiLCJwYWdlcyIsImFib3V0IiwiQWJvdXQiLCJjb2xsZWN0aW9ucyIsIkNvbGxlY3Rpb25zIiwiZGV0YWlsIiwiRGV0YWlsIiwiaG9tZSIsIkhvbWUiLCJwYWdlIiwiY3JlYXRlIiwic2hvdyIsIm9uUG9wU3RhdGUiLCJvbkNoYW5nZSIsInVybCIsIndpbmRvdyIsImxvY2F0aW9uIiwicGF0aG5hbWUiLCJwdXNoIiwib25DaGFuZ2VTdGFydCIsImhpZGUiLCJyZXF1ZXN0IiwiZmV0Y2giLCJzdGF0dXMiLCJodG1sIiwidGV4dCIsImRpdiIsImNyZWF0ZUVsZW1lbnQiLCJoaXN0b3J5IiwicHVzaFN0YXRlIiwiaW5uZXJIVE1MIiwiZGl2Q29udGVudCIsInNldEF0dHJpYnV0ZSIsIm9uQ2hhbmdlRW5kIiwiY29uc29sZSIsImxvZyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIl8iLCJvblRvdWNoRG93biIsImV2ZW50Iiwib25Ub3VjaE1vdmUiLCJvblRvdWNoVXAiLCJvbldoZWVsIiwibm9ybWFsaXplZFdoZWVsIiwiTm9ybWFsaXplV2hlZWwiLCJzY3JvbGwiLCJmcmFtZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJsaW5rcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlYWNoIiwibGluayIsIm9uY2xpY2siLCJwcmV2ZW50RGVmYXVsdCIsImhyZWYiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiaCJdLCJzb3VyY2VSb290IjoiIn0=