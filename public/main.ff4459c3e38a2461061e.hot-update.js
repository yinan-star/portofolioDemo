/*! For license information please see main.ff4459c3e38a2461061e.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdatefloema("main",{"./app/components/Canvas/index.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>r});var i=s("./node_modules/ogl/src/core/Renderer.js"),o=s("./node_modules/ogl/src/core/Camera.js"),h=s("./node_modules/ogl/src/core/Transform.js"),n=s("./app/components/Canvas/home/index.js"),c=s("./app/components/Canvas/about/index.js"),l=s("./app/components/Canvas/collections/index.js"),a=s("./app/components/Canvas/Transition.js");class r{constructor({template:e}){this.template=e,this.x={start:0,distance:0,end:0},this.y={start:0,distance:0,end:0},this.createRenderer(),this.createCamera(),this.createScene(),this.onResize()}createRenderer(){this.renderer=new i.Renderer({alpha:!0,antialias:!0}),this.gl=this.renderer.gl,document.body.appendChild(this.gl.canvas)}createCamera(){this.camera=new o.Camera(this.gl),this.camera.position.z=5}createScene(){this.scene=new h.Transform}createHome(){this.home=new n.default({gl:this.gl,scene:this.scene,sizes:this.sizes})}destroyHome(){this.home&&(this.home.destroy(),this.home=null)}createAbout(){this.about=new c.default({gl:this.gl,scene:this.scene,sizes:this.sizes})}destroyAbout(){this.about&&(this.about.destroy(),this.about=null)}createCollections(){this.collections=new l.default({gl:this.gl,scene:this.scene,sizes:this.sizes})}destroyCollections(){this.collections&&(this.collections.destroy(),this.collections=null)}onPreloaded(){this.onChangeEnd(this.template)}onChangeStart(e,t){this.about&&this.about.hide(),this.collections&&this.collections.hide(),this.home&&this.home.hide(),this.isFromCollectionsToDetail="collections"===this.template&&t.indexOf("detail")>-1,this.isFromDetailToCollections="detail"===this.template&&t.indexOf("collections")>-1,(this.isFromCollectionsToDetail||this.isFromDetailToCollections)&&(this.transition=new a.default({collections:this.collections,gl:this.gl,scene:this.scene,sizes:this.sizes,url:t}))}onChangeEnd(e){"about"===e?this.createAbout():this.about&&this.destroyAbout(),"collections"===e?this.createCollections():this.collections&&this.destroyCollections(),"home"===e?this.createHome():this.destroyHome(),this.template=e}onResize(){this.renderer.setSize(window.innerWidth,window.innerHeight),this.camera.perspective({aspect:window.innerWidth/window.innerHeight});const e=this.camera.fov*(Math.PI/180),t=2*Math.tan(e/2)*this.camera.position.z,s=t*this.camera.aspect;this.sizes={height:t,width:s};const i={sizes:this.sizes};this.about&&this.about.onResize(i),this.collections&&this.collections.onResize(i),this.home&&this.home.onResize(i)}onTouchDown(e){this.isDown=!0,this.x.start=e.touches?e.touches[0].clientX:e.clientX,this.y.start=e.touches?e.touches[0].clientY:e.clientY;const t={x:this.x,y:this.y};this.about&&this.about.onTouchDown(t),this.collections&&this.collections.onTouchDown(t),this.home&&this.home.onTouchDown(t)}onTouchMove(e){if(!this.isDown)return;const t=e.touches?e.touches[0].clientX:e.clientX,s=e.touches?e.touches[0].clientY:e.clientY;this.x.end=t,this.y.end=s;const i={x:this.x,y:this.y};this.about&&this.about.onTouchMove(i),this.collections&&this.collections.onTouchMove(i),this.home&&this.home.onTouchMove(i)}onTouchUp(e){this.isDown=!1;const t=e.changedTouches?e.changedTouches[0].clientX:e.clientX,s=e.changedTouches?e.changedTouches[0].clientY:e.clientY;this.x.end=t,this.y.end=s;const i={x:this.x,y:this.y};this.about&&this.about.onTouchUp(i),this.collections&&this.collections.onTouchUp(i),this.home&&this.home.onTouchUp(i)}onWheel(e){this.home&&this.home.onWheel(e),this.collections&&this.collections.onWheel(e)}update(e){this.about&&this.about.update(e),this.collections&&this.collections.update(),this.home&&this.home.update(),this.renderer.render({camera:this.camera,scene:this.scene})}}}},(function(e){e.h=()=>"c211d56d160ef9f7e41d"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFLMEIsS0FBSzhDLFNBR1p4RSxLQUFLVSxTQUFTZ0UsT0FBTyxDQUNuQnZELE9BQVFuQixLQUFLbUIsT0FDYkksTUFBT3ZCLEtBQUt1QixPQUVoQixrQkN6VUZvRCxFQUFvQkMsRUFBSSxJQUFNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmxvZW1hLy4vYXBwL2NvbXBvbmVudHMvQ2FudmFzL2luZGV4LmpzIiwid2VicGFjazovL2Zsb2VtYS93ZWJwYWNrL3J1bnRpbWUvZ2V0RnVsbEhhc2giXSwic291cmNlc0NvbnRlbnQiOlsiLy8g6L+Z5Liq5paH5Lu255qE5LiK5LiA57qn5Lqk5o6l5pivY29tcG9uZW50c+eahGluZGV4Lmpz5paH5Lu2XG5pbXBvcnQgeyBDYW1lcmEsIFJlbmRlcmVyLCBUcmFuc2Zvcm0gfSBmcm9tICdvZ2wnO1xuXG5pbXBvcnQgSG9tZSBmcm9tICcuL2hvbWUnO1xuaW1wb3J0IEFib3V0IGZyb20gJy4vYWJvdXQnO1xuaW1wb3J0IENvbGxlY3Rpb25zIGZyb20gJy4vY29sbGVjdGlvbnMnXG5cbmltcG9ydCBUcmFuc2l0aW9uIGZyb20gJy4vVHJhbnNpdGlvbidcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FudmFzIHtcbiAgY29uc3RydWN0b3Ioe3RlbXBsYXRlfSkge1xuICAgIHRoaXMudGVtcGxhdGUgPSB0ZW1wbGF0ZVxuICAgIC8vIHRlbXBsYXRl5piv5pWw5o2u5qih54mIXG4gICAgdGhpcy54ID0ge1xuICAgICAgc3RhcnQ6IDAsXG4gICAgICBkaXN0YW5jZTogMCxcbiAgICAgIGVuZDogMFxuICAgIH1cbiAgICB0aGlzLnkgPSB7XG4gICAgICBzdGFydDogMCxcbiAgICAgIGRpc3RhbmNlOiAwLFxuICAgICAgZW5kOiAwXG4gICAgfVxuXG5cbiAgICB0aGlzLmNyZWF0ZVJlbmRlcmVyKClcbiAgICB0aGlzLmNyZWF0ZUNhbWVyYSgpXG4gICAgdGhpcy5jcmVhdGVTY2VuZSgpXG5cbiAgICB0aGlzLm9uUmVzaXplKClcblxuICAgIC8vIHRoaXMuY3JlYXRlQ3ViZSgpXG4gICAgLy8g5LuA5LmI5LuA5LmI5b+Y6K6wZGVmaW5l5LqG77yM5bCx55yL6L+Z6YeM5pyJ5rKh5pyJ6KKr5Yid5aeL5YyWXG4gIH1cblxuICBjcmVhdGVSZW5kZXJlcigpIHtcbiAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFJlbmRlcmVyKCB7XG4gICAgICBhbHBoYTogdHJ1ZSxcbiAgICAgIC8vIOiuqXdlYmds55qE6IOM5pmv6Imy6YCP5piO77yM5LuO6ICM5pi+56S6Y3Nz6K6+572u55qE6aKc6ImyXG4gICAgICBhbnRpYWxpYXM6dHJ1ZVxuICAgICAgLy8g5oqX6ZSv6b2/XG4gICAgfSk7XG5cbiAgICB0aGlzLmdsID0gdGhpcy5yZW5kZXJlci5nbDsgLy9USVAgd29ya3MgbGlrZSBhIGNhbnZhcyBjb250ZXh0XG5cbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZ2wuY2FudmFzKTtcbiAgfVxuXG4gIGNyZWF0ZUNhbWVyYSgpIHtcbiAgICB0aGlzLmNhbWVyYSA9IG5ldyBDYW1lcmEodGhpcy5nbClcbiAgICB0aGlzLmNhbWVyYS5wb3NpdGlvbi56ID0gNVxuXG4gIH1cblxuICBjcmVhdGVTY2VuZSgpIHtcbiAgICB0aGlzLnNjZW5lID0gbmV3IFRyYW5zZm9ybSgpXG4gIH1cblxuICAvKipcbiAgICogSG9tZS5cbiAgICovXG4gIGNyZWF0ZUhvbWUoKSB7XG4gICAgdGhpcy5ob21lID0gbmV3IEhvbWUoe1xuICAgICAgZ2w6IHRoaXMuZ2wsXG4gICAgICBzY2VuZTogdGhpcy5zY2VuZSxcbiAgICAgIHNpemVzOiB0aGlzLnNpemVzXG4gICAgfSk7XG5cbiAgfVxuXG4gIGRlc3Ryb3lIb21lKCl7XG4gICAgaWYoIXRoaXMuaG9tZSkgcmV0dXJuXG4gICAgLy8g5aaC5p6c5LiN5a2Y5ZyoaG9tZe+8jOWwsemUgOavgWhvbWXvvIzvvIHmmK/kuI3miJDnq4vnmoTmhI/mgJ3vvIzmnaHku7bkuLrlgYdcbiAgICB0aGlzLmhvbWUuZGVzdHJveSgpXG4gICAgdGhpcy5ob21lID0gbnVsbFxuICB9XG5cblxuICAvKipcbiAgICogQWJvdXQuXG4gICAqL1xuICBjcmVhdGVBYm91dCgpe1xuICAgIHRoaXMuYWJvdXQgPSBuZXcgQWJvdXQoe1xuICAgICAgZ2w6IHRoaXMuZ2wsXG4gICAgICBzY2VuZTogdGhpcy5zY2VuZSxcbiAgICAgIHNpemVzOiB0aGlzLnNpemVzXG4gICAgfSk7XG4gIH1cblxuICBkZXN0cm95QWJvdXQoKXtcbiAgICBpZighdGhpcy5hYm91dCkgcmV0dXJuXG4gICAgLy8g5aaC5p6c5LiN5a2Y5ZyoYWJvdXTvvIzlsLHplIDmr4FhYm91dO+8jO+8geaYr+S4jeaIkOeri+eahOaEj+aAne+8jOadoeS7tuS4uuWBh1xuICAgIHRoaXMuYWJvdXQuZGVzdHJveSgpXG4gICAgdGhpcy5hYm91dCA9IG51bGxcbiAgfVxuXG4gIC8qKlxuICAgKiBDb2xsZWN0aW9ucy5cbiAgICovXG4gIGNyZWF0ZUNvbGxlY3Rpb25zKCl7XG4gICAgdGhpcy5jb2xsZWN0aW9ucyA9IG5ldyBDb2xsZWN0aW9ucyh7XG4gICAgICBnbDogdGhpcy5nbCxcbiAgICAgIHNjZW5lOiB0aGlzLnNjZW5lLFxuICAgICAgc2l6ZXM6IHRoaXMuc2l6ZXNcbiAgICB9KTtcbiAgfVxuXG4gIGRlc3Ryb3lDb2xsZWN0aW9ucygpe1xuICAgIGlmKCF0aGlzLmNvbGxlY3Rpb25zKSByZXR1cm5cbiAgICAvLyDlpoLmnpzkuI3lrZjlnKhDb2xsZWN0aW9uc++8jOWwsemUgOavgUNvbGxlY3Rpb25z77yM77yB5piv5LiN5oiQ56uL55qE5oSP5oCd77yM5p2h5Lu25Li65YGHXG4gICAgdGhpcy5jb2xsZWN0aW9ucy5kZXN0cm95KClcbiAgICB0aGlzLmNvbGxlY3Rpb25zID0gbnVsbFxuICB9XG5cbiAgLy8gY3JlYXRlQ3ViZSgpIHtcbiAgLy8gICB0aGlzLmdlb21ldHJ5ID0gbmV3IEJveCh0aGlzLmdsKVxuICAvLyAgIHRoaXMucHJvZ3JhbSA9IG5ldyBQcm9ncmFtKHRoaXMuZ2wsIHtcbiAgLy8gICAgIHZlcnRleCxcbiAgLy8gICAgIGZyYWdtZW50XG4gIC8vICAgfSlcbiAgLy8gICAvLyDlsIZnbOS9nOS4uuesrOS4gOS4quWFg+e0oOS8oOe7mU1lc2hcbiAgLy8gICB0aGlzLm1lc2ggPSBuZXcgTWVzaCh0aGlzLmdsLCB7XG4gIC8vICAgICBnZW9tZXRyeTp0aGlzLmdlb21ldHJ5LCBcbiAgLy8gICAgIHByb2dyYW06dGhpcy5wcm9ncmFtXG4gIC8vICAgfSlcbiAgLy8gICAvLyDlsIbnm5LlrZDorr7nva7kuLrnm7jmnLrnmoTlrZDlhYPntKBcbiAgLy8gICB0aGlzLm1lc2guc2V0UGFyZW50KHRoaXMuc2NlbmUpXG5cbiAgLy8gfVxuXG4gIC8vIEV2ZW50c1xuICBcblxuICAvKipcbiAgICogRVZFTlRTXG4gICAqL1xuICBvblByZWxvYWRlZCgpe1xuICAgIHRoaXMub25DaGFuZ2VFbmQodGhpcy50ZW1wbGF0ZSlcbiAgfVxuICBvbkNoYW5nZVN0YXJ0KHRlbXBsYXRlLCB1cmwpe1xuICAgIGlmKHRoaXMuYWJvdXQpe1xuICAgICAgdGhpcy5hYm91dC5oaWRlKClcbiAgICB9XG5cbiAgICBpZih0aGlzLmNvbGxlY3Rpb25zKXtcbiAgICAgIHRoaXMuY29sbGVjdGlvbnMuaGlkZSgpXG4gICAgfVxuXG4gICAgaWYodGhpcy5ob21lKXtcbiAgICAgIHRoaXMuaG9tZS5oaWRlKClcbiAgICB9XG5cbiAgICB0aGlzLmlzRnJvbUNvbGxlY3Rpb25zVG9EZXRhaWwgPSB0aGlzLnRlbXBsYXRlID09PSdjb2xsZWN0aW9ucycgJiYgdXJsLmluZGV4T2YoJ2RldGFpbCcpID4gLTFcbiAgICB0aGlzLmlzRnJvbURldGFpbFRvQ29sbGVjdGlvbnMgPSB0aGlzLnRlbXBsYXRlID09PSdkZXRhaWwnICYmIHVybC5pbmRleE9mKCdjb2xsZWN0aW9ucycpID4gLTFcbiAgICAvLyDlpoLmnpzmmK9kZXRhaWzlubbkuJQsY29sbGVjdGlvbnMgYXJlIHRoZSBwYXJ0IG9mIHRoZSB1cmzku5bnmoTlgLzlsLHmmK8+LTHnmoRcblxuICAgIGlmKHRoaXMuaXNGcm9tQ29sbGVjdGlvbnNUb0RldGFpbCB8fCB0aGlzLmlzRnJvbURldGFpbFRvQ29sbGVjdGlvbnMpe1xuICAgICAgIHRoaXMudHJhbnNpdGlvbiA9IG5ldyBUcmFuc2l0aW9uKHtcbiAgICAgICAgY29sbGVjdGlvbnMgOnRoaXMuY29sbGVjdGlvbnMsXG4gICAgICAgIGdsOiB0aGlzLmdsLFxuICAgICAgICBzY2VuZTogdGhpcy5zY2VuZSxcbiAgICAgICAgc2l6ZXM6IHRoaXMuc2l6ZXMsXG4gICAgICAgIHVybFxuICAgICAgIH0pXG4gICAgfVxuICB9XG4gIG9uQ2hhbmdlRW5kKHRlbXBsYXRlKXtcbiAgICAvLyDlsLHmmK/lvZPnlKjmiLdjaGFuZ2UgdGhlIHJvdXRlXG4gICAgaWYodGVtcGxhdGUgPT09ICdhYm91dCcpe1xuICAgICAgdGhpcy5jcmVhdGVBYm91dCgpXG4gICAgfWVsc2UgaWYgKHRoaXMuYWJvdXQpe1xuICAgICAgdGhpcy5kZXN0cm95QWJvdXQoKVxuICAgIH1cblxuICAgIGlmKHRlbXBsYXRlID09PSAnY29sbGVjdGlvbnMnKXtcbiAgICAgIHRoaXMuY3JlYXRlQ29sbGVjdGlvbnMoKVxuICAgIH1lbHNlIGlmICh0aGlzLmNvbGxlY3Rpb25zKXtcbiAgICAgIHRoaXMuZGVzdHJveUNvbGxlY3Rpb25zKClcbiAgICB9XG5cbiAgICBpZih0ZW1wbGF0ZSA9PT0gJ2hvbWUnKXtcbiAgICAgIHRoaXMuY3JlYXRlSG9tZSgpXG4gICAgfWVsc2Uge1xuICAgICAgdGhpcy5kZXN0cm95SG9tZSgpXG4gICAgfVxuXG4gICAgdGhpcy50ZW1wbGF0ZSA9IHRlbXBsYXRlXG5cbiAgfVxuXG4gIG9uUmVzaXplKCkge1xuICAgIC8vIOWwhua4suafk+eahOeUu+W4g+WwuuWvuOWhq+a7oeinhueql+WPo1xuICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICAvLyDliJvlu7rkuoZjYW1lcmHkuYvlkI7miY3og73liJvlu7rpgI/op4blm75cbiAgICB0aGlzLmNhbWVyYS5wZXJzcGVjdGl2ZSh7IGFzcGVjdDogd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQgfSk7XG5cbiAgICBjb25zdCBmb3YgPSB0aGlzLmNhbWVyYS5mb3YgKiAoTWF0aC5QSSAvIDE4MCk7XG4gICAgY29uc3QgaGVpZ2h0ID0gMiAqIE1hdGgudGFuKGZvdiAvIDIpICogdGhpcy5jYW1lcmEucG9zaXRpb24uejtcbiAgICBjb25zdCB3aWR0aCA9IGhlaWdodCAqIHRoaXMuY2FtZXJhLmFzcGVjdDtcblxuICAgIHRoaXMuc2l6ZXMgPSB7XG4gICAgICBoZWlnaHQsXG4gICAgICB3aWR0aCxcbiAgICB9O1xuXG4gICAgY29uc3QgdmFsdWVzID0ge3NpemVzOiB0aGlzLnNpemVzfVxuXG4gICAgaWYgKHRoaXMuYWJvdXQpIHtcbiAgICAgIHRoaXMuYWJvdXQub25SZXNpemUodmFsdWVzKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5jb2xsZWN0aW9ucykge1xuICAgICAgdGhpcy5jb2xsZWN0aW9ucy5vblJlc2l6ZSh2YWx1ZXMpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmhvbWUpIHtcbiAgICAgIHRoaXMuaG9tZS5vblJlc2l6ZSh2YWx1ZXMpO1xuICAgIH1cbiAgfVxuXG4gIG9uVG91Y2hEb3duKGV2ZW50KSB7XG4gICAgdGhpcy5pc0Rvd24gPSB0cnVlXG4gICAgdGhpcy54LnN0YXJ0ID0gZXZlbnQudG91Y2hlcyA/IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WCA6IGV2ZW50LmNsaWVudFhcbiAgICB0aGlzLnkuc3RhcnQgPSBldmVudC50b3VjaGVzID8gZXZlbnQudG91Y2hlc1swXS5jbGllbnRZIDogZXZlbnQuY2xpZW50WVxuXG4gICAgY29uc3QgdmFsdWVzID0ge1xuICAgICAgeDogdGhpcy54LFxuICAgICAgeTogdGhpcy55XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYWJvdXQpIHtcbiAgICAgIHRoaXMuYWJvdXQub25Ub3VjaERvd24odmFsdWVzKVxuICAgIH1cblxuICAgIGlmICh0aGlzLmNvbGxlY3Rpb25zKSB7XG4gICAgICB0aGlzLmNvbGxlY3Rpb25zLm9uVG91Y2hEb3duKHZhbHVlcylcbiAgICB9XG5cbiAgICBpZiAodGhpcy5ob21lKSB7XG4gICAgICB0aGlzLmhvbWUub25Ub3VjaERvd24odmFsdWVzKVxuICAgIH1cbiAgfVxuXG4gIG9uVG91Y2hNb3ZlKGV2ZW50KSB7XG4gICAgaWYgKCF0aGlzLmlzRG93bikgcmV0dXJuXG5cbiAgICBjb25zdCB4ID0gZXZlbnQudG91Y2hlcyA/IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WCA6IGV2ZW50LmNsaWVudFhcbiAgICBjb25zdCB5ID0gZXZlbnQudG91Y2hlcyA/IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WSA6IGV2ZW50LmNsaWVudFlcblxuICAgIHRoaXMueC5lbmQgPXhcbiAgICB0aGlzLnkuZW5kID15XG5cblxuICAgIGNvbnN0IHZhbHVlcyA9IHtcbiAgICAgIHg6IHRoaXMueCxcbiAgICAgIHk6IHRoaXMueVxuICAgIH1cblxuICAgIGlmICh0aGlzLmFib3V0KSB7XG4gICAgICB0aGlzLmFib3V0Lm9uVG91Y2hNb3ZlKHZhbHVlcylcbiAgICB9XG5cbiAgICBpZiAodGhpcy5jb2xsZWN0aW9ucykge1xuICAgICAgdGhpcy5jb2xsZWN0aW9ucy5vblRvdWNoTW92ZSh2YWx1ZXMpXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaG9tZSkge1xuICAgICAgdGhpcy5ob21lLm9uVG91Y2hNb3ZlKHZhbHVlcylcbiAgICB9XG4gIH1cblxuICBvblRvdWNoVXAoZXZlbnQpIHtcbiAgICB0aGlzLmlzRG93biA9IGZhbHNlXG4gICAgY29uc3QgeCA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzID8gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WCA6IGV2ZW50LmNsaWVudFhcbiAgICBjb25zdCB5ID0gZXZlbnQuY2hhbmdlZFRvdWNoZXMgPyBldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZIDogZXZlbnQuY2xpZW50WVxuXG4gICAgdGhpcy54LmVuZCA9eFxuICAgIHRoaXMueS5lbmQgPXlcblxuICAgIGNvbnN0IHZhbHVlcyA9IHtcbiAgICAgIHg6IHRoaXMueCxcbiAgICAgIHk6IHRoaXMueVxuICAgIH1cblxuICAgIGlmICh0aGlzLmFib3V0KSB7XG4gICAgICB0aGlzLmFib3V0Lm9uVG91Y2hVcCh2YWx1ZXMpXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY29sbGVjdGlvbnMpIHtcbiAgICAgIHRoaXMuY29sbGVjdGlvbnMub25Ub3VjaFVwKHZhbHVlcylcbiAgICB9XG5cbiAgICBpZiAodGhpcy5ob21lKSB7XG4gICAgICB0aGlzLmhvbWUub25Ub3VjaFVwKHZhbHVlcylcbiAgICB9XG4gIH1cblxuICBvbldoZWVsKGV2ZW50KXtcbiAgICBpZih0aGlzLmhvbWUpe1xuICAgICAgdGhpcy5ob21lLm9uV2hlZWwoZXZlbnQpXG4gICAgfVxuXG4gICAgaWYodGhpcy5jb2xsZWN0aW9ucyl7XG4gICAgICB0aGlzLmNvbGxlY3Rpb25zLm9uV2hlZWwoZXZlbnQpXG4gICAgfVxuICB9XG5cbiAgLy8gTG9vcFxuICB1cGRhdGUoc2Nyb2xsKSB7XG4gICAgLy8g5a6e5pe25riy5p+TXG4gICAgLy8gdGhpcy5tZXNoLnJvdGF0aW9uLnggKz0gMC4wMVxuICAgIC8vIHRoaXMubWVzaC5yb3RhdGlvbi55ICs9IDAuMDFcbiAgICBpZih0aGlzLmFib3V0KXtcbiAgICAgIHRoaXMuYWJvdXQudXBkYXRlKHNjcm9sbClcbiAgICB9XG4gICAgLy8g5Zug5Li65Y+q5pyJYWJvdXQgcGFnZeacieS4i+a7kVxuXG4gICAgaWYodGhpcy5jb2xsZWN0aW9ucyl7XG4gICAgICB0aGlzLmNvbGxlY3Rpb25zLnVwZGF0ZSgpXG4gICAgfVxuXG4gICAgaWYodGhpcy5ob21lKXtcbiAgICAgIHRoaXMuaG9tZS51cGRhdGUoKVxuICAgIH1cblxuICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHtcbiAgICAgIGNhbWVyYTogdGhpcy5jYW1lcmEsXG4gICAgICBzY2VuZTogdGhpcy5zY2VuZVxuICAgIH0pXG4gIH1cbn0iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmggPSAoKSA9PiAoXCJjMjExZDU2ZDE2MGVmOWY3ZTQxZFwiKSJdLCJuYW1lcyI6WyJDYW52YXMiLCJjb25zdHJ1Y3RvciIsInRlbXBsYXRlIiwidGhpcyIsIngiLCJzdGFydCIsImRpc3RhbmNlIiwiZW5kIiwieSIsImNyZWF0ZVJlbmRlcmVyIiwiY3JlYXRlQ2FtZXJhIiwiY3JlYXRlU2NlbmUiLCJvblJlc2l6ZSIsInJlbmRlcmVyIiwiUmVuZGVyZXIiLCJhbHBoYSIsImFudGlhbGlhcyIsImdsIiwiZG9jdW1lbnQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJjYW52YXMiLCJjYW1lcmEiLCJDYW1lcmEiLCJwb3NpdGlvbiIsInoiLCJzY2VuZSIsIlRyYW5zZm9ybSIsImNyZWF0ZUhvbWUiLCJob21lIiwiSG9tZSIsInNpemVzIiwiZGVzdHJveUhvbWUiLCJkZXN0cm95IiwiY3JlYXRlQWJvdXQiLCJhYm91dCIsIkFib3V0IiwiZGVzdHJveUFib3V0IiwiY3JlYXRlQ29sbGVjdGlvbnMiLCJjb2xsZWN0aW9ucyIsIkNvbGxlY3Rpb25zIiwiZGVzdHJveUNvbGxlY3Rpb25zIiwib25QcmVsb2FkZWQiLCJvbkNoYW5nZUVuZCIsIm9uQ2hhbmdlU3RhcnQiLCJ1cmwiLCJoaWRlIiwiaXNGcm9tQ29sbGVjdGlvbnNUb0RldGFpbCIsImluZGV4T2YiLCJpc0Zyb21EZXRhaWxUb0NvbGxlY3Rpb25zIiwidHJhbnNpdGlvbiIsIlRyYW5zaXRpb24iLCJzZXRTaXplIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwicGVyc3BlY3RpdmUiLCJhc3BlY3QiLCJmb3YiLCJNYXRoIiwiUEkiLCJoZWlnaHQiLCJ0YW4iLCJ3aWR0aCIsInZhbHVlcyIsIm9uVG91Y2hEb3duIiwiZXZlbnQiLCJpc0Rvd24iLCJ0b3VjaGVzIiwiY2xpZW50WCIsImNsaWVudFkiLCJvblRvdWNoTW92ZSIsIm9uVG91Y2hVcCIsImNoYW5nZWRUb3VjaGVzIiwib25XaGVlbCIsInVwZGF0ZSIsInNjcm9sbCIsInJlbmRlciIsIl9fd2VicGFja19yZXF1aXJlX18iLCJoIl0sInNvdXJjZVJvb3QiOiIifQ==