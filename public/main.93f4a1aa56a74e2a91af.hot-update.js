/*! For license information please see main.93f4a1aa56a74e2a91af.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdatefloema("main",{"./app/components/Canvas/Media.js":(t,i,e)=>{e.r(i),e.d(i,{default:()=>g});var s=e("./node_modules/ogl/src/core/Texture.js"),h=e("./node_modules/ogl/src/core/Program.js"),a=e("./node_modules/ogl/src/core/Mesh.js"),r=e("./app/shaders/plane-fragment.glsl"),l=e("./app/shaders/plane-vertex.glsl");class g{constructor({element:t,geometry:i,gl:e,index:s,scene:h}){this.element=t,this.geometry=i,this.gl=e,this.index=s,this.scene=h,this.createTexture(),this.createProgram(),this.createMesh()}createTexture(){this.texture=new s.Texture(this.gl),this.image=new window.Image,this.image.crossOrigin="anonymous",this.image.src=this.element.getAttribute("data-src"),this.image.onload=t=>this.texture.image=this.image}createProgram(){this.program=new h.Program(this.gl,{fragment:r.default,vertex:l.default,uniforms:{tMap:{value:this.texture}}})}createMesh(){this.mesh=new a.Mesh(this.gl,{geometry:this.geometry,program:this.program}),this.mesh.setParent(this.scene),this.mesh.position.x+=this.index*this.mesh.scale.x}}},"./node_modules/ogl/src/core/Texture.js":(t,i,e)=>{e.r(i),e.d(i,{Texture:()=>r});const s=new Uint8Array(4);function h(t){return 0==(t&t-1)}let a=1;class r{constructor(t,{image:i,target:e=t.TEXTURE_2D,type:s=t.UNSIGNED_BYTE,format:h=t.RGBA,internalFormat:r=h,wrapS:l=t.CLAMP_TO_EDGE,wrapT:g=t.CLAMP_TO_EDGE,generateMipmaps:n=!0,minFilter:m=(n?t.NEAREST_MIPMAP_LINEAR:t.LINEAR),magFilter:p=t.LINEAR,premultiplyAlpha:o=!1,unpackAlignment:T=4,flipY:E=e==t.TEXTURE_2D,anisotropy:d=0,level:u=0,width:A,height:_=A}={}){this.gl=t,this.id=a++,this.image=i,this.target=e,this.type=s,this.format=h,this.internalFormat=r,this.minFilter=m,this.magFilter=p,this.wrapS=l,this.wrapT=g,this.generateMipmaps=n,this.premultiplyAlpha=o,this.unpackAlignment=T,this.flipY=E,this.anisotropy=Math.min(d,this.gl.renderer.parameters.maxAnisotropy),this.level=u,this.width=A,this.height=_,this.texture=this.gl.createTexture(),this.store={image:null},this.glState=this.gl.renderer.state,this.state={},this.state.minFilter=this.gl.NEAREST_MIPMAP_LINEAR,this.state.magFilter=this.gl.LINEAR,this.state.wrapS=this.gl.REPEAT,this.state.wrapT=this.gl.REPEAT,this.state.anisotropy=0}bind(){this.glState.textureUnits[this.glState.activeTextureUnit]!==this.id&&(this.gl.bindTexture(this.target,this.texture),this.glState.textureUnits[this.glState.activeTextureUnit]=this.id)}update(t=0){const i=!(this.image===this.store.image&&!this.needsUpdate);if((i||this.glState.textureUnits[t]!==this.id)&&(this.gl.renderer.activeTexture(t),this.bind()),i){if(this.needsUpdate=!1,this.flipY!==this.glState.flipY&&(this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,this.flipY),this.glState.flipY=this.flipY),this.premultiplyAlpha!==this.glState.premultiplyAlpha&&(this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),this.glState.premultiplyAlpha=this.premultiplyAlpha),this.unpackAlignment!==this.glState.unpackAlignment&&(this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,this.unpackAlignment),this.glState.unpackAlignment=this.unpackAlignment),this.minFilter!==this.state.minFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MIN_FILTER,this.minFilter),this.state.minFilter=this.minFilter),this.magFilter!==this.state.magFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MAG_FILTER,this.magFilter),this.state.magFilter=this.magFilter),this.wrapS!==this.state.wrapS&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_S,this.wrapS),this.state.wrapS=this.wrapS),this.wrapT!==this.state.wrapT&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_T,this.wrapT),this.state.wrapT=this.wrapT),this.anisotropy&&this.anisotropy!==this.state.anisotropy&&(this.gl.texParameterf(this.target,this.gl.renderer.getExtension("EXT_texture_filter_anisotropic").TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropy),this.state.anisotropy=this.anisotropy),this.image){if(this.image.width&&(this.width=this.image.width,this.height=this.image.height),this.target===this.gl.TEXTURE_CUBE_MAP)for(let t=0;t<6;t++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+t,this.level,this.internalFormat,this.format,this.type,this.image[t]);else if(ArrayBuffer.isView(this.image))this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,this.image);else if(this.image.isCompressedTexture)for(let t=0;t<this.image.length;t++)this.gl.compressedTexImage2D(this.target,t,this.internalFormat,this.image[t].width,this.image[t].height,0,this.image[t].data);else this.gl.texImage2D(this.target,this.level,this.internalFormat,this.format,this.type,this.image);this.generateMipmaps&&(this.gl.renderer.isWebgl2||h(this.image.width)&&h(this.image.height)?this.gl.generateMipmap(this.target):(this.generateMipmaps=!1,this.wrapS=this.wrapT=this.gl.CLAMP_TO_EDGE,this.minFilter=this.gl.LINEAR)),this.onUpdate&&this.onUpdate()}else if(this.target===this.gl.TEXTURE_CUBE_MAP)for(let t=0;t<6;t++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,s);else this.width?this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,null):this.gl.texImage2D(this.target,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,s);this.store.image=this.image}}}}},(function(t){t.h=()=>"2fad174e745e949a91da"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RCxTQUFTcUMsVUFBY2hFLEVBQVc3QixLQUFLTSxNQUFNNkMsUUFBV3RCLEVBQVc3QixLQUFLTSxNQUFNOEMsUUFLdkZwRCxLQUFLSCxHQUFHaUcsZUFBZTlGLEtBQUsrQixTQUo1Qi9CLEtBQUt5QyxpQkFBa0IsRUFDdkJ6QyxLQUFLc0MsTUFBUXRDLEtBQUt3QyxNQUFReEMsS0FBS0gsR0FBRzBDLGNBQ2xDdkMsS0FBSzBDLFVBQVkxQyxLQUFLSCxHQUFHK0MsU0FPakM1QyxLQUFLK0YsVUFBWS9GLEtBQUsrRixVQUMxQixNQUNJLEdBQUkvRixLQUFLK0IsU0FBVy9CLEtBQUtILEdBQUdzRixpQkFFeEIsSUFBSyxJQUFJQyxFQUFJLEVBQUdBLEVBQUksRUFBR0EsSUFDbkJwRixLQUFLSCxHQUFHd0YsV0FDSnJGLEtBQUtILEdBQUd5Riw0QkFBOEJGLEVBQ3RDLEVBQ0FwRixLQUFLSCxHQUFHdUMsS0FDUixFQUNBLEVBQ0EsRUFDQXBDLEtBQUtILEdBQUd1QyxLQUNScEMsS0FBS0gsR0FBR3FDLGNBQ1JQLFFBR0QzQixLQUFLbUQsTUFFWm5ELEtBQUtILEdBQUd3RixXQUFXckYsS0FBSytCLE9BQVEvQixLQUFLa0QsTUFBT2xELEtBQUtxQyxlQUFnQnJDLEtBQUttRCxNQUFPbkQsS0FBS29ELE9BQVEsRUFBR3BELEtBQUttQyxPQUFRbkMsS0FBS2lDLEtBQU0sTUFHckhqQyxLQUFLSCxHQUFHd0YsV0FBV3JGLEtBQUsrQixPQUFRLEVBQUcvQixLQUFLSCxHQUFHdUMsS0FBTSxFQUFHLEVBQUcsRUFBR3BDLEtBQUtILEdBQUd1QyxLQUFNcEMsS0FBS0gsR0FBR3FDLGNBQWVQLEdBR3ZHM0IsS0FBSzJELE1BQU1yRCxNQUFRTixLQUFLTSxLQTNIQSxDQTRINUIsa0JDdk5KMEYsRUFBb0JDLEVBQUksSUFBTSIsInNvdXJjZXMiOlsid2VicGFjazovL2Zsb2VtYS8uL2FwcC9jb21wb25lbnRzL0NhbnZhcy9NZWRpYS5qcyIsIndlYnBhY2s6Ly9mbG9lbWEvLi9ub2RlX21vZHVsZXMvb2dsL3NyYy9jb3JlL1RleHR1cmUuanMiLCJ3ZWJwYWNrOi8vZmxvZW1hL3dlYnBhY2svcnVudGltZS9nZXRGdWxsSGFzaCJdLCJzb3VyY2VzQ29udGVudCI6WyIvL+WkhOeQhueFp+eJh1xuaW1wb3J0IHsgTWVzaCwgUHJvZ3JhbSwgVGV4dHVyZSB9IGZyb20gJ29nbCc7XG5cbmltcG9ydCBmcmFnbWVudCBmcm9tICdzaGFkZXJzL3BsYW5lLWZyYWdtZW50Lmdsc2wnO1xuaW1wb3J0IHZlcnRleCBmcm9tICdzaGFkZXJzL3BsYW5lLXZlcnRleC5nbHNsJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWVkaWF7XG4gIGNvbnN0cnVjdG9yKHsgZWxlbWVudCwgZ2VvbWV0cnksIGdsLCBpbmRleCwgc2NlbmUgfSkge1xuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5nZW9tZXRyeSA9IGdlb21ldHJ5O1xuICAgIHRoaXMuZ2wgPSBnbDtcbiAgICB0aGlzLmluZGV4ID0gaW5kZXg7XG4gICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xuICAgIC8vIHRoaXMuc2l6ZXMgPSBzaXplcztcbiAgICAvLyDkuIrpnaLnmoRlbG1lbnTpg73mmK/pnIDopoHlpI3nlKjnmoTmiYDku6XlnKjov5nph4zliJ3lp4vljJZcblxuICAgIHRoaXMuY3JlYXRlVGV4dHVyZSgpO1xuICAgIHRoaXMuY3JlYXRlUHJvZ3JhbSgpO1xuICAgIHRoaXMuY3JlYXRlTWVzaCgpO1xuICB9XG4gIGNyZWF0ZVRleHR1cmUoKSB7XG4gICAgdGhpcy50ZXh0dXJlID1uZXcgVGV4dHVyZSh0aGlzLmdsKVxuXG4gICAgdGhpcy5pbWFnZSA9bmV3IHdpbmRvdy5JbWFnZSgpXG4gICAgdGhpcy5pbWFnZS5jcm9zc09yaWdpbj0nYW5vbnltb3VzJ1xuICAgIHRoaXMuaW1hZ2Uuc3JjPXRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3JjJylcbiAgICB0aGlzLmltYWdlLm9ubG9hZCA9IF8gPT4gKHRoaXMudGV4dHVyZS5pbWFnZSA9dGhpcy5pbWFnZSlcbiAgfVxuICAvLyDnhLblkI7lsIbpgInlpb3nmoTnhafniYfkvKDnu5lwcm9ncmFt5aSE55CG6LS05Zu+XG4gIGNyZWF0ZVByb2dyYW0oKSB7XG4gICAgdGhpcy5wcm9ncmFtID0gbmV3IFByb2dyYW0odGhpcy5nbCwge1xuICAgICAgZnJhZ21lbnQsXG4gICAgICB2ZXJ0ZXgsXG4gICAgICB1bmlmb3Jtczoge1xuICAgICAgICB0TWFwOiB7IHZhbHVlOiB0aGlzLnRleHR1cmUgfVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBjcmVhdGVNZXNoKCkge1xuICAgIHRoaXMubWVzaCA9IG5ldyBNZXNoKHRoaXMuZ2wsIHtcbiAgICAgIGdlb21ldHJ5OiB0aGlzLmdlb21ldHJ5LFxuICAgICAgcHJvZ3JhbTogdGhpcy5wcm9ncmFtLFxuICAgIH0pO1xuXG4gICAgdGhpcy5tZXNoLnNldFBhcmVudCh0aGlzLnNjZW5lKTtcbiAgICAvLyBtZXNo5pivc2NlbmXnmoTlrZDlhYPntKDjgIJcblxuICAgIHRoaXMubWVzaC5wb3NpdGlvbi54ICs9IHRoaXMuaW5kZXggKiB0aGlzLm1lc2guc2NhbGUueDtcbiAgfVxufSIsIi8vIFRPRE86IGRlbGV0ZSB0ZXh0dXJlXG4vLyBUT0RPOiB1c2UgdGV4U3ViSW1hZ2UyRCBmb3IgdXBkYXRlcyAodmlkZW8gb3Igd2hlbiBsb2FkZWQpXG4vLyBUT0RPOiBuZWVkPyBlbmNvZGluZyA9IGxpbmVhckVuY29kaW5nXG4vLyBUT0RPOiBzdXBwb3J0IG5vbi1jb21wcmVzc2VkIG1pcG1hcHMgdXBsb2Fkc1xuXG5jb25zdCBlbXB0eVBpeGVsID0gbmV3IFVpbnQ4QXJyYXkoNCk7XG5cbmZ1bmN0aW9uIGlzUG93ZXJPZjIodmFsdWUpIHtcbiAgICByZXR1cm4gKHZhbHVlICYgKHZhbHVlIC0gMSkpID09PSAwO1xufVxuXG5sZXQgSUQgPSAxO1xuXG5leHBvcnQgY2xhc3MgVGV4dHVyZSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIGdsLFxuICAgICAgICB7XG4gICAgICAgICAgICBpbWFnZSxcbiAgICAgICAgICAgIHRhcmdldCA9IGdsLlRFWFRVUkVfMkQsXG4gICAgICAgICAgICB0eXBlID0gZ2wuVU5TSUdORURfQllURSxcbiAgICAgICAgICAgIGZvcm1hdCA9IGdsLlJHQkEsXG4gICAgICAgICAgICBpbnRlcm5hbEZvcm1hdCA9IGZvcm1hdCxcbiAgICAgICAgICAgIHdyYXBTID0gZ2wuQ0xBTVBfVE9fRURHRSxcbiAgICAgICAgICAgIHdyYXBUID0gZ2wuQ0xBTVBfVE9fRURHRSxcbiAgICAgICAgICAgIGdlbmVyYXRlTWlwbWFwcyA9IHRydWUsXG4gICAgICAgICAgICBtaW5GaWx0ZXIgPSBnZW5lcmF0ZU1pcG1hcHMgPyBnbC5ORUFSRVNUX01JUE1BUF9MSU5FQVIgOiBnbC5MSU5FQVIsXG4gICAgICAgICAgICBtYWdGaWx0ZXIgPSBnbC5MSU5FQVIsXG4gICAgICAgICAgICBwcmVtdWx0aXBseUFscGhhID0gZmFsc2UsXG4gICAgICAgICAgICB1bnBhY2tBbGlnbm1lbnQgPSA0LFxuICAgICAgICAgICAgZmxpcFkgPSB0YXJnZXQgPT0gZ2wuVEVYVFVSRV8yRCA/IHRydWUgOiBmYWxzZSxcbiAgICAgICAgICAgIGFuaXNvdHJvcHkgPSAwLFxuICAgICAgICAgICAgbGV2ZWwgPSAwLFxuICAgICAgICAgICAgd2lkdGgsIC8vIHVzZWQgZm9yIFJlbmRlclRhcmdldHMgb3IgRGF0YSBUZXh0dXJlc1xuICAgICAgICAgICAgaGVpZ2h0ID0gd2lkdGgsXG4gICAgICAgIH0gPSB7fVxuICAgICkge1xuICAgICAgICB0aGlzLmdsID0gZ2w7XG4gICAgICAgIHRoaXMuaWQgPSBJRCsrO1xuXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBpbWFnZTtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMuZm9ybWF0ID0gZm9ybWF0O1xuICAgICAgICB0aGlzLmludGVybmFsRm9ybWF0ID0gaW50ZXJuYWxGb3JtYXQ7XG4gICAgICAgIHRoaXMubWluRmlsdGVyID0gbWluRmlsdGVyO1xuICAgICAgICB0aGlzLm1hZ0ZpbHRlciA9IG1hZ0ZpbHRlcjtcbiAgICAgICAgdGhpcy53cmFwUyA9IHdyYXBTO1xuICAgICAgICB0aGlzLndyYXBUID0gd3JhcFQ7XG4gICAgICAgIHRoaXMuZ2VuZXJhdGVNaXBtYXBzID0gZ2VuZXJhdGVNaXBtYXBzO1xuICAgICAgICB0aGlzLnByZW11bHRpcGx5QWxwaGEgPSBwcmVtdWx0aXBseUFscGhhO1xuICAgICAgICB0aGlzLnVucGFja0FsaWdubWVudCA9IHVucGFja0FsaWdubWVudDtcbiAgICAgICAgdGhpcy5mbGlwWSA9IGZsaXBZO1xuICAgICAgICB0aGlzLmFuaXNvdHJvcHkgPSBNYXRoLm1pbihhbmlzb3Ryb3B5LCB0aGlzLmdsLnJlbmRlcmVyLnBhcmFtZXRlcnMubWF4QW5pc290cm9weSk7XG4gICAgICAgIHRoaXMubGV2ZWwgPSBsZXZlbDtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy50ZXh0dXJlID0gdGhpcy5nbC5jcmVhdGVUZXh0dXJlKCk7XG5cbiAgICAgICAgdGhpcy5zdG9yZSA9IHtcbiAgICAgICAgICAgIGltYWdlOiBudWxsLFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEFsaWFzIGZvciBzdGF0ZSBzdG9yZSB0byBhdm9pZCByZWR1bmRhbnQgY2FsbHMgZm9yIGdsb2JhbCBzdGF0ZVxuICAgICAgICB0aGlzLmdsU3RhdGUgPSB0aGlzLmdsLnJlbmRlcmVyLnN0YXRlO1xuXG4gICAgICAgIC8vIFN0YXRlIHN0b3JlIHRvIGF2b2lkIHJlZHVuZGFudCBjYWxscyBmb3IgcGVyLXRleHR1cmUgc3RhdGVcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHt9O1xuICAgICAgICB0aGlzLnN0YXRlLm1pbkZpbHRlciA9IHRoaXMuZ2wuTkVBUkVTVF9NSVBNQVBfTElORUFSO1xuICAgICAgICB0aGlzLnN0YXRlLm1hZ0ZpbHRlciA9IHRoaXMuZ2wuTElORUFSO1xuICAgICAgICB0aGlzLnN0YXRlLndyYXBTID0gdGhpcy5nbC5SRVBFQVQ7XG4gICAgICAgIHRoaXMuc3RhdGUud3JhcFQgPSB0aGlzLmdsLlJFUEVBVDtcbiAgICAgICAgdGhpcy5zdGF0ZS5hbmlzb3Ryb3B5ID0gMDtcbiAgICB9XG5cbiAgICBiaW5kKCkge1xuICAgICAgICAvLyBBbHJlYWR5IGJvdW5kIHRvIGFjdGl2ZSB0ZXh0dXJlIHVuaXRcbiAgICAgICAgaWYgKHRoaXMuZ2xTdGF0ZS50ZXh0dXJlVW5pdHNbdGhpcy5nbFN0YXRlLmFjdGl2ZVRleHR1cmVVbml0XSA9PT0gdGhpcy5pZCkgcmV0dXJuO1xuICAgICAgICB0aGlzLmdsLmJpbmRUZXh0dXJlKHRoaXMudGFyZ2V0LCB0aGlzLnRleHR1cmUpO1xuICAgICAgICB0aGlzLmdsU3RhdGUudGV4dHVyZVVuaXRzW3RoaXMuZ2xTdGF0ZS5hY3RpdmVUZXh0dXJlVW5pdF0gPSB0aGlzLmlkO1xuICAgIH1cblxuICAgIHVwZGF0ZSh0ZXh0dXJlVW5pdCA9IDApIHtcbiAgICAgICAgY29uc3QgbmVlZHNVcGRhdGUgPSAhKHRoaXMuaW1hZ2UgPT09IHRoaXMuc3RvcmUuaW1hZ2UgJiYgIXRoaXMubmVlZHNVcGRhdGUpO1xuXG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IHRleHR1cmUgaXMgYm91bmQgdG8gaXRzIHRleHR1cmUgdW5pdFxuICAgICAgICBpZiAobmVlZHNVcGRhdGUgfHwgdGhpcy5nbFN0YXRlLnRleHR1cmVVbml0c1t0ZXh0dXJlVW5pdF0gIT09IHRoaXMuaWQpIHtcbiAgICAgICAgICAgIC8vIHNldCBhY3RpdmUgdGV4dHVyZSB1bml0IHRvIHBlcmZvcm0gdGV4dHVyZSBmdW5jdGlvbnNcbiAgICAgICAgICAgIHRoaXMuZ2wucmVuZGVyZXIuYWN0aXZlVGV4dHVyZSh0ZXh0dXJlVW5pdCk7XG4gICAgICAgICAgICB0aGlzLmJpbmQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghbmVlZHNVcGRhdGUpIHJldHVybjtcbiAgICAgICAgdGhpcy5uZWVkc1VwZGF0ZSA9IGZhbHNlO1xuXG4gICAgICAgIGlmICh0aGlzLmZsaXBZICE9PSB0aGlzLmdsU3RhdGUuZmxpcFkpIHtcbiAgICAgICAgICAgIHRoaXMuZ2wucGl4ZWxTdG9yZWkodGhpcy5nbC5VTlBBQ0tfRkxJUF9ZX1dFQkdMLCB0aGlzLmZsaXBZKTtcbiAgICAgICAgICAgIHRoaXMuZ2xTdGF0ZS5mbGlwWSA9IHRoaXMuZmxpcFk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5wcmVtdWx0aXBseUFscGhhICE9PSB0aGlzLmdsU3RhdGUucHJlbXVsdGlwbHlBbHBoYSkge1xuICAgICAgICAgICAgdGhpcy5nbC5waXhlbFN0b3JlaSh0aGlzLmdsLlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCwgdGhpcy5wcmVtdWx0aXBseUFscGhhKTtcbiAgICAgICAgICAgIHRoaXMuZ2xTdGF0ZS5wcmVtdWx0aXBseUFscGhhID0gdGhpcy5wcmVtdWx0aXBseUFscGhhO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMudW5wYWNrQWxpZ25tZW50ICE9PSB0aGlzLmdsU3RhdGUudW5wYWNrQWxpZ25tZW50KSB7XG4gICAgICAgICAgICB0aGlzLmdsLnBpeGVsU3RvcmVpKHRoaXMuZ2wuVU5QQUNLX0FMSUdOTUVOVCwgdGhpcy51bnBhY2tBbGlnbm1lbnQpO1xuICAgICAgICAgICAgdGhpcy5nbFN0YXRlLnVucGFja0FsaWdubWVudCA9IHRoaXMudW5wYWNrQWxpZ25tZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMubWluRmlsdGVyICE9PSB0aGlzLnN0YXRlLm1pbkZpbHRlcikge1xuICAgICAgICAgICAgdGhpcy5nbC50ZXhQYXJhbWV0ZXJpKHRoaXMudGFyZ2V0LCB0aGlzLmdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgdGhpcy5taW5GaWx0ZXIpO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5taW5GaWx0ZXIgPSB0aGlzLm1pbkZpbHRlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm1hZ0ZpbHRlciAhPT0gdGhpcy5zdGF0ZS5tYWdGaWx0ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZ2wudGV4UGFyYW1ldGVyaSh0aGlzLnRhcmdldCwgdGhpcy5nbC5URVhUVVJFX01BR19GSUxURVIsIHRoaXMubWFnRmlsdGVyKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUubWFnRmlsdGVyID0gdGhpcy5tYWdGaWx0ZXI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy53cmFwUyAhPT0gdGhpcy5zdGF0ZS53cmFwUykge1xuICAgICAgICAgICAgdGhpcy5nbC50ZXhQYXJhbWV0ZXJpKHRoaXMudGFyZ2V0LCB0aGlzLmdsLlRFWFRVUkVfV1JBUF9TLCB0aGlzLndyYXBTKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUud3JhcFMgPSB0aGlzLndyYXBTO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMud3JhcFQgIT09IHRoaXMuc3RhdGUud3JhcFQpIHtcbiAgICAgICAgICAgIHRoaXMuZ2wudGV4UGFyYW1ldGVyaSh0aGlzLnRhcmdldCwgdGhpcy5nbC5URVhUVVJFX1dSQVBfVCwgdGhpcy53cmFwVCk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLndyYXBUID0gdGhpcy53cmFwVDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmFuaXNvdHJvcHkgJiYgdGhpcy5hbmlzb3Ryb3B5ICE9PSB0aGlzLnN0YXRlLmFuaXNvdHJvcHkpIHtcbiAgICAgICAgICAgIHRoaXMuZ2wudGV4UGFyYW1ldGVyZihcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldCxcbiAgICAgICAgICAgICAgICB0aGlzLmdsLnJlbmRlcmVyLmdldEV4dGVuc2lvbignRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljJykuVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQsXG4gICAgICAgICAgICAgICAgdGhpcy5hbmlzb3Ryb3B5XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5hbmlzb3Ryb3B5ID0gdGhpcy5hbmlzb3Ryb3B5O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaW1hZ2UpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmltYWdlLndpZHRoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMuaW1hZ2Uud2lkdGg7XG4gICAgICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLmltYWdlLmhlaWdodDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMudGFyZ2V0ID09PSB0aGlzLmdsLlRFWFRVUkVfQ1VCRV9NQVApIHtcbiAgICAgICAgICAgICAgICAvLyBGb3IgY3ViZSBtYXBzXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA2OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nbC50ZXhJbWFnZTJEKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nbC5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1ggKyBpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sZXZlbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJuYWxGb3JtYXQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm1hdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VbaV1cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKEFycmF5QnVmZmVyLmlzVmlldyh0aGlzLmltYWdlKSkge1xuICAgICAgICAgICAgICAgIC8vIERhdGEgdGV4dHVyZVxuICAgICAgICAgICAgICAgIHRoaXMuZ2wudGV4SW1hZ2UyRCh0aGlzLnRhcmdldCwgdGhpcy5sZXZlbCwgdGhpcy5pbnRlcm5hbEZvcm1hdCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIDAsIHRoaXMuZm9ybWF0LCB0aGlzLnR5cGUsIHRoaXMuaW1hZ2UpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmltYWdlLmlzQ29tcHJlc3NlZFRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICAvLyBDb21wcmVzc2VkIHRleHR1cmVcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBsZXZlbCA9IDA7IGxldmVsIDwgdGhpcy5pbWFnZS5sZW5ndGg7IGxldmVsKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nbC5jb21wcmVzc2VkVGV4SW1hZ2UyRChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmludGVybmFsRm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbWFnZVtsZXZlbF0ud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmltYWdlW2xldmVsXS5oZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbWFnZVtsZXZlbF0uZGF0YVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gUmVndWxhciB0ZXh0dXJlXG4gICAgICAgICAgICAgICAgdGhpcy5nbC50ZXhJbWFnZTJEKHRoaXMudGFyZ2V0LCB0aGlzLmxldmVsLCB0aGlzLmludGVybmFsRm9ybWF0LCB0aGlzLmZvcm1hdCwgdGhpcy50eXBlLCB0aGlzLmltYWdlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuZ2VuZXJhdGVNaXBtYXBzKSB7XG4gICAgICAgICAgICAgICAgLy8gRm9yIFdlYkdMMSwgaWYgbm90IGEgcG93ZXIgb2YgMiwgdHVybiBvZmYgbWlwcywgc2V0IHdyYXBwaW5nIHRvIGNsYW1wIHRvIGVkZ2UgYW5kIG1pbkZpbHRlciB0byBsaW5lYXJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZ2wucmVuZGVyZXIuaXNXZWJnbDIgJiYgKCFpc1Bvd2VyT2YyKHRoaXMuaW1hZ2Uud2lkdGgpIHx8ICFpc1Bvd2VyT2YyKHRoaXMuaW1hZ2UuaGVpZ2h0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZU1pcG1hcHMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53cmFwUyA9IHRoaXMud3JhcFQgPSB0aGlzLmdsLkNMQU1QX1RPX0VER0U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWluRmlsdGVyID0gdGhpcy5nbC5MSU5FQVI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nbC5nZW5lcmF0ZU1pcG1hcCh0aGlzLnRhcmdldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDYWxsYmFjayBmb3Igd2hlbiBkYXRhIGlzIHB1c2hlZCB0byBHUFVcbiAgICAgICAgICAgIHRoaXMub25VcGRhdGUgJiYgdGhpcy5vblVwZGF0ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMudGFyZ2V0ID09PSB0aGlzLmdsLlRFWFRVUkVfQ1VCRV9NQVApIHtcbiAgICAgICAgICAgICAgICAvLyBVcGxvYWQgZW1wdHkgcGl4ZWwgZm9yIGVhY2ggc2lkZSB3aGlsZSBubyBpbWFnZSB0byBhdm9pZCBlcnJvcnMgd2hpbGUgaW1hZ2Ugb3IgdmlkZW8gbG9hZGluZ1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2wudGV4SW1hZ2UyRChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2wuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YICsgaSxcbiAgICAgICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdsLlJHQkEsXG4gICAgICAgICAgICAgICAgICAgICAgICAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdsLlJHQkEsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdsLlVOU0lHTkVEX0JZVEUsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbXB0eVBpeGVsXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLndpZHRoKSB7XG4gICAgICAgICAgICAgICAgLy8gaW1hZ2UgaW50ZW50aW9uYWxseSBsZWZ0IG51bGwgZm9yIFJlbmRlclRhcmdldFxuICAgICAgICAgICAgICAgIHRoaXMuZ2wudGV4SW1hZ2UyRCh0aGlzLnRhcmdldCwgdGhpcy5sZXZlbCwgdGhpcy5pbnRlcm5hbEZvcm1hdCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIDAsIHRoaXMuZm9ybWF0LCB0aGlzLnR5cGUsIG51bGwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBVcGxvYWQgZW1wdHkgcGl4ZWwgaWYgbm8gaW1hZ2UgdG8gYXZvaWQgZXJyb3JzIHdoaWxlIGltYWdlIG9yIHZpZGVvIGxvYWRpbmdcbiAgICAgICAgICAgICAgICB0aGlzLmdsLnRleEltYWdlMkQodGhpcy50YXJnZXQsIDAsIHRoaXMuZ2wuUkdCQSwgMSwgMSwgMCwgdGhpcy5nbC5SR0JBLCB0aGlzLmdsLlVOU0lHTkVEX0JZVEUsIGVtcHR5UGl4ZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RvcmUuaW1hZ2UgPSB0aGlzLmltYWdlO1xuICAgIH1cbn1cbiIsIl9fd2VicGFja19yZXF1aXJlX18uaCA9ICgpID0+IChcIjJmYWQxNzRlNzQ1ZTk0OWE5MWRhXCIpIl0sIm5hbWVzIjpbIk1lZGlhIiwiY29uc3RydWN0b3IiLCJlbGVtZW50IiwiZ2VvbWV0cnkiLCJnbCIsImluZGV4Iiwic2NlbmUiLCJ0aGlzIiwiY3JlYXRlVGV4dHVyZSIsImNyZWF0ZVByb2dyYW0iLCJjcmVhdGVNZXNoIiwidGV4dHVyZSIsIlRleHR1cmUiLCJpbWFnZSIsIndpbmRvdyIsIkltYWdlIiwiY3Jvc3NPcmlnaW4iLCJzcmMiLCJnZXRBdHRyaWJ1dGUiLCJvbmxvYWQiLCJfIiwicHJvZ3JhbSIsIlByb2dyYW0iLCJmcmFnbWVudCIsInZlcnRleCIsInVuaWZvcm1zIiwidE1hcCIsInZhbHVlIiwibWVzaCIsIk1lc2giLCJzZXRQYXJlbnQiLCJwb3NpdGlvbiIsIngiLCJzY2FsZSIsImVtcHR5UGl4ZWwiLCJVaW50OEFycmF5IiwiaXNQb3dlck9mMiIsIklEIiwidGFyZ2V0IiwiVEVYVFVSRV8yRCIsInR5cGUiLCJVTlNJR05FRF9CWVRFIiwiZm9ybWF0IiwiUkdCQSIsImludGVybmFsRm9ybWF0Iiwid3JhcFMiLCJDTEFNUF9UT19FREdFIiwid3JhcFQiLCJnZW5lcmF0ZU1pcG1hcHMiLCJtaW5GaWx0ZXIiLCJORUFSRVNUX01JUE1BUF9MSU5FQVIiLCJMSU5FQVIiLCJtYWdGaWx0ZXIiLCJwcmVtdWx0aXBseUFscGhhIiwidW5wYWNrQWxpZ25tZW50IiwiZmxpcFkiLCJhbmlzb3Ryb3B5IiwibGV2ZWwiLCJ3aWR0aCIsImhlaWdodCIsImlkIiwiTWF0aCIsIm1pbiIsInJlbmRlcmVyIiwicGFyYW1ldGVycyIsIm1heEFuaXNvdHJvcHkiLCJzdG9yZSIsImdsU3RhdGUiLCJzdGF0ZSIsIlJFUEVBVCIsImJpbmQiLCJ0ZXh0dXJlVW5pdHMiLCJhY3RpdmVUZXh0dXJlVW5pdCIsImJpbmRUZXh0dXJlIiwidXBkYXRlIiwidGV4dHVyZVVuaXQiLCJuZWVkc1VwZGF0ZSIsImFjdGl2ZVRleHR1cmUiLCJwaXhlbFN0b3JlaSIsIlVOUEFDS19GTElQX1lfV0VCR0wiLCJVTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wiLCJVTlBBQ0tfQUxJR05NRU5UIiwidGV4UGFyYW1ldGVyaSIsIlRFWFRVUkVfTUlOX0ZJTFRFUiIsIlRFWFRVUkVfTUFHX0ZJTFRFUiIsIlRFWFRVUkVfV1JBUF9TIiwiVEVYVFVSRV9XUkFQX1QiLCJ0ZXhQYXJhbWV0ZXJmIiwiZ2V0RXh0ZW5zaW9uIiwiVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQiLCJURVhUVVJFX0NVQkVfTUFQIiwiaSIsInRleEltYWdlMkQiLCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1giLCJBcnJheUJ1ZmZlciIsImlzVmlldyIsImlzQ29tcHJlc3NlZFRleHR1cmUiLCJsZW5ndGgiLCJjb21wcmVzc2VkVGV4SW1hZ2UyRCIsImRhdGEiLCJpc1dlYmdsMiIsImdlbmVyYXRlTWlwbWFwIiwib25VcGRhdGUiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiaCJdLCJzb3VyY2VSb290IjoiIn0=