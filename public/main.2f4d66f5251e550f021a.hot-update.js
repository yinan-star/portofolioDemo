/*! For license information please see main.2f4d66f5251e550f021a.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdatefloema("main",{"./app/components/Canvas/home/index.js":(t,e,s)=>{s.r(e),s.d(e,{default:()=>a});var i=s("./node_modules/ogl/src/core/Transform.js"),h=s("./node_modules/ogl/src/extras/Plane.js"),r=s("./node_modules/gsap/index.js"),l=s("./node_modules/lodash/map.js"),o=s.n(l),n=s("./app/components/Canvas/home/Media.js");const a=class{constructor({gl:t,scene:e,sizes:s}){this.gl=t,this.scene=e,this.sizes=s,this.group=new i.Transform,this.galleryElement=document.querySelector(".home__gallery"),this.mediasElements=document.querySelectorAll(".home__gallery__media__image"),this.x={current:0,target:0,lerp:.1},this.y={current:0,target:0,lerp:.1},this.scrollCurrent={x:0,y:0},this.scroll={x:0,y:0},this.createGeometry(),this.createGallery(),this.group.setParent(this.scene)}createGeometry(){this.geometry=new h.Plane(this.gl)}createGallery(){this.medias=o()(this.mediasElements,((t,e)=>new n.default({element:t,geometry:this.geometry,gl:this.gl,index:e,scene:this.group,sizes:this.sizes})))}show(){o()(this.medias,(t=>t.show()))}hide(){o()(this.medias,(t=>t.hide()))}onResize(t){this.galleryBounds=this.galleryElement.getBoundingClientRect(),this.sizes=t.sizes,this.gallerySizes={height:this.galleryBounds.height/window.innerHeight*this.sizes.height,width:this.galleryBounds.width/window.innerWidth*this.sizes.width},this.scroll.x=this.x.target=0,this.scroll.y=this.y.target=0,o()(this.medias,(e=>e.onResize(t,this.scroll)))}onTouchDown({x:t,y:e}){this.scrollCurrent.x=this.scroll.x,this.scrollCurrent.y=this.scroll.y}onTouchMove({x:t,y:e}){const s=t.start-t.end,i=e.start-e.end;this.x.target=this.scrollCurrent.x-s,this.y.target=this.scrollCurrent.y-i}onTouchUp({x:t,y:e}){}onWheel({pixelX:t,pixelY:e}){this.x.target+=t,this.y.target+=e}update(){this.galleryBounds&&(this.x.current=r.default.utils.interpolate(this.x.current,this.x.target,this.x.lerp),this.y.current=r.default.utils.interpolate(this.y.current,this.y.target,this.y.lerp),this.scroll.x<this.x.current?this.x.direction="right":this.scroll.x>this.x.current&&(this.x.direction="left"),this.scroll.y<this.y.current?this.y.direction="top":this.scroll.y>this.y.current&&(this.y.direction="bottom"),this.scroll.x=this.x.current,this.scroll.y=this.y.current,o()(this.medias,((t,e)=>{const s=t.mesh.scale.x/2;if("left"===this.x.direction){t.mesh.position.x+s<-this.sizes.width/2&&(t.extra.x+=this.gallerySizes.width,t.mesh.rotation.z=r.default.utils.random(.03*-Math.PI,.03*Math.PI))}else if("right"===this.x.direction){t.mesh.position.x-s>this.sizes.width/2&&(t.extra.x-=this.gallerySizes.width,t.mesh.rotation.z=r.default.utils.random(.03*-Math.PI,.03*Math.PI))}const i=t.mesh.scale.y/2;if("bottom"===this.y.direction){t.mesh.position.y-i>this.sizes.height/2&&(t.extra.y-=this.gallerySizes.height,t.mesh.rotation.z=r.default.utils.random(.03*-Math.PI,.03*Math.PI))}else if("top"===this.y.direction){t.mesh.position.y+i<-this.sizes.height/2&&(t.extra.y+=this.gallerySizes.height,t.mesh.rotation.z=r.default.utils.random(.03*-Math.PI,.03*Math.PI))}t.update(this.scroll)})))}destroy(){this.scene.removeChild(this.group)}}}},(function(t){t.h=()=>"e142d2e80e14ee62d923"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LGFBQWFJLE1BQ25DVixFQUFNNEIsS0FBS0ksU0FBU0MsRUFBR1YsRUFBQUEsUUFBS0MsTUFBTVUsT0FBa0IsS0FBVkMsS0FBS0MsR0FBb0IsSUFBVkQsS0FBS0MsSUFHbEUsQ0FFRixNQUFNQyxFQUFTckMsRUFBTTRCLEtBQUtDLE1BQU0zQyxFQUFJLEVBQ2xDLEdBQXlCLFdBQXJCWixLQUFLWSxFQUFFd0MsVUFBdUIsQ0FDdEIxQixFQUFNNEIsS0FBS0UsU0FBUzVDLEVBQUltRCxFQUMxQi9ELEtBQUtELE1BQU1rQyxPQUFTLElBQzFCUCxFQUFNK0IsTUFBTTdDLEdBQUtaLEtBQUtnQyxhQUFhQyxPQUNuQ1AsRUFBTTRCLEtBQUtJLFNBQVNDLEVBQUdWLEVBQUFBLFFBQUtDLE1BQU1VLE9BQWtCLEtBQVZDLEtBQUtDLEdBQW9CLElBQVZELEtBQUtDLElBR2xFLE1BQU0sR0FBd0IsUUFBckI5RCxLQUFLWSxFQUFFd0MsVUFBb0IsQ0FDeEIxQixFQUFNNEIsS0FBS0UsU0FBUzVDLEVBQUltRCxHQUMxQi9ELEtBQUtELE1BQU1rQyxPQUFTLElBQzFCUCxFQUFNK0IsTUFBTTdDLEdBQUtaLEtBQUtnQyxhQUFhQyxPQUNuQ1AsRUFBTTRCLEtBQUtJLFNBQVNDLEVBQUdWLEVBQUFBLFFBQUtDLE1BQU1VLE9BQWtCLEtBQVZDLEtBQUtDLEdBQW9CLElBQVZELEtBQUtDLElBR2xFLENBSUFwQyxFQUFNc0IsT0FBT2hELEtBQUtjLE9BQU8sSUFHN0IsQ0FLQWtELE9BQUFBLEdBQ0VoRSxLQUFLRixNQUFNbUUsWUFBWWpFLEtBQUtDLE1BQzlCLGtCQ3BNRmlFLEVBQW9CQyxFQUFJLElBQU0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mbG9lbWEvLi9hcHAvY29tcG9uZW50cy9DYW52YXMvaG9tZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9mbG9lbWEvd2VicGFjay9ydW50aW1lL2dldEZ1bGxIYXNoIl0sInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IHsgUGxhbmUsIFRyYW5zZm9ybSB9IGZyb20gJ29nbCc7XG5pbXBvcnQgR1NBUCBmcm9tICdnc2FwJ1xuXG5pbXBvcnQgbWFwIGZyb20gJ2xvZGFzaC9tYXAnXG5cbmltcG9ydCBNZWRpYSBmcm9tICcuL01lZGlhJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKHsgZ2wsIHNjZW5lLCBzaXplcyB9KSB7XG4gICAgdGhpcy5nbCA9IGdsO1xuICAgIHRoaXMuc2NlbmUgPSBzY2VuZVxuICAgIHRoaXMuc2l6ZXMgPSBzaXplcztcbiAgICB0aGlzLmdyb3VwID0gbmV3IFRyYW5zZm9ybSgpO1xuXG4gICAgdGhpcy5nYWxsZXJ5RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ob21lX19nYWxsZXJ5JylcbiAgICB0aGlzLm1lZGlhc0VsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcbiAgICAgICcuaG9tZV9fZ2FsbGVyeV9fbWVkaWFfX2ltYWdlJ1xuICAgICk7XG5cbiAgICB0aGlzLnggPSB7XG4gICAgICBjdXJyZW50OiAwLFxuICAgICAgdGFyZ2V0OiAwLFxuICAgICAgbGVycDogMC4xXG4gICAgfVxuXG4gICAgdGhpcy55ID0ge1xuICAgICAgY3VycmVudDogMCxcbiAgICAgIHRhcmdldDogMCxcbiAgICAgIGxlcnA6IDAuMVxuICAgIH1cblxuICAgIHRoaXMuc2Nyb2xsQ3VycmVudCA9IHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwXG4gICAgfVxuXG4gICAgdGhpcy5zY3JvbGwgPSB7XG4gICAgICB4OiAwLFxuICAgICAgeTogMFxuICAgIH1cblxuICAgIHRoaXMuY3JlYXRlR2VvbWV0cnkoKTtcbiAgICB0aGlzLmNyZWF0ZUdhbGxlcnkoKTtcblxuXG4gICAgdGhpcy5ncm91cC5zZXRQYXJlbnQodGhpcy5zY2VuZSk7XG4gICAgLy8g5aeQ77yMY29uc3RydWN0b3LmoLzlvI/mmK8oe30pe33jgILkuI3opoHlv5jorrDkuoZcblxuICB9XG5cbiAgY3JlYXRlR2VvbWV0cnkoKSB7XG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBQbGFuZSh0aGlzLmdsKVxuICB9XG5cbiAgY3JlYXRlR2FsbGVyeSgpIHtcbiAgICAvLyDkvKDliLBNZWRpYemHjOmdolxuICAgIHRoaXMubWVkaWFzID0gbWFwKHRoaXMubWVkaWFzRWxlbWVudHMsIChlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBNZWRpYSh7XG4gICAgICAgIGVsZW1lbnQsXG4gICAgICAgIGdlb21ldHJ5OiB0aGlzLmdlb21ldHJ5LFxuICAgICAgICBnbDogdGhpcy5nbCxcbiAgICAgICAgaW5kZXgsXG4gICAgICAgIHNjZW5lOiB0aGlzLmdyb3VwLFxuICAgICAgICBzaXplczogdGhpcy5zaXplc1xuICAgICAgfSk7XG4gICAgfSlcbiAgfVxuXG4gICAvLyBBbmltYXRpb25zXG4gICBzaG93KCkge1xuICAgIG1hcCh0aGlzLm1lZGlhcywgbWVkaWEgPT4gbWVkaWEuc2hvdygpKVxuICB9XG4gIGhpZGUoKSB7XG4gICAgbWFwKHRoaXMubWVkaWFzLCBtZWRpYSA9PiBtZWRpYS5oaWRlKCkpXG4gIH1cblxuICAvLyBFdmVudHNcbiAgb25SZXNpemUoZXZlbnQpIHtcbiAgICB0aGlzLmdhbGxlcnlCb3VuZHMgPSB0aGlzLmdhbGxlcnlFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgLy8g6I635Y+W5YWD57Sg55qE5L2N572u5ZKM5bC65a+4XG5cbiAgICB0aGlzLnNpemVzID0gZXZlbnQuc2l6ZXNcbiAgICAvLyDlsY/luZXnmoTlsLrlr7jvvIznu5l1cGRhdGXogIzkuI3mmK/nlLvluIPnmoRcblxuICAgIHRoaXMuZ2FsbGVyeVNpemVzID0ge1xuICAgICAgaGVpZ2h0OnRoaXMuZ2FsbGVyeUJvdW5kcy5oZWlnaHQgLyB3aW5kb3cuaW5uZXJIZWlnaHQgKiB0aGlzLnNpemVzLmhlaWdodCxcbiAgICAgIHdpZHRoOiB0aGlzLmdhbGxlcnlCb3VuZHMud2lkdGggLyB3aW5kb3cuaW5uZXJXaWR0aCAqIHRoaXMuc2l6ZXMud2lkdGhcbiAgICB9XG4gICAgLy8g6K6h566X5b2T5YmN55S75buK55qE5a695bqm5Y2g6KeG56qX5Y+j55qE5a695bqm55qE5aSa5bCR54S25ZCO5LmY5Lul5YW35L2T55qE5a695bqmLS0+5bCG5YWD57Sg5Zyo6KeG5Y+j5Lit55qE5q+U5L6L6L2s5o2i5Li65YW35L2T55qE5a6e6ZmF5a695bqm44CC5ZON5bqU5byP5biD5bGAXG4gICAgdGhpcy5zY3JvbGwueCA9IHRoaXMueC50YXJnZXQgPSAwXG4gICAgdGhpcy5zY3JvbGwueSA9dGhpcy55LnRhcmdldCA9IDBcbiAgICBtYXAodGhpcy5tZWRpYXMsIG1lZGlhID0+IG1lZGlhLm9uUmVzaXplKGV2ZW50LCB0aGlzLnNjcm9sbCkpXG5cbiAgfVxuXG4gIG9uVG91Y2hEb3duKHsgeCwgeSB9KSB7XG4gICAgdGhpcy5zY3JvbGxDdXJyZW50LnggPSB0aGlzLnNjcm9sbC54XG4gICAgdGhpcy5zY3JvbGxDdXJyZW50LnkgPSB0aGlzLnNjcm9sbC55XG4gIH1cblxuICBvblRvdWNoTW92ZSh7IHgsIHkgfSkge1xuICAgIGNvbnN0IHhEaXN0YW5jZSA9IHguc3RhcnQgLSB4LmVuZFxuICAgIGNvbnN0IHlEaXN0YW5jZSA9IHkuc3RhcnQgLSB5LmVuZFxuXG4gICAgdGhpcy54LnRhcmdldCA9IHRoaXMuc2Nyb2xsQ3VycmVudC54IC0geERpc3RhbmNlLFxuICAgICAgdGhpcy55LnRhcmdldCA9IHRoaXMuc2Nyb2xsQ3VycmVudC55IC0geURpc3RhbmNlXG4gICAgLy8g5aaC5p6c6byg5qCH5ZKM5Zu+54mH55qE56e75Yqo55u45Y+N5pa55ZCR77yM6KaB55So5YeP5Y+3XG5cblxuICB9XG5cbiAgb25Ub3VjaFVwKHsgeCwgeSB9KSB7XG5cbiAgfVxuXG4gIG9uV2hlZWwoe3BpeGVsWCwgcGl4ZWxZfSl7XG4gICAgLy8g5o2V6I635rua5Yqo5LqL5Lu255qE5YOP57Sg5YC877yM54S25ZCO5qC55o2u6L+Z5Lqb5YC85p2l5pu05paw6aG16Z2i5Lit5p+Q5Lqb5YWD57Sg55qE5L2N572u5oiW54q25oCB77yM5a6e546w6aG16Z2i55qE5rua5Yqo5oiW6KeG5Zu+55qE5Y+Y5YyWXG4gICAgdGhpcy54LnRhcmdldCArPSBwaXhlbFhcbiAgICB0aGlzLnkudGFyZ2V0ICs9IHBpeGVsWVxuICB9XG5cbiAgLy8gVXBkYXRlXG4gIHVwZGF0ZSgpIHtcbiAgICBpZiAoIXRoaXMuZ2FsbGVyeUJvdW5kcykgcmV0dXJuXG4gICAgdGhpcy54LmN1cnJlbnQgPSBHU0FQLnV0aWxzLmludGVycG9sYXRlKHRoaXMueC5jdXJyZW50LCB0aGlzLngudGFyZ2V0LCB0aGlzLngubGVycClcbiAgICB0aGlzLnkuY3VycmVudCA9IEdTQVAudXRpbHMuaW50ZXJwb2xhdGUodGhpcy55LmN1cnJlbnQsIHRoaXMueS50YXJnZXQsIHRoaXMueS5sZXJwKVxuXG4gICAgaWYgKHRoaXMuc2Nyb2xsLnggPCB0aGlzLnguY3VycmVudCkge1xuICAgICAgdGhpcy54LmRpcmVjdGlvbiA9ICdyaWdodCdcbiAgICB9IGVsc2UgaWYgKHRoaXMuc2Nyb2xsLnggPiB0aGlzLnguY3VycmVudCkge1xuICAgICAgdGhpcy54LmRpcmVjdGlvbiA9ICdsZWZ0J1xuICAgIH1cbiAgICAvLyDmo4DmtYvpvKDmoIfmu5rliqjmlrnlkJHvvIzlvZPliY3kvY3nva7lkozlhYjliY3kvY3nva7lgZrmr5TovoPjgIJcbiAgICBpZiAodGhpcy5zY3JvbGwueSA8IHRoaXMueS5jdXJyZW50KSB7XG4gICAgICB0aGlzLnkuZGlyZWN0aW9uID0gJ3RvcCdcbiAgICB9IGVsc2UgaWYgKHRoaXMuc2Nyb2xsLnkgPiB0aGlzLnkuY3VycmVudCkge1xuICAgICAgdGhpcy55LmRpcmVjdGlvbiA9ICdib3R0b20nXG4gICAgfVxuXG4gICAgdGhpcy5zY3JvbGwueCA9IHRoaXMueC5jdXJyZW50XG4gICAgdGhpcy5zY3JvbGwueSA9IHRoaXMueS5jdXJyZW50XG5cbiAgICBtYXAodGhpcy5tZWRpYXMsIChtZWRpYSwgaW5kZXgpID0+IHtcbiAgICAvLyBGb3IgWCBheGlzXG4gICAgICBjb25zdCBzY2FsZVggPSBtZWRpYS5tZXNoLnNjYWxlLnggLyAyXG4gICAgICBpZiAodGhpcy54LmRpcmVjdGlvbiA9PT0gJ2xlZnQnKXtcbiAgICAgICAgY29uc3QgeCA9IG1lZGlhLm1lc2gucG9zaXRpb24ueCArIHNjYWxlWFxuICAgICAgICAvLyDlhYPntKDnmoR45L2N572uK+i/meS4quWFg+e0oOeahOS4gOWNiueahOWuveW6pu+8jOWwseaYr+esrOS4gOS4quWFg+e0oOeahOacgOWPs+i+uei+ueeVjO+8jOi/meS4qui+ueeVjOWwj+mbqOWxj+W5leeahOacgOW3pui+ueeahOi+ueeVjOWwseaYr+WbvueJh291dCBvZiBwaWN0dXJlXG4gICAgICAgIGlmICh4IDwgLXRoaXMuc2l6ZXMud2lkdGggLyAyKSB7XG4gICAgICAgICAgLy8g6KGo56S65bGP5bmV5a695bqm55qE5LiA5Y2K44CC5bCG5YW25Y+W6LSf5YC855qE5Y6f5Zug5piv77yM6YCa5bi45oOF5Ya15LiL5bGP5bmV5bem5L6n6L6555WM55qE5Z2Q5qCH5YC85piv6LSf55qE77yM6ICM5bGP5bmV5Y+z5L6n6L6555WM5piv5q2j55qE44CCXG4gICAgICAgICAgLy8g5qOA5p+l56ys5LiA5Liq5aqS5L2T5YWD57Sg55qE5L2N572u5piv5ZCm6LaF5Ye65bGP5bmV5bem5L6n6L6555WMXG4gICAgICAgICAgbWVkaWEuZXh0cmEueCArPSB0aGlzLmdhbGxlcnlTaXplcy53aWR0aFxuICAgICAgICAgIC8vIOW9k+eUqOaIt+W+gOW3pui+ueaLve+8jOW5tuS4lOenu+WHuuWOu+WQju+8jOimgeWwhuWug+aUvuWIsOacgOWPs+i+ueiuqeS7luS7juWPs+i+uei/m+adpe+8jCDovr7miJDkuIDkuKrlvqrnjq8s5bCx5piv56ys5LiA5Liq5YWD57Sg55qEWOe0r+WKoOS4iuaVtOS4queUu+W7iueahOWuveW6pu+8jOWwseWIsOS6huacgOWPs+i+uVxuICAgICAgICAgIC8vIOebuOWvueS6juWvueixoeiHqui6q+eahOS4reW/g+i9tOaIluiAheWOn+eCueeahOS9jee9ru+8jOS5n+WwseaYr+ivtGxvY2FsIHBvc2l0aW9uXG4gICAgICAgICAgbWVkaWEubWVzaC5yb3RhdGlvbi56ID1HU0FQLnV0aWxzLnJhbmRvbSgtTWF0aC5QSSAqIDAuMDMsTWF0aC5QSSAqIDAuMDMpXG4gIFxuICAgICAgICB9XG4gICAgICB9ZWxzZSBpZih0aGlzLnguZGlyZWN0aW9uID09PSAncmlnaHQnKXtcbiAgICAgICAgY29uc3QgeCA9IG1lZGlhLm1lc2gucG9zaXRpb24ueCAtIHNjYWxlWFxuICAgICAgICBpZih4ID4gdGhpcy5zaXplcy53aWR0aCAvIDIpe1xuICAgICAgICAgIG1lZGlhLmV4dHJhLnggLT0gdGhpcy5nYWxsZXJ5U2l6ZXMud2lkdGhcbiAgICAgICAgICBtZWRpYS5tZXNoLnJvdGF0aW9uLnogPUdTQVAudXRpbHMucmFuZG9tKC1NYXRoLlBJICogMC4wMyxNYXRoLlBJICogMC4wMylcbiAgICAgICAgfVxuICAgICAgICAgLy8g6L+Z5Liq5YWD57Sg55qE5bem6L656L6555WM5aSn5LqO5bGP5bmV5pyA5Y+z6L65LOWwseenu+WIsOWJjemdouadpVxuICAgICAgfVxuICAgIC8vIEZvciBZIGF4aXNcbiAgICBjb25zdCBzY2FsZVkgPSBtZWRpYS5tZXNoLnNjYWxlLnkgLyAyXG4gICAgICBpZiAodGhpcy55LmRpcmVjdGlvbiA9PT0gJ2JvdHRvbScpe1xuICAgICAgICBjb25zdCB5ID0gbWVkaWEubWVzaC5wb3NpdGlvbi55IC0gc2NhbGVZIFxuICAgICAgICBpZiAoeSA+IHRoaXMuc2l6ZXMuaGVpZ2h0IC8gMikge1xuICAgICAgICAgIG1lZGlhLmV4dHJhLnkgLT0gdGhpcy5nYWxsZXJ5U2l6ZXMuaGVpZ2h0XG4gICAgICAgICAgbWVkaWEubWVzaC5yb3RhdGlvbi56ID1HU0FQLnV0aWxzLnJhbmRvbSgtTWF0aC5QSSAqIDAuMDMsTWF0aC5QSSAqIDAuMDMpXG4gICAgICAgIH1cbiAgICAgICAgLy8g5b6A5LiL5ruR77yM6aG26YOo5YWD57Sg55qE5bqV6YOo6L6555WM5aSn5LqO5bGP5bmV5pyA5pyA6aG256uvLOWwseenu+WIsOW6lemDqOadpVxuICAgICAgfWVsc2UgaWYodGhpcy55LmRpcmVjdGlvbiA9PT0gJ3RvcCcpe1xuICAgICAgICBjb25zdCB5ID0gbWVkaWEubWVzaC5wb3NpdGlvbi55ICsgc2NhbGVZIFxuICAgICAgICBpZih5IDwgLXRoaXMuc2l6ZXMuaGVpZ2h0IC8gMil7XG4gICAgICAgICAgbWVkaWEuZXh0cmEueSArPSB0aGlzLmdhbGxlcnlTaXplcy5oZWlnaHRcbiAgICAgICAgICBtZWRpYS5tZXNoLnJvdGF0aW9uLnogPUdTQVAudXRpbHMucmFuZG9tKC1NYXRoLlBJICogMC4wMyxNYXRoLlBJICogMC4wMylcbiAgICAgICAgfVxuICAgICAgICAgLy8g5b6A5LiK5ruR77yM6L+Z5Liq5YWD57Sg55qE6aG26YOo6L6555WM5bCP5LqO5bGP5bmV5pyA5pyA5bqV56uvLOWwseenu+WIsOmhtumDqOadpVxuICAgICAgfVxuXG4gICAgIFxuXG4gICAgICBtZWRpYS51cGRhdGUodGhpcy5zY3JvbGwpXG4gICAgfSlcbiAgICAvLyDkvKDnu5ltZWRpYeaWh+S7tlxuICB9XG5cbiAgLyoqXG4gICAqIERlc3Ryb3lcbiAgICovXG4gIGRlc3Ryb3koKXtcbiAgICB0aGlzLnNjZW5lLnJlbW92ZUNoaWxkKHRoaXMuZ3JvdXApXG4gIH1cblxufSIsIl9fd2VicGFja19yZXF1aXJlX18uaCA9ICgpID0+IChcImUxNDJkMmU4MGUxNGVlNjJkOTIzXCIpIl0sIm5hbWVzIjpbImNvbnN0cnVjdG9yIiwiZ2wiLCJzY2VuZSIsInNpemVzIiwidGhpcyIsImdyb3VwIiwiVHJhbnNmb3JtIiwiZ2FsbGVyeUVsZW1lbnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJtZWRpYXNFbGVtZW50cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ4IiwiY3VycmVudCIsInRhcmdldCIsImxlcnAiLCJ5Iiwic2Nyb2xsQ3VycmVudCIsInNjcm9sbCIsImNyZWF0ZUdlb21ldHJ5IiwiY3JlYXRlR2FsbGVyeSIsInNldFBhcmVudCIsImdlb21ldHJ5IiwiUGxhbmUiLCJtZWRpYXMiLCJtYXAiLCJlbGVtZW50IiwiaW5kZXgiLCJNZWRpYSIsInNob3ciLCJtZWRpYSIsImhpZGUiLCJvblJlc2l6ZSIsImV2ZW50IiwiZ2FsbGVyeUJvdW5kcyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImdhbGxlcnlTaXplcyIsImhlaWdodCIsIndpbmRvdyIsImlubmVySGVpZ2h0Iiwid2lkdGgiLCJpbm5lcldpZHRoIiwib25Ub3VjaERvd24iLCJvblRvdWNoTW92ZSIsInhEaXN0YW5jZSIsInN0YXJ0IiwiZW5kIiwieURpc3RhbmNlIiwib25Ub3VjaFVwIiwib25XaGVlbCIsInBpeGVsWCIsInBpeGVsWSIsInVwZGF0ZSIsIkdTQVAiLCJ1dGlscyIsImludGVycG9sYXRlIiwiZGlyZWN0aW9uIiwic2NhbGVYIiwibWVzaCIsInNjYWxlIiwicG9zaXRpb24iLCJleHRyYSIsInJvdGF0aW9uIiwieiIsInJhbmRvbSIsIk1hdGgiLCJQSSIsInNjYWxlWSIsImRlc3Ryb3kiLCJyZW1vdmVDaGlsZCIsIl9fd2VicGFja19yZXF1aXJlX18iLCJoIl0sInNvdXJjZVJvb3QiOiIifQ==