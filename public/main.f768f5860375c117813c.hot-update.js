/*! For license information please see main.f768f5860375c117813c.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdatefloema("main",{"./app/index.js":(e,t,n)=>{n.r(t);var s=n("./node_modules/lodash/each.js"),a=n.n(s),i=n("./node_modules/normalize-wheel/index.js"),o=n.n(i),h=n("./app/components/Canvas/index.js"),d=n("./app/components/Navigation.js"),c=n("./app/components/Preloader.js"),p=n("./app/pages/About/About.js"),r=n("./app/pages/Collections/Collections.js"),l=n("./app/pages/Detail/Detail.js"),u=n("./app/pages/Home/index.js");new class{constructor(){this.createContent(),this.createCanvas(),this.createPreloader(),this.createNavigation(),this.createPages(),this.addLinkListeners(),this.addEventListeners(),this.onResize(),this.update()}createNavigation(){this.navigation=new d.default({template:this.template})}createPreloader(){this.preloader=new c.default({canvas:this.canvas}),this.preloader.once("completed",this.onPreloaded.bind(this))}createCanvas(){this.canvas=new h.default({template:this.template})}createContent(){this.content=document.querySelector(".content"),this.template=this.content.getAttribute("data-template")}createPages(){this.pages={about:new p.default,collections:new r.default,detail:new l.default,home:new u.default},this.page=this.pages[this.template],this.page.create()}onPreloaded(){this.onResize(),this.canvas.onPreloaded(),this.page.show()}onPopState(){this.onChange(window.location.pathname)}async onChange(e){this.canvas.onChangeStart(this.template,e),await this.page.hide();const t=await window.fetch(e);if(200===t.status){const n=await t.text(),s=document.createElement("div");window.history.pushState({},"",e),s.innerHTML=n;const a=s.querySelector(".content");this.template=a.getAttribute("data-template"),this.navigation.onChange(this.template),this.content.setAttribute("data-template",this.template),this.content.innerHTML=a.innerHTML,this.canvas.onChangeEnd(this.template),this.page=this.pages[this.template],this.page.create(),this.onResize(),this.page.show(),this.addLinkListeners()}else console.log("Error");console.log(t)}onResize(){window.requestAnimationFrame((e=>{this.canvas&&this.canvas.onResize&&this.canvas.onResize()})),this.page&&this.page.onResize&&this.page.onResize()}onTouchDown(e){this.canvas&&this.canvas.onTouchDown&&this.canvas.onTouchDown(e)}onTouchMove(e){this.canvas&&this.canvas.onTouchMove&&this.canvas.onTouchMove(e)}onTouchUp(e){this.canvas&&this.canvas.onTouchUp&&this.canvas.onTouchUp(e)}onWheel(e){const t=o()(e);this.canvas&&this.canvas.onWheel&&this.canvas.onWheel(t),this.page&&this.page.onWheel&&this.page.onWheel(t)}update(){this.page&&this.page.update&&this.page.update(),this.canvas&&this.canvas.update&&this.canvas.update(this.page.scroll),this.frame=window.requestAnimationFrame(this.update.bind(this))}addEventListeners(){window.addEventListener("popstate",this.onPopState.bind(this)),window.addEventListener("mousewheel",this.onWheel.bind(this)),window.addEventListener("mousedown",this.onTouchDown.bind(this)),window.addEventListener("mousemove",this.onTouchMove.bind(this)),window.addEventListener("mouseup",this.onTouchUp.bind(this)),window.addEventListener("touchstart",this.onTouchDown.bind(this)),window.addEventListener("touchmove",this.onTouchMove.bind(this)),window.addEventListener("touchend",this.onTouchUp.bind(this)),window.addEventListener("resize",this.onResize.bind(this))}addLinkListeners(){const e=document.querySelectorAll("a");a()(e,(e=>{e.onclick=t=>{t.preventDefault();const{href:n}=e;this.onChange(n)}}))}}}},(function(e){e.h=()=>"dc709fd799c4e621f16d"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFLUSxTQUFTVSxLQUFLbEIsTUFDdkQsQ0FFQU0sZ0JBQUFBLEdBRUUsTUFBTWlFLEVBQVFsRCxTQUFTbUQsaUJBQWlCLEtBR3hDQyxJQUFLRixHQUFRRyxJQUNYQSxFQUFLQyxRQUFXYixJQUNkQSxFQUFNYyxpQkFFTixNQUFNLEtBQUVDLEdBQVNILEVBRWpCMUUsS0FBS3FDLFNBQVN3QyxFQUFLLENBQ3BCLEdBRUwsa0JDdk9GQyxFQUFvQkMsRUFBSSxJQUFNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmxvZW1hLy4vYXBwL2luZGV4LmpzIiwid2VicGFjazovL2Zsb2VtYS93ZWJwYWNrL3J1bnRpbWUvZ2V0RnVsbEhhc2giXSwic291cmNlc0NvbnRlbnQiOlsiLy8g5YWz5LmO5pW05Liq572R6aG155qE5bGV56S65L+h5oGvXG5pbXBvcnQgZWFjaCBmcm9tICdsb2Rhc2gvZWFjaCc7XG5pbXBvcnQgTm9ybWFsaXplV2hlZWwgZnJvbSAnbm9ybWFsaXplLXdoZWVsJ1xuXG5pbXBvcnQgQ2FudmFzIGZyb20gJ2NvbXBvbmVudHMvQ2FudmFzJztcbmltcG9ydCBOYXZpZ2F0aW9uIGZyb20gJy4vY29tcG9uZW50cy9OYXZpZ2F0aW9uJztcbmltcG9ydCBQcmVsb2FkZXIgZnJvbSAnY29tcG9uZW50cy9QcmVsb2FkZXInXG5cbmltcG9ydCBBYm91dCBmcm9tIFwiLi9wYWdlcy9BYm91dC9BYm91dFwiO1xuaW1wb3J0IENvbGxlY3Rpb25zIGZyb20gXCIuL3BhZ2VzL0NvbGxlY3Rpb25zL0NvbGxlY3Rpb25zXCI7XG5pbXBvcnQgRGV0YWlsIGZyb20gXCIuL3BhZ2VzL0RldGFpbC9EZXRhaWxcIjtcbmltcG9ydCBIb21lIGZyb20gXCIuL3BhZ2VzL0hvbWVcIjtcblxuY2xhc3MgQXBwIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLy8g5Y+s5ZSkXG4gICAgdGhpcy5jcmVhdGVDb250ZW50KClcblxuICAgIHRoaXMuY3JlYXRlQ2FudmFzKClcbiAgICB0aGlzLmNyZWF0ZVByZWxvYWRlcigpXG4gICAgdGhpcy5jcmVhdGVOYXZpZ2F0aW9uKClcblxuICAgIHRoaXMuY3JlYXRlUGFnZXMoKVxuXG4gICAgdGhpcy5hZGRMaW5rTGlzdGVuZXJzKCk7XG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVycygpO1xuXG4gICAgdGhpcy5vblJlc2l6ZSgpXG5cbiAgICB0aGlzLnVwZGF0ZSgpO1xuXG4gIH1cbiAgLy8g5Yid5aeL5YyW57G7XG4gIGNyZWF0ZU5hdmlnYXRpb24oKSB7XG4gICAgdGhpcy5uYXZpZ2F0aW9uID0gbmV3IE5hdmlnYXRpb24oeyB0ZW1wbGF0ZTogdGhpcy50ZW1wbGF0ZSB9KTtcbiAgfVxuXG4gIGNyZWF0ZVByZWxvYWRlcigpIHtcbiAgICB0aGlzLnByZWxvYWRlciA9IG5ldyBQcmVsb2FkZXIoe1xuICAgICAgY2FudmFzOiB0aGlzLmNhbnZhc1xuICAgIH0pXG4gICAgdGhpcy5wcmVsb2FkZXIub25jZSgnY29tcGxldGVkJywgdGhpcy5vblByZWxvYWRlZC5iaW5kKHRoaXMpKVxuICB9XG5cbiAgY3JlYXRlQ2FudmFzKCkge1xuICAgIHRoaXMuY2FudmFzID0gbmV3IENhbnZhcyh7XG4gICAgICB0ZW1wbGF0ZTogdGhpcy50ZW1wbGF0ZVxuICAgIH0pXG4gIH1cblxuICBjcmVhdGVDb250ZW50KCkge1xuICAgIHRoaXMuY29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250ZW50Jyk7IC8vREVTOiBzZWxlY3RpbmcgdGhlIGNvbnRlbnQgY2xhc3NcbiAgICB0aGlzLnRlbXBsYXRlID0gdGhpcy5jb250ZW50LmdldEF0dHJpYnV0ZSgnZGF0YS10ZW1wbGF0ZScpOyAvL0RFUzogZ2V0dGluZyB0aGUgZGF0YXNldC10ZW1wbGF0ZVxuICB9XG5cbiAgY3JlYXRlUGFnZXMoKSB7XG4gICAgLy8g5Yid5aeL5YyW6aG16Z2iLOWFiOW7uuaWh+aho++8jOWcqOWGmei/meS4qu+8jOS7luS8muiHquWKqOW8ueWHumltcG9ydFxuICAgIHRoaXMucGFnZXMgPSB7XG4gICAgICBhYm91dDogbmV3IEFib3V0KCksXG4gICAgICBjb2xsZWN0aW9uczogbmV3IENvbGxlY3Rpb25zKCksXG4gICAgICBkZXRhaWw6IG5ldyBEZXRhaWwoKSxcbiAgICAgIGhvbWU6IG5ldyBIb21lKCksXG4gICAgfVxuICAgIHRoaXMucGFnZSA9IHRoaXMucGFnZXNbdGhpcy50ZW1wbGF0ZV1cbiAgICAvLyDkvaDlnKjlk6rkuKrpobXpnaLlsLHmuLLmn5Pkuoblk6rkuKrpobXpnaLvvIxkYXRhMHRlbXBhbHRl5a6D5L2/5b6X5L2g5Y+v5Lul5ZyoIEhUTUwg5YWD57Sg5Lit5a2Y5YKo5pWw5o2u77yM54S25ZCO6YCa6L+HIEphdmFTY3JpcHQg5p2l6K+75Y+W5ZKM5L2/55So6L+Z5Lqb5pWw5o2u77yMXG4gICAgdGhpcy5wYWdlLmNyZWF0ZSgpXG5cblxuICB9XG5cbiAgLyoqXG4gICAqIEV2ZW50c1xuICAgKi9cbiAgb25QcmVsb2FkZWQoKSB7XG4gICAgdGhpcy5vblJlc2l6ZSgpXG5cbiAgICB0aGlzLmNhbnZhcy5vblByZWxvYWRlZCgpXG4gICAgdGhpcy5wYWdlLnNob3coKVxuICAgIC8vIOmUgOavgS3ph43mlrDlrprkuYnlsLrlr7gt6aG16Z2i5bGV56S6XG4gIH1cblxuICBvblBvcFN0YXRlKCl7XG4gICAgdGhpcy5vbkNoYW5nZSh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUpXG4gIH1cbiAgLy8g5rWP6KeI5Zmo6L+U5Zue6ZSu6LW35L2c55SoXG5cbiAgYXN5bmMgb25DaGFuZ2UodXJsKSB7Ly8g5ZCM5q2laHRtbOmHjOeahHVybOmTvuaOpe+8jOS9v+W+l+WcqGNoZWNr5pe25LiN5Lya55yL5Yiw5rKh5pyJ5pu05paw55qEY29udGVudOWQjeWtl1xuICAgIHRoaXMuY2FudmFzLm9uQ2hhbmdlU3RhcnQodGhpcy50ZW1wbGF0ZSwgdXJsKVxuXG4gICAgYXdhaXQgdGhpcy5wYWdlLmhpZGUoKVxuICAgIC8vIOW9k+eCueWHu+aXtu+8jOW9k+WJjemhtemdouS8muiiq+makOiXj1xuICAgIGNvbnN0IHJlcXVlc3QgPSBhd2FpdCB3aW5kb3cuZmV0Y2godXJsKVxuXG4gICAgaWYgKHJlcXVlc3Quc3RhdHVzID09PSAyMDApIHtcbiAgICAgIGNvbnN0IGh0bWwgPSBhd2FpdCByZXF1ZXN0LnRleHQoKVxuICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcblxuICAgICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKHt9LCAnJywgdXJsKVxuICAgICAgLy8g5bCx5piv6K+05L2g54K55Ye75ZOq5Liq6aG16Z2iLHVybOeahOWQjue8gOWwseaYr+WTquS4qumhtemdoueahC9jb2xsZWN0aXNvbnMgb3IgL2Fib3V0IG9yIC9zbGFzaCBob21lXG5cblxuICAgICAgZGl2LmlubmVySFRNTCA9IGh0bWxcblxuICAgICAgY29uc3QgZGl2Q29udGVudCA9IGRpdi5xdWVyeVNlbGVjdG9yKCcuY29udGVudCcpXG5cbiAgICAgIHRoaXMudGVtcGxhdGUgPSBkaXZDb250ZW50LmdldEF0dHJpYnV0ZSgnZGF0YS10ZW1wbGF0ZScpXG5cblxuICAgICAgdGhpcy5uYXZpZ2F0aW9uLm9uQ2hhbmdlKHRoaXMudGVtcGxhdGUpXG5cbiAgICAgIHRoaXMuY29udGVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGVtcGxhdGUnLCB0aGlzLnRlbXBsYXRlKVxuICAgICAgdGhpcy5jb250ZW50LmlubmVySFRNTCA9IGRpdkNvbnRlbnQuaW5uZXJIVE1MXG5cbiAgICAgIHRoaXMuY2FudmFzLm9uQ2hhbmdlRW5kKHRoaXMudGVtcGxhdGUpXG5cbiAgICAgIHRoaXMucGFnZSA9IHRoaXMucGFnZXNbdGhpcy50ZW1wbGF0ZV1cbiAgICAgIC8vIOi/meS4qnRlbXBsYXRl5piv5paw55qE6aG16Z2i55qEdGVtcGxhdGVcblxuICAgICAgdGhpcy5wYWdlLmNyZWF0ZSgpXG4gICAgICB0aGlzLm9uUmVzaXplKClcbiAgICAgIHRoaXMucGFnZS5zaG93KClcbiAgICAgIHRoaXMuYWRkTGlua0xpc3RlbmVycygpXG4gICAgICAvLyDov5nph4zlj4jlhpnkuIDpgY3mmK/lm6DkuLrlnKjliJvlu7rmlrDnmoTpobXpnaLkuYvlkI7vvIzmnInkupvpobXpnaLph4zpnaLov5jmnInmlrDnmoTpk77mjqXvvIzmiYDku6XlnKjmjonkuIDmrKHov5nkuKrmlrnms5VcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZygnRXJyb3InKVxuICAgIH1cblxuICAgIC8vIGlmIChyZXF1ZXN0LnN0YXR1cylcbiAgICBjb25zb2xlLmxvZyhyZXF1ZXN0KVxuICB9XG5cbiAgb25SZXNpemUoKSB7XG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShfID0+IHtcbiAgICAgIGlmICh0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy5vblJlc2l6ZSkge1xuICAgICAgICB0aGlzLmNhbnZhcy5vblJlc2l6ZSgpO1xuICAgICAgfVxuICAgICAgLy8g5aSE55CG56qX5Y+j6LCD5pW05aSn5bCP5LqL5Lu255qE5Ye95pWw44CC5b2T5rWP6KeI5Zmo56qX5Y+j5aSn5bCP5pS55Y+Y5pe277yI5q+U5aaC55So5oi36LCD5pW056qX5Y+j5aSn5bCP5oiW6ICF6K6+5aSH5Y+R55Sf5peL6L2s77yJ77yM5Lya6Kem5Y+RIG9uUmVzaXplIOWHveaVsOOAglxuICAgIH0pXG5cblxuICAgIGlmICh0aGlzLnBhZ2UgJiYgdGhpcy5wYWdlLm9uUmVzaXplKSB7XG4gICAgICB0aGlzLnBhZ2Uub25SZXNpemUoKTtcbiAgICB9XG4gIH1cblxuICBvblRvdWNoRG93bihldmVudCkge1xuICAgIGlmICh0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy5vblRvdWNoRG93bikge1xuICAgICAgdGhpcy5jYW52YXMub25Ub3VjaERvd24oZXZlbnQpO1xuICAgIH1cblxuXG4gIH1cblxuICBvblRvdWNoTW92ZShldmVudCkge1xuICAgIGlmICh0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy5vblRvdWNoTW92ZSkge1xuICAgICAgdGhpcy5jYW52YXMub25Ub3VjaE1vdmUoZXZlbnQpO1xuICAgIH1cblxuICB9XG5cbiAgb25Ub3VjaFVwKGV2ZW50KSB7XG4gICAgaWYgKHRoaXMuY2FudmFzICYmIHRoaXMuY2FudmFzLm9uVG91Y2hVcCkge1xuICAgICAgdGhpcy5jYW52YXMub25Ub3VjaFVwKGV2ZW50KTtcbiAgICB9XG4gIH1cblxuICBvbldoZWVsKGV2ZW50KSB7XG4gICAgY29uc3Qgbm9ybWFsaXplZFdoZWVsID0gTm9ybWFsaXplV2hlZWwoZXZlbnQpO1xuICAgIGlmICh0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy5vbldoZWVsKSB7XG4gICAgICB0aGlzLmNhbnZhcy5vbldoZWVsKG5vcm1hbGl6ZWRXaGVlbCk7XG4gICAgICAvLyDosIPnlKjnlLvluIPnmoRvbldoZWVs55qE5pa55rOV77yM5bm25bCG5qCH5YeG5YyW5aSE55CG5ZCO55qE5rua5Yqo5YC85L2c5Li65Y+C5pWw5Lyg6L+b5Y67XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucGFnZSAmJiB0aGlzLnBhZ2Uub25XaGVlbCkge1xuICAgICAgdGhpcy5wYWdlLm9uV2hlZWwobm9ybWFsaXplZFdoZWVsKTtcbiAgICB9XG4gIH1cblxuXG4gIC8qKlxuICAgKiBMb29wXG4gICAqL1xuXG4gIHVwZGF0ZSgpIHsgLy8g5Yqo55S75oiW6aG16Z2i5pu05paw55qE5b6q546vXG5cbiAgICBpZiAodGhpcy5wYWdlICYmIHRoaXMucGFnZS51cGRhdGUpIHtcbiAgICAgIHRoaXMucGFnZS51cGRhdGUoKTtcbiAgICB9XG4gICAgLy8g5YWI5riy5p+T6aG16Z2i77yM5Zug5Li65pyJY29ycmVjdCBZIHBvc2l0aW9u77yM5omA5Lul5ZCO6Z2i55qEY2FudmFz55qEWeS5n+S8mui3n+edgOabtOaWsFxuXG4gICAgaWYgKHRoaXMuY2FudmFzICYmIHRoaXMuY2FudmFzLnVwZGF0ZSkge1xuICAgICAgdGhpcy5jYW52YXMudXBkYXRlKHRoaXMucGFnZS5zY3JvbGwpO1xuICAgIH1cblxuICAgIHRoaXMuZnJhbWUgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMudXBkYXRlLmJpbmQodGhpcykpO1xuICB9XG5cbiAgLyoqXG4gICAqIExpc3RlbmVyc1xuICAgKi9cbiAgYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgdGhpcy5vblBvcFN0YXRlLmJpbmQodGhpcykpXG4gICAgLy8g5rWP6KeI5Zmo6L+U5Zue6ZSu6LW35L2c55SoXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNld2hlZWwnLCB0aGlzLm9uV2hlZWwuYmluZCh0aGlzKSlcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm9uVG91Y2hEb3duLmJpbmQodGhpcykpXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Ub3VjaE1vdmUuYmluZCh0aGlzKSlcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Ub3VjaFVwLmJpbmQodGhpcykpXG4gICAgLy8g55S16ISR56uv55qEXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLm9uVG91Y2hEb3duLmJpbmQodGhpcykpXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMub25Ub3VjaE1vdmUuYmluZCh0aGlzKSlcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLm9uVG91Y2hVcC5iaW5kKHRoaXMpKVxuICAgIC8vIOenu+WKqOerr+eahFxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLm9uUmVzaXplLmJpbmQodGhpcykpO1xuICB9XG5cbiAgYWRkTGlua0xpc3RlbmVycygpIHsvLyDpk77mjqXot7PovazlpITnkIZcblxuICAgIGNvbnN0IGxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYScpXG4gICAgLy8g6YCJ5oup5omA5pyJ6ZO+5o6l77yMbGlua3PmmK/mlbDnu4RcblxuICAgIGVhY2gobGlua3MsIChsaW5rKSA9PiB7XG4gICAgICBsaW5rLm9uY2xpY2sgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuXG4gICAgICAgIGNvbnN0IHsgaHJlZiB9ID0gbGlua1xuXG4gICAgICAgIHRoaXMub25DaGFuZ2UoaHJlZilcbiAgICAgIH1cbiAgICB9KVxuICB9XG59XG5uZXcgQXBwKCkiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmggPSAoKSA9PiAoXCJkYzcwOWZkNzk5YzRlNjIxZjE2ZFwiKSJdLCJuYW1lcyI6WyJjb25zdHJ1Y3RvciIsInRoaXMiLCJjcmVhdGVDb250ZW50IiwiY3JlYXRlQ2FudmFzIiwiY3JlYXRlUHJlbG9hZGVyIiwiY3JlYXRlTmF2aWdhdGlvbiIsImNyZWF0ZVBhZ2VzIiwiYWRkTGlua0xpc3RlbmVycyIsImFkZEV2ZW50TGlzdGVuZXJzIiwib25SZXNpemUiLCJ1cGRhdGUiLCJuYXZpZ2F0aW9uIiwiTmF2aWdhdGlvbiIsInRlbXBsYXRlIiwicHJlbG9hZGVyIiwiUHJlbG9hZGVyIiwiY2FudmFzIiwib25jZSIsIm9uUHJlbG9hZGVkIiwiYmluZCIsIkNhbnZhcyIsImNvbnRlbnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJnZXRBdHRyaWJ1dGUiLCJwYWdlcyIsImFib3V0IiwiQWJvdXQiLCJjb2xsZWN0aW9ucyIsIkNvbGxlY3Rpb25zIiwiZGV0YWlsIiwiRGV0YWlsIiwiaG9tZSIsIkhvbWUiLCJwYWdlIiwiY3JlYXRlIiwic2hvdyIsIm9uUG9wU3RhdGUiLCJvbkNoYW5nZSIsIndpbmRvdyIsImxvY2F0aW9uIiwicGF0aG5hbWUiLCJ1cmwiLCJvbkNoYW5nZVN0YXJ0IiwiaGlkZSIsInJlcXVlc3QiLCJmZXRjaCIsInN0YXR1cyIsImh0bWwiLCJ0ZXh0IiwiZGl2IiwiY3JlYXRlRWxlbWVudCIsImhpc3RvcnkiLCJwdXNoU3RhdGUiLCJpbm5lckhUTUwiLCJkaXZDb250ZW50Iiwic2V0QXR0cmlidXRlIiwib25DaGFuZ2VFbmQiLCJjb25zb2xlIiwibG9nIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiXyIsIm9uVG91Y2hEb3duIiwiZXZlbnQiLCJvblRvdWNoTW92ZSIsIm9uVG91Y2hVcCIsIm9uV2hlZWwiLCJub3JtYWxpemVkV2hlZWwiLCJOb3JtYWxpemVXaGVlbCIsInNjcm9sbCIsImZyYW1lIiwiYWRkRXZlbnRMaXN0ZW5lciIsImxpbmtzIiwicXVlcnlTZWxlY3RvckFsbCIsImVhY2giLCJsaW5rIiwib25jbGljayIsInByZXZlbnREZWZhdWx0IiwiaHJlZiIsIl9fd2VicGFja19yZXF1aXJlX18iLCJoIl0sInNvdXJjZVJvb3QiOiIifQ==