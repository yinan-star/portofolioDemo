/*! For license information please see main.6449cc9999ee630f424a.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdatefloema("main",{"./app/index.js":(e,t,s)=>{s.r(t);var a=s("./node_modules/lodash/each.js"),n=s.n(a),i=s("./node_modules/normalize-wheel/index.js"),o=s.n(i),h=s("./app/components/Canvas/index.js"),c=s("./app/components/Navigation.js"),d=s("./app/components/Preloader.js"),p=s("./app/pages/About/About.js"),r=s("./app/pages/Collections/Collections.js"),l=s("./app/pages/Detail/Detail.js"),u=s("./app/pages/Home/index.js");new class{constructor(){this.createContent(),this.createCanvas(),this.createPreloader(),this.createNavigation(),this.createPages(),this.addLinkListeners(),this.addEventListeners(),this.onResize(),this.update()}createNavigation(){this.navigation=new c.default({template:this.template})}createPreloader(){this.preloader=new d.default({canvas:this.canvas}),this.preloader.once("completed",this.onPreloaded.bind(this))}createCanvas(){this.canvas=new h.default({template:this.template})}createContent(){this.content=document.querySelector(".content"),this.template=this.content.getAttribute("data-template")}createPages(){this.pages={about:new p.default,collections:new r.default,detail:new l.default,home:new u.default},this.page=this.pages[this.template],this.page.create()}onPreloaded(){this.onResize(),this.canvas.onPreloaded(),this.page.show()}async onChange(e){this.canvas.onChangeStart(this.template),await this.page.hide();const t=await fetch(e);if(200===t.status){const e=await t.text(),s=document.createElement("div");s.innerHTML=e;const a=s.querySelector(".content");this.template=a.getAttribute("data-template"),this.navigation.onChange(this.template),this.content.setAttribute("data-template",this.template),this.content.innerHTML=a.innerHTML,this.canvas.onChangeEnd(this.template),this.page=this.pages[this.template],this.page.create(),this.onResize(),this.page.show(),this.addLinkListeners()}else console.log("Error");console.log(t)}onResize(){window.requestAnimationFrame((e=>{this.canvas&&this.canvas.onResize&&this.canvas.onResize()})),this.page&&this.page.onResize&&this.page.onResize()}onTouchDown(e){this.canvas&&this.canvas.onTouchDown&&this.canvas.onTouchDown(e)}onTouchMove(e){this.canvas&&this.canvas.onTouchMove&&this.canvas.onTouchMove(e)}onTouchUp(e){this.canvas&&this.canvas.onTouchUp&&this.canvas.onTouchUp(e)}onWheel(e){const t=o()(e);this.canvas&&this.canvas.onWheel&&this.canvas.onWheel(t),this.page&&this.page.onWheel&&this.page.onWheel(t)}update(){this.page&&this.page.update&&this.page.update(),this.canvas&&this.canvas.update&&this.canvas.update(this.page.scroll),this.frame=window.requestAnimationFrame(this.update.bind(this))}addEventListeners(){window.addEventListener("mousewheel",this.onWheel.bind(this)),window.addEventListener("mousedown",this.onTouchDown.bind(this)),window.addEventListener("mousemove",this.onTouchMove.bind(this)),window.addEventListener("mouseup",this.onTouchUp.bind(this)),window.addEventListener("touchstart",this.onTouchDown.bind(this)),window.addEventListener("touchmove",this.onTouchMove.bind(this)),window.addEventListener("touchend",this.onTouchUp.bind(this)),window.addEventListener("resize",this.onResize.bind(this))}addLinkListeners(){const e=document.querySelectorAll("a");n()(e,(e=>{e.onclick=t=>{t.preventDefault();const{href:s}=e;this.onChange(s)}}))}}}},(function(e){e.h=()=>"29392cd9dda0360349c9"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFLLENBQ3BCLEdBRUwsa0JDM05GQyxFQUFvQkMsRUFBSSxJQUFNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmxvZW1hLy4vYXBwL2luZGV4LmpzIiwid2VicGFjazovL2Zsb2VtYS93ZWJwYWNrL3J1bnRpbWUvZ2V0RnVsbEhhc2giXSwic291cmNlc0NvbnRlbnQiOlsiLy8g5YWz5LmO5pW05Liq572R6aG155qE5bGV56S65L+h5oGvXG5pbXBvcnQgZWFjaCBmcm9tICdsb2Rhc2gvZWFjaCc7XG5pbXBvcnQgTm9ybWFsaXplV2hlZWwgZnJvbSAnbm9ybWFsaXplLXdoZWVsJ1xuXG5pbXBvcnQgQ2FudmFzIGZyb20gJ2NvbXBvbmVudHMvQ2FudmFzJztcbmltcG9ydCBOYXZpZ2F0aW9uIGZyb20gJy4vY29tcG9uZW50cy9OYXZpZ2F0aW9uJztcbmltcG9ydCBQcmVsb2FkZXIgZnJvbSAnY29tcG9uZW50cy9QcmVsb2FkZXInXG5cbmltcG9ydCBBYm91dCBmcm9tIFwiLi9wYWdlcy9BYm91dC9BYm91dFwiO1xuaW1wb3J0IENvbGxlY3Rpb25zIGZyb20gXCIuL3BhZ2VzL0NvbGxlY3Rpb25zL0NvbGxlY3Rpb25zXCI7XG5pbXBvcnQgRGV0YWlsIGZyb20gXCIuL3BhZ2VzL0RldGFpbC9EZXRhaWxcIjtcbmltcG9ydCBIb21lIGZyb20gXCIuL3BhZ2VzL0hvbWVcIjtcblxuY2xhc3MgQXBwIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLy8g5Y+s5ZSkXG4gICAgdGhpcy5jcmVhdGVDb250ZW50KClcbiAgICBcbiAgICB0aGlzLmNyZWF0ZUNhbnZhcygpXG4gICAgdGhpcy5jcmVhdGVQcmVsb2FkZXIoKVxuICAgIHRoaXMuY3JlYXRlTmF2aWdhdGlvbigpXG4gXG4gICAgdGhpcy5jcmVhdGVQYWdlcygpXG5cbiAgICB0aGlzLmFkZExpbmtMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICB0aGlzLm9uUmVzaXplKClcblxuICAgIHRoaXMudXBkYXRlKCk7XG5cbiAgfVxuICAvLyDliJ3lp4vljJbnsbtcbiAgY3JlYXRlTmF2aWdhdGlvbigpIHtcbiAgICB0aGlzLm5hdmlnYXRpb24gPSBuZXcgTmF2aWdhdGlvbih7IHRlbXBsYXRlOiB0aGlzLnRlbXBsYXRlIH0pO1xuICB9XG5cbiAgY3JlYXRlUHJlbG9hZGVyKCl7XG4gICAgdGhpcy5wcmVsb2FkZXI9bmV3IFByZWxvYWRlcih7XG4gICAgICBjYW52YXMgOiB0aGlzLmNhbnZhc1xuICAgIH0pXG4gICAgdGhpcy5wcmVsb2FkZXIub25jZSgnY29tcGxldGVkJyx0aGlzLm9uUHJlbG9hZGVkLmJpbmQodGhpcykpXG4gIH1cblxuICBjcmVhdGVDYW52YXMoKXtcbiAgICB0aGlzLmNhbnZhcyA9bmV3IENhbnZhcyh7XG4gICAgICB0ZW1wbGF0ZSA6dGhpcy50ZW1wbGF0ZVxuICAgIH0pXG4gIH1cblxuICBjcmVhdGVDb250ZW50KCkge1xuICAgIHRoaXMuY29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250ZW50Jyk7IC8vREVTOiBzZWxlY3RpbmcgdGhlIGNvbnRlbnQgY2xhc3NcbiAgICB0aGlzLnRlbXBsYXRlID0gdGhpcy5jb250ZW50LmdldEF0dHJpYnV0ZSgnZGF0YS10ZW1wbGF0ZScpOyAvL0RFUzogZ2V0dGluZyB0aGUgZGF0YXNldC10ZW1wbGF0ZVxuICB9XG5cbiAgY3JlYXRlUGFnZXMoKSB7XG4gICAgLy8g5Yid5aeL5YyW6aG16Z2iLOWFiOW7uuaWh+aho++8jOWcqOWGmei/meS4qu+8jOS7luS8muiHquWKqOW8ueWHumltcG9ydFxuICAgIHRoaXMucGFnZXMgPSB7XG4gICAgICBhYm91dDogbmV3IEFib3V0KCksXG4gICAgICBjb2xsZWN0aW9uczogbmV3IENvbGxlY3Rpb25zKCksXG4gICAgICBkZXRhaWw6IG5ldyBEZXRhaWwoKSxcbiAgICAgIGhvbWU6IG5ldyBIb21lKCksXG4gICAgfVxuICAgIHRoaXMucGFnZSA9IHRoaXMucGFnZXNbdGhpcy50ZW1wbGF0ZV1cbiAgICAvLyDkvaDlnKjlk6rkuKrpobXpnaLlsLHmuLLmn5Pkuoblk6rkuKrpobXpnaLvvIxkYXRhMHRlbXBhbHRl5a6D5L2/5b6X5L2g5Y+v5Lul5ZyoIEhUTUwg5YWD57Sg5Lit5a2Y5YKo5pWw5o2u77yM54S25ZCO6YCa6L+HIEphdmFTY3JpcHQg5p2l6K+75Y+W5ZKM5L2/55So6L+Z5Lqb5pWw5o2u77yMXG4gICAgdGhpcy5wYWdlLmNyZWF0ZSgpXG5cbiAgICBcbiAgfVxuXG4gIC8qKlxuICAgKiBFdmVudHNcbiAgICovXG4gIG9uUHJlbG9hZGVkKCl7XG4gICAgdGhpcy5vblJlc2l6ZSgpXG5cbiAgICB0aGlzLmNhbnZhcy5vblByZWxvYWRlZCgpXG4gICAgdGhpcy5wYWdlLnNob3coKVxuICAgIC8vIOmUgOavgS3ph43mlrDlrprkuYnlsLrlr7gt6aG16Z2i5bGV56S6XG4gIH1cblxuICBhc3luYyBvbkNoYW5nZSh1cmwpey8vIOWQjOatpWh0bWzph4znmoR1cmzpk77mjqXvvIzkvb/lvpflnKhjaGVja+aXtuS4jeS8mueci+WIsOayoeacieabtOaWsOeahGNvbnRlbnTlkI3lrZdcbiAgICB0aGlzLmNhbnZhcy5vbkNoYW5nZVN0YXJ0KHRoaXMudGVtcGxhdGUpXG4gICAgXG4gICAgYXdhaXQgdGhpcy5wYWdlLmhpZGUoKVxuICAgIC8vIOW9k+eCueWHu+aXtu+8jOW9k+WJjemhtemdouS8muiiq+makOiXj1xuICAgIGNvbnN0IHJlcXVlc3QgPSBhd2FpdCBmZXRjaCh1cmwpXG4gICAgaWYocmVxdWVzdC5zdGF0dXMgPT09IDIwMCl7XG4gICAgICBjb25zdCBodG1sPWF3YWl0IHJlcXVlc3QudGV4dCgpXG4gICAgICBjb25zdCBkaXYgPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG5cbiAgICAgIGRpdi5pbm5lckhUTUw9aHRtbFxuXG4gICAgICBjb25zdCAgZGl2Q29udGVudCA9ZGl2LnF1ZXJ5U2VsZWN0b3IoJy5jb250ZW50JylcblxuICAgICAgdGhpcy50ZW1wbGF0ZT1kaXZDb250ZW50LmdldEF0dHJpYnV0ZSgnZGF0YS10ZW1wbGF0ZScpXG5cbiBcbiAgICAgIHRoaXMubmF2aWdhdGlvbi5vbkNoYW5nZSh0aGlzLnRlbXBsYXRlKVxuXG4gICAgICB0aGlzLmNvbnRlbnQuc2V0QXR0cmlidXRlKCdkYXRhLXRlbXBsYXRlJyx0aGlzLnRlbXBsYXRlKVxuICAgICAgdGhpcy5jb250ZW50LmlubmVySFRNTD1kaXZDb250ZW50LmlubmVySFRNTFxuXG4gICAgICB0aGlzLmNhbnZhcy5vbkNoYW5nZUVuZCh0aGlzLnRlbXBsYXRlKVxuXG4gICAgICB0aGlzLnBhZ2UgPSB0aGlzLnBhZ2VzW3RoaXMudGVtcGxhdGVdXG4gICAgICAvLyDov5nkuKp0ZW1wbGF0ZeaYr+aWsOeahOmhtemdoueahHRlbXBsYXRlXG4gICAgICBcbiAgICAgIHRoaXMucGFnZS5jcmVhdGUoKVxuICAgICAgdGhpcy5vblJlc2l6ZSgpXG4gICAgICB0aGlzLnBhZ2Uuc2hvdygpXG4gICAgICB0aGlzLmFkZExpbmtMaXN0ZW5lcnMoKVxuICAgICAgLy8g6L+Z6YeM5Y+I5YaZ5LiA6YGN5piv5Zug5Li65Zyo5Yib5bu65paw55qE6aG16Z2i5LmL5ZCO77yM5pyJ5Lqb6aG16Z2i6YeM6Z2i6L+Y5pyJ5paw55qE6ZO+5o6l77yM5omA5Lul5Zyo5o6J5LiA5qyh6L+Z5Liq5pa55rOVXG4gICAgfVxuICAgIGVsc2V7XG4gICAgICBjb25zb2xlLmxvZygnRXJyb3InKVxuICAgIH1cblxuICAgIC8vIGlmIChyZXF1ZXN0LnN0YXR1cylcbiAgICBjb25zb2xlLmxvZyhyZXF1ZXN0KVxuICB9XG5cbiAgb25SZXNpemUoKSB7XG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShfID0+e1xuICAgICAgaWYgKHRoaXMuY2FudmFzICYmIHRoaXMuY2FudmFzLm9uUmVzaXplKSB7XG4gICAgICAgIHRoaXMuY2FudmFzLm9uUmVzaXplKCk7XG4gICAgICB9XG4gICAgICAvLyDlpITnkIbnqpflj6PosIPmlbTlpKflsI/kuovku7bnmoTlh73mlbDjgILlvZPmtY/op4jlmajnqpflj6PlpKflsI/mlLnlj5jml7bvvIjmr5TlpoLnlKjmiLfosIPmlbTnqpflj6PlpKflsI/miJbogIXorr7lpIflj5HnlJ/ml4vovazvvInvvIzkvJrop6blj5Egb25SZXNpemUg5Ye95pWw44CCXG4gICAgfSlcbiAgICBcblxuICAgIGlmICh0aGlzLnBhZ2UgJiYgdGhpcy5wYWdlLm9uUmVzaXplKSB7XG4gICAgICB0aGlzLnBhZ2Uub25SZXNpemUoKTtcbiAgICB9XG4gIH1cblxuICBvblRvdWNoRG93bihldmVudCl7XG4gICAgaWYgKHRoaXMuY2FudmFzICYmIHRoaXMuY2FudmFzLm9uVG91Y2hEb3duKSB7XG4gICAgICB0aGlzLmNhbnZhcy5vblRvdWNoRG93bihldmVudCk7XG4gICAgfVxuXG5cbiAgfVxuXG4gIG9uVG91Y2hNb3ZlKGV2ZW50KXtcbiAgICBpZiAodGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMub25Ub3VjaE1vdmUpIHtcbiAgICAgIHRoaXMuY2FudmFzLm9uVG91Y2hNb3ZlKGV2ZW50KTtcbiAgICB9XG5cbiAgfVxuXG4gIG9uVG91Y2hVcChldmVudCl7XG4gICAgaWYgKHRoaXMuY2FudmFzICYmIHRoaXMuY2FudmFzLm9uVG91Y2hVcCkge1xuICAgICAgdGhpcy5jYW52YXMub25Ub3VjaFVwKGV2ZW50KTtcbiAgICB9XG4gIH1cblxuICBvbldoZWVsKGV2ZW50KXtcbiAgICBjb25zdCBub3JtYWxpemVkV2hlZWwgPSBOb3JtYWxpemVXaGVlbChldmVudCk7XG4gICAgaWYgKHRoaXMuY2FudmFzICYmIHRoaXMuY2FudmFzLm9uV2hlZWwpIHtcbiAgICAgIHRoaXMuY2FudmFzLm9uV2hlZWwobm9ybWFsaXplZFdoZWVsKTtcbiAgICAgIC8vIOiwg+eUqOeUu+W4g+eahG9uV2hlZWznmoTmlrnms5XvvIzlubblsIbmoIflh4bljJblpITnkIblkI7nmoTmu5rliqjlgLzkvZzkuLrlj4LmlbDkvKDov5vljrtcbiAgICB9XG4gICBcbiAgICBpZiAodGhpcy5wYWdlICYmIHRoaXMucGFnZS5vbldoZWVsKSB7XG4gICAgICB0aGlzLnBhZ2Uub25XaGVlbChub3JtYWxpemVkV2hlZWwpO1xuICAgIH1cbiAgfVxuXG5cbiAgLyoqXG4gICAqIExvb3BcbiAgICovXG5cbiAgdXBkYXRlKCl7IC8vIOWKqOeUu+aIlumhtemdouabtOaWsOeahOW+queOr1xuICAgXG4gICAgaWYgKHRoaXMucGFnZSAmJiB0aGlzLnBhZ2UudXBkYXRlKSB7XG4gICAgICB0aGlzLnBhZ2UudXBkYXRlKCk7XG4gICAgfVxuICAgIC8vIOWFiOa4suafk+mhtemdou+8jOWboOS4uuaciWNvcnJlY3QgWSBwb3NpdGlvbu+8jOaJgOS7peWQjumdoueahGNhbnZhc+eahFnkuZ/kvJrot5/nnYDmm7TmlrBcblxuICAgIGlmICh0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy51cGRhdGUpIHtcbiAgICAgIHRoaXMuY2FudmFzLnVwZGF0ZSh0aGlzLnBhZ2Uuc2Nyb2xsKTtcbiAgICB9XG5cbiAgICB0aGlzLmZyYW1lID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMaXN0ZW5lcnNcbiAgICovXG4gIGFkZEV2ZW50TGlzdGVuZXJzKCl7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNld2hlZWwnLCB0aGlzLm9uV2hlZWwuYmluZCh0aGlzKSlcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm9uVG91Y2hEb3duLmJpbmQodGhpcykpXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Ub3VjaE1vdmUuYmluZCh0aGlzKSlcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Ub3VjaFVwLmJpbmQodGhpcykpXG4gICAgLy8g55S16ISR56uv55qEXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLm9uVG91Y2hEb3duLmJpbmQodGhpcykpXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMub25Ub3VjaE1vdmUuYmluZCh0aGlzKSlcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLm9uVG91Y2hVcC5iaW5kKHRoaXMpKVxuICAgIC8vIOenu+WKqOerr+eahFxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLm9uUmVzaXplLmJpbmQodGhpcykpO1xuICB9XG5cbiAgYWRkTGlua0xpc3RlbmVycygpIHsvLyDpk77mjqXot7PovazlpITnkIZcblxuICAgIGNvbnN0IGxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYScpXG4gICAgLy8g6YCJ5oup5omA5pyJ6ZO+5o6l77yMbGlua3PmmK/mlbDnu4RcblxuICAgIGVhY2gobGlua3MsIChsaW5rKSA9PiB7XG4gICAgICBsaW5rLm9uY2xpY2sgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuXG4gICAgICAgIGNvbnN0IHsgaHJlZiB9ID0gbGlua1xuXG4gICAgICAgIHRoaXMub25DaGFuZ2UoaHJlZilcbiAgICAgIH1cbiAgICB9KVxuICB9XG59XG5uZXcgQXBwKCkiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmggPSAoKSA9PiAoXCIyOTM5MmNkOWRkYTAzNjAzNDljOVwiKSJdLCJuYW1lcyI6WyJjb25zdHJ1Y3RvciIsInRoaXMiLCJjcmVhdGVDb250ZW50IiwiY3JlYXRlQ2FudmFzIiwiY3JlYXRlUHJlbG9hZGVyIiwiY3JlYXRlTmF2aWdhdGlvbiIsImNyZWF0ZVBhZ2VzIiwiYWRkTGlua0xpc3RlbmVycyIsImFkZEV2ZW50TGlzdGVuZXJzIiwib25SZXNpemUiLCJ1cGRhdGUiLCJuYXZpZ2F0aW9uIiwiTmF2aWdhdGlvbiIsInRlbXBsYXRlIiwicHJlbG9hZGVyIiwiUHJlbG9hZGVyIiwiY2FudmFzIiwib25jZSIsIm9uUHJlbG9hZGVkIiwiYmluZCIsIkNhbnZhcyIsImNvbnRlbnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJnZXRBdHRyaWJ1dGUiLCJwYWdlcyIsImFib3V0IiwiQWJvdXQiLCJjb2xsZWN0aW9ucyIsIkNvbGxlY3Rpb25zIiwiZGV0YWlsIiwiRGV0YWlsIiwiaG9tZSIsIkhvbWUiLCJwYWdlIiwiY3JlYXRlIiwic2hvdyIsIm9uQ2hhbmdlIiwidXJsIiwib25DaGFuZ2VTdGFydCIsImhpZGUiLCJyZXF1ZXN0IiwiZmV0Y2giLCJzdGF0dXMiLCJodG1sIiwidGV4dCIsImRpdiIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lckhUTUwiLCJkaXZDb250ZW50Iiwic2V0QXR0cmlidXRlIiwib25DaGFuZ2VFbmQiLCJjb25zb2xlIiwibG9nIiwid2luZG93IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiXyIsIm9uVG91Y2hEb3duIiwiZXZlbnQiLCJvblRvdWNoTW92ZSIsIm9uVG91Y2hVcCIsIm9uV2hlZWwiLCJub3JtYWxpemVkV2hlZWwiLCJOb3JtYWxpemVXaGVlbCIsInNjcm9sbCIsImZyYW1lIiwiYWRkRXZlbnRMaXN0ZW5lciIsImxpbmtzIiwicXVlcnlTZWxlY3RvckFsbCIsImVhY2giLCJsaW5rIiwib25jbGljayIsInByZXZlbnREZWZhdWx0IiwiaHJlZiIsIl9fd2VicGFja19yZXF1aXJlX18iLCJoIl0sInNvdXJjZVJvb3QiOiIifQ==