/*! For license information please see main.139ea80284d7ea516c96.hot-update.js.LICENSE.txt */
self.webpackHotUpdatefloema("main",{"./app/components/Canvas/collections/Media.js":()=>{},"./app/components/Canvas/collections/index.js":(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>a});var i=s("./node_modules/ogl/src/core/Transform.js"),o=s("./node_modules/ogl/src/extras/Plane.js"),h=s("./node_modules/gsap/index.js"),n=s("./node_modules/lodash/map.js"),l=s.n(n),c=s("./app/components/Canvas/collections/Media.js"),r=s.n(c);const a=class{constructor({gl:t,scene:e,sizes:s}){this.gl=t,this.scene=e,this.sizes=s,this.group=new i.Transform,this.galleryElement=document.querySelector(".home__gallery"),this.mediasElements=document.querySelectorAll(".home__gallery__media__image"),this.x={current:0,target:0,lerp:.1},this.y={current:0,target:0,lerp:.1},this.scrollCurrent={x:0,y:0},this.scroll={x:0,y:0},this.createGeometry(),this.createGallery(),this.group.setParent(this.scene),this.show()}createGeometry(){this.geometry=new o.Plane(this.gl)}createGallery(){this.medias=l()(this.mediasElements,((t,e)=>new(r())({element:t,geometry:this.geometry,gl:this.gl,index:e,scene:this.group,sizes:this.sizes})))}show(){l()(this.medias,(t=>t.show()))}hide(){l()(this.medias,(t=>t.hide()))}onResize(t){this.galleryBounds=this.galleryElement.getBoundingClientRect(),this.sizes=t.sizes,this.gallerySizes={height:this.galleryBounds.height/window.innerHeight*this.sizes.height,width:this.galleryBounds.width/window.innerWidth*this.sizes.width},this.scroll.x=this.x.target=0,this.scroll.y=this.y.target=0,l()(this.medias,(e=>e.onResize(t,this.scroll)))}onTouchDown({x:t,y:e}){this.scrollCurrent.x=this.scroll.x,this.scrollCurrent.y=this.scroll.y}onTouchMove({x:t,y:e}){const s=t.start-t.end,i=e.start-e.end;this.x.target=this.scrollCurrent.x-s,this.y.target=this.scrollCurrent.y-i}onTouchUp({x:t,y:e}){}onWheel({pixelX:t,pixelY:e}){this.x.target+=t,this.y.target+=e}update(){this.galleryBounds&&(this.x.current=h.default.utils.interpolate(this.x.current,this.x.target,this.x.lerp),this.y.current=h.default.utils.interpolate(this.y.current,this.y.target,this.y.lerp),this.scroll.x<this.x.current?this.x.direction="right":this.scroll.x>this.x.current&&(this.x.direction="left"),this.scroll.y<this.y.current?this.y.direction="top":this.scroll.y>this.y.current&&(this.y.direction="bottom"),this.scroll.x=this.x.current,this.scroll.y=this.y.current,l()(this.medias,((t,e)=>{const s=t.mesh.scale.x/2;if("left"===this.x.direction){t.mesh.position.x+s<-this.sizes.width/2&&(t.extra.x+=this.gallerySizes.width,t.mesh.rotation.z=h.default.utils.random(.03*-Math.PI,.03*Math.PI))}else if("right"===this.x.direction){t.mesh.position.x-s>this.sizes.width/2&&(t.extra.x-=this.gallerySizes.width,t.mesh.rotation.z=h.default.utils.random(.03*-Math.PI,.03*Math.PI))}const i=t.mesh.scale.y/2;if("bottom"===this.y.direction){t.mesh.position.y-i>this.sizes.height/2&&(t.extra.y-=this.gallerySizes.height,t.mesh.rotation.z=h.default.utils.random(.03*-Math.PI,.03*Math.PI))}else if("top"===this.y.direction){t.mesh.position.y+i<-this.sizes.height/2&&(t.extra.y+=this.gallerySizes.height,t.mesh.rotation.z=h.default.utils.random(.03*-Math.PI,.03*Math.PI))}t.update(this.scroll)})))}destroy(){this.scene.removeChild(this.group)}}},"./app/components/Canvas/index.js":(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>r});var i=s("./node_modules/ogl/src/core/Renderer.js"),o=s("./node_modules/ogl/src/core/Camera.js"),h=s("./node_modules/ogl/src/core/Transform.js"),n=s("./app/components/Canvas/home/index.js"),l=s("./app/components/Canvas/about/index.js"),c=s("./app/components/Canvas/collections/index.js");class r{constructor({template:t}){this.template=t,this.x={start:0,distance:0,end:0},this.y={start:0,distance:0,end:0},this.createRenderer(),this.createCamera(),this.createScene(),this.onResize(),this.onChangeEnd(this.template)}createRenderer(){this.renderer=new i.Renderer({alpha:!0,antialias:!0}),this.gl=this.renderer.gl,document.body.appendChild(this.gl.canvas)}createCamera(){this.camera=new o.Camera(this.gl),this.camera.position.z=5}createScene(){this.scene=new h.Transform}createHome(){this.home=new n.default({gl:this.gl,scene:this.scene,sizes:this.sizes})}destroyHome(){this.home&&(this.home.destroy(),this.home=null)}createAbout(){this.about=new l.default({gl:this.gl,scene:this.scene,sizes:this.sizes})}destroyAbout(){this.about&&(this.about.destroy(),this.about=null)}createCollections(){this.collections=new c.default({gl:this.gl,scene:this.scene,sizes:this.sizes})}destroyCollections(){this.collections&&(this.collections.destroy(),this.collections=null)}onChangeStart(){this.about&&this.about.hide(),this.collections&&this.collections.hide(),this.home&&this.home.hide()}onChangeEnd(t){"about"===t?this.createAbout():this.about&&this.destroyAbout(),"collections"===t?this.createCollections():this.collections&&this.destroyCollecreateCollections(),"home"===t?this.createHome():this.destroyHome()}onResize(){this.renderer.setSize(window.innerWidth,window.innerHeight),this.camera.perspective({aspect:window.innerWidth/window.innerHeight});const t=this.camera.fov*(Math.PI/180),e=2*Math.tan(t/2)*this.camera.position.z,s=e*this.camera.aspect;this.sizes={height:e,width:s};const i={sizes:this.sizes};this.about&&this.about.onResize(i),this.collections&&this.collections.onResize(i),this.home&&this.home.onResize(i)}onTouchDown(t){this.isDown=!0,this.x.start=t.touches?t.touches[0].clientX:t.clientX,this.y.start=t.touches?t.touches[0].clientY:t.clientY;const e={x:this.x,y:this.y};this.about&&this.about.onTouchDown(e),this.collections&&this.collections.onTouchDown(e),this.home&&this.home.onTouchDown(e)}onTouchMove(t){if(!this.isDown)return;const e=t.touches?t.touches[0].clientX:t.clientX,s=t.touches?t.touches[0].clientY:t.clientY;this.x.end=e,this.y.end=s;const i={x:this.x,y:this.y};this.about&&this.about.onTouchMove(i),this.collections&&this.collections.onTouchMove(i),this.home&&this.home.onTouchMove(i)}onTouchUp(t){this.isDown=!1;const e=t.changedTouches?t.changedTouches[0].clientX:t.clientX,s=t.changedTouches?t.changedTouches[0].clientY:t.clientY;this.x.end=e,this.y.end=s;const i={x:this.x,y:this.y};this.about&&this.about.onTouchUp(i),this.collections&&this.collections.onTouchUp(i),this.home&&this.home.onTouchUp(i)}onWheel(t){this.home&&this.home.onWheel(t),this.collections&&this.collections.onWheel(t)}update(t){this.about&&this.about.update(t),this.collections&&this.collections.update(),this.home&&this.home.update(),this.renderer.render({camera:this.camera,scene:this.scene})}}}},(function(t){t.h=()=>"692eb75f80852005b713"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RixFQUFHUixLQUFLUSxFQUNSSSxFQUFHWixLQUFLWSxHQUdOWixLQUFLdUYsT0FDUHZGLEtBQUt1RixNQUFNM0MsVUFBVXlELEdBR25CckcsS0FBSzJGLGFBQ1AzRixLQUFLMkYsWUFBWS9DLFVBQVV5RCxHQUd6QnJHLEtBQUttRixNQUNQbkYsS0FBS21GLEtBQUt2QyxVQUFVeUQsRUFFeEIsQ0FFQXhELE9BQUFBLENBQVFoQixHQUNIN0IsS0FBS21GLE1BQ05uRixLQUFLbUYsS0FBS3RDLFFBQVFoQixHQUdqQjdCLEtBQUsyRixhQUNOM0YsS0FBSzJGLFlBQVk5QyxRQUFRaEIsRUFFN0IsQ0FHQW1CLE1BQUFBLENBQU9sQyxHQUlGZCxLQUFLdUYsT0FDTnZGLEtBQUt1RixNQUFNdkMsT0FBT2xDLEdBSWpCZCxLQUFLMkYsYUFDTjNGLEtBQUsyRixZQUFZM0MsU0FHaEJoRCxLQUFLbUYsTUFDTm5GLEtBQUttRixLQUFLbkMsU0FHWmhELEtBQUt5RSxTQUFTa0MsT0FBTyxDQUNuQjNCLE9BQVFoRixLQUFLZ0YsT0FDYmxGLE1BQU9FLEtBQUtGLE9BRWhCLGtCQ3JURjhHLEVBQW9CQyxFQUFJLElBQU0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mbG9lbWEvLi9hcHAvY29tcG9uZW50cy9DYW52YXMvY29sbGVjdGlvbnMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vZmxvZW1hLy4vYXBwL2NvbXBvbmVudHMvQ2FudmFzL2luZGV4LmpzIiwid2VicGFjazovL2Zsb2VtYS93ZWJwYWNrL3J1bnRpbWUvZ2V0RnVsbEhhc2giXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgeyBQbGFuZSwgVHJhbnNmb3JtIH0gZnJvbSAnb2dsJztcbmltcG9ydCBHU0FQIGZyb20gJ2dzYXAnXG5cbmltcG9ydCBtYXAgZnJvbSAnbG9kYXNoL21hcCdcblxuaW1wb3J0IE1lZGlhIGZyb20gJy4vTWVkaWEnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoeyBnbCwgc2NlbmUsIHNpemVzIH0pIHtcbiAgICB0aGlzLmdsID0gZ2w7XG4gICAgdGhpcy5zY2VuZSA9IHNjZW5lXG4gICAgdGhpcy5zaXplcyA9IHNpemVzO1xuICAgIHRoaXMuZ3JvdXAgPSBuZXcgVHJhbnNmb3JtKCk7XG5cbiAgICB0aGlzLmdhbGxlcnlFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhvbWVfX2dhbGxlcnknKVxuICAgIHRoaXMubWVkaWFzRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxuICAgICAgJy5ob21lX19nYWxsZXJ5X19tZWRpYV9faW1hZ2UnXG4gICAgKTtcblxuICAgIHRoaXMueCA9IHtcbiAgICAgIGN1cnJlbnQ6IDAsXG4gICAgICB0YXJnZXQ6IDAsXG4gICAgICBsZXJwOiAwLjFcbiAgICB9XG5cbiAgICB0aGlzLnkgPSB7XG4gICAgICBjdXJyZW50OiAwLFxuICAgICAgdGFyZ2V0OiAwLFxuICAgICAgbGVycDogMC4xXG4gICAgfVxuXG4gICAgdGhpcy5zY3JvbGxDdXJyZW50ID0ge1xuICAgICAgeDogMCxcbiAgICAgIHk6IDBcbiAgICB9XG5cbiAgICB0aGlzLnNjcm9sbCA9IHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwXG4gICAgfVxuXG4gICAgdGhpcy5jcmVhdGVHZW9tZXRyeSgpO1xuICAgIHRoaXMuY3JlYXRlR2FsbGVyeSgpO1xuXG5cbiAgICB0aGlzLmdyb3VwLnNldFBhcmVudCh0aGlzLnNjZW5lKTtcblxuICAgIHRoaXMuc2hvdygpXG4gICAgLy8g5aeQ77yMY29uc3RydWN0b3LmoLzlvI/mmK8oe30pe33jgILkuI3opoHlv5jorrDkuoZcblxuICB9XG5cbiAgY3JlYXRlR2VvbWV0cnkoKSB7XG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBQbGFuZSh0aGlzLmdsKVxuICB9XG5cbiAgY3JlYXRlR2FsbGVyeSgpIHtcbiAgICAvLyDkvKDliLBNZWRpYemHjOmdolxuICAgIHRoaXMubWVkaWFzID0gbWFwKHRoaXMubWVkaWFzRWxlbWVudHMsIChlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBNZWRpYSh7XG4gICAgICAgIGVsZW1lbnQsXG4gICAgICAgIGdlb21ldHJ5OiB0aGlzLmdlb21ldHJ5LFxuICAgICAgICBnbDogdGhpcy5nbCxcbiAgICAgICAgaW5kZXgsXG4gICAgICAgIHNjZW5lOiB0aGlzLmdyb3VwLFxuICAgICAgICBzaXplczogdGhpcy5zaXplc1xuICAgICAgfSk7XG4gICAgfSlcbiAgfVxuXG4gICAvLyBBbmltYXRpb25zXG4gICBzaG93KCkge1xuICAgIG1hcCh0aGlzLm1lZGlhcywgbWVkaWEgPT4gbWVkaWEuc2hvdygpKVxuICB9XG4gIGhpZGUoKSB7XG4gICAgbWFwKHRoaXMubWVkaWFzLCBtZWRpYSA9PiBtZWRpYS5oaWRlKCkpXG4gIH1cblxuICAvLyBFdmVudHNcbiAgb25SZXNpemUoZXZlbnQpIHtcbiAgICB0aGlzLmdhbGxlcnlCb3VuZHMgPSB0aGlzLmdhbGxlcnlFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgLy8g6I635Y+W5YWD57Sg55qE5L2N572u5ZKM5bC65a+4XG5cbiAgICB0aGlzLnNpemVzID0gZXZlbnQuc2l6ZXNcbiAgICAvLyDlsY/luZXnmoTlsLrlr7jvvIznu5l1cGRhdGXogIzkuI3mmK/nlLvluIPnmoRcblxuICAgIHRoaXMuZ2FsbGVyeVNpemVzID0ge1xuICAgICAgaGVpZ2h0OnRoaXMuZ2FsbGVyeUJvdW5kcy5oZWlnaHQgLyB3aW5kb3cuaW5uZXJIZWlnaHQgKiB0aGlzLnNpemVzLmhlaWdodCxcbiAgICAgIHdpZHRoOiB0aGlzLmdhbGxlcnlCb3VuZHMud2lkdGggLyB3aW5kb3cuaW5uZXJXaWR0aCAqIHRoaXMuc2l6ZXMud2lkdGhcbiAgICB9XG4gICAgLy8g6K6h566X5b2T5YmN55S75buK55qE5a695bqm5Y2g6KeG56qX5Y+j55qE5a695bqm55qE5aSa5bCR54S25ZCO5LmY5Lul5YW35L2T55qE5a695bqmLS0+5bCG5YWD57Sg5Zyo6KeG5Y+j5Lit55qE5q+U5L6L6L2s5o2i5Li65YW35L2T55qE5a6e6ZmF5a695bqm44CC5ZON5bqU5byP5biD5bGAXG4gICAgdGhpcy5zY3JvbGwueCA9IHRoaXMueC50YXJnZXQgPSAwXG4gICAgdGhpcy5zY3JvbGwueSA9dGhpcy55LnRhcmdldCA9IDBcbiAgICBtYXAodGhpcy5tZWRpYXMsIG1lZGlhID0+IG1lZGlhLm9uUmVzaXplKGV2ZW50LCB0aGlzLnNjcm9sbCkpXG5cbiAgfVxuXG4gIG9uVG91Y2hEb3duKHsgeCwgeSB9KSB7XG4gICAgdGhpcy5zY3JvbGxDdXJyZW50LnggPSB0aGlzLnNjcm9sbC54XG4gICAgdGhpcy5zY3JvbGxDdXJyZW50LnkgPSB0aGlzLnNjcm9sbC55XG4gIH1cblxuICBvblRvdWNoTW92ZSh7IHgsIHkgfSkge1xuICAgIGNvbnN0IHhEaXN0YW5jZSA9IHguc3RhcnQgLSB4LmVuZFxuICAgIGNvbnN0IHlEaXN0YW5jZSA9IHkuc3RhcnQgLSB5LmVuZFxuXG4gICAgdGhpcy54LnRhcmdldCA9IHRoaXMuc2Nyb2xsQ3VycmVudC54IC0geERpc3RhbmNlLFxuICAgICAgdGhpcy55LnRhcmdldCA9IHRoaXMuc2Nyb2xsQ3VycmVudC55IC0geURpc3RhbmNlXG4gICAgLy8g5aaC5p6c6byg5qCH5ZKM5Zu+54mH55qE56e75Yqo55u45Y+N5pa55ZCR77yM6KaB55So5YeP5Y+3XG5cblxuICB9XG5cbiAgb25Ub3VjaFVwKHsgeCwgeSB9KSB7XG5cbiAgfVxuXG4gIG9uV2hlZWwoe3BpeGVsWCwgcGl4ZWxZfSl7XG4gICAgLy8g5o2V6I635rua5Yqo5LqL5Lu255qE5YOP57Sg5YC877yM54S25ZCO5qC55o2u6L+Z5Lqb5YC85p2l5pu05paw6aG16Z2i5Lit5p+Q5Lqb5YWD57Sg55qE5L2N572u5oiW54q25oCB77yM5a6e546w6aG16Z2i55qE5rua5Yqo5oiW6KeG5Zu+55qE5Y+Y5YyWXG4gICAgdGhpcy54LnRhcmdldCArPSBwaXhlbFhcbiAgICB0aGlzLnkudGFyZ2V0ICs9IHBpeGVsWVxuICB9XG5cbiAgLy8gVXBkYXRlXG4gIHVwZGF0ZSgpIHtcbiAgICBpZiAoIXRoaXMuZ2FsbGVyeUJvdW5kcykgcmV0dXJuXG4gICAgdGhpcy54LmN1cnJlbnQgPSBHU0FQLnV0aWxzLmludGVycG9sYXRlKHRoaXMueC5jdXJyZW50LCB0aGlzLngudGFyZ2V0LCB0aGlzLngubGVycClcbiAgICB0aGlzLnkuY3VycmVudCA9IEdTQVAudXRpbHMuaW50ZXJwb2xhdGUodGhpcy55LmN1cnJlbnQsIHRoaXMueS50YXJnZXQsIHRoaXMueS5sZXJwKVxuXG4gICAgaWYgKHRoaXMuc2Nyb2xsLnggPCB0aGlzLnguY3VycmVudCkge1xuICAgICAgdGhpcy54LmRpcmVjdGlvbiA9ICdyaWdodCdcbiAgICB9IGVsc2UgaWYgKHRoaXMuc2Nyb2xsLnggPiB0aGlzLnguY3VycmVudCkge1xuICAgICAgdGhpcy54LmRpcmVjdGlvbiA9ICdsZWZ0J1xuICAgIH1cbiAgICAvLyDmo4DmtYvpvKDmoIfmu5rliqjmlrnlkJHvvIzlvZPliY3kvY3nva7lkozlhYjliY3kvY3nva7lgZrmr5TovoPjgIJcbiAgICBpZiAodGhpcy5zY3JvbGwueSA8IHRoaXMueS5jdXJyZW50KSB7XG4gICAgICB0aGlzLnkuZGlyZWN0aW9uID0gJ3RvcCdcbiAgICB9IGVsc2UgaWYgKHRoaXMuc2Nyb2xsLnkgPiB0aGlzLnkuY3VycmVudCkge1xuICAgICAgdGhpcy55LmRpcmVjdGlvbiA9ICdib3R0b20nXG4gICAgfVxuXG4gICAgdGhpcy5zY3JvbGwueCA9IHRoaXMueC5jdXJyZW50XG4gICAgdGhpcy5zY3JvbGwueSA9IHRoaXMueS5jdXJyZW50XG5cbiAgICBtYXAodGhpcy5tZWRpYXMsIChtZWRpYSwgaW5kZXgpID0+IHtcbiAgICAvLyBGb3IgWCBheGlzXG4gICAgICBjb25zdCBzY2FsZVggPSBtZWRpYS5tZXNoLnNjYWxlLnggLyAyXG4gICAgICBpZiAodGhpcy54LmRpcmVjdGlvbiA9PT0gJ2xlZnQnKXtcbiAgICAgICAgY29uc3QgeCA9IG1lZGlhLm1lc2gucG9zaXRpb24ueCArIHNjYWxlWFxuICAgICAgICAvLyDlhYPntKDnmoR45L2N572uK+i/meS4quWFg+e0oOeahOS4gOWNiueahOWuveW6pu+8jOWwseaYr+esrOS4gOS4quWFg+e0oOeahOacgOWPs+i+uei+ueeVjO+8jOi/meS4qui+ueeVjOWwj+mbqOWxj+W5leeahOacgOW3pui+ueeahOi+ueeVjOWwseaYr+WbvueJh291dCBvZiBwaWN0dXJlXG4gICAgICAgIGlmICh4IDwgLXRoaXMuc2l6ZXMud2lkdGggLyAyKSB7XG4gICAgICAgICAgLy8g6KGo56S65bGP5bmV5a695bqm55qE5LiA5Y2K44CC5bCG5YW25Y+W6LSf5YC855qE5Y6f5Zug5piv77yM6YCa5bi45oOF5Ya15LiL5bGP5bmV5bem5L6n6L6555WM55qE5Z2Q5qCH5YC85piv6LSf55qE77yM6ICM5bGP5bmV5Y+z5L6n6L6555WM5piv5q2j55qE44CCXG4gICAgICAgICAgLy8g5qOA5p+l56ys5LiA5Liq5aqS5L2T5YWD57Sg55qE5L2N572u5piv5ZCm6LaF5Ye65bGP5bmV5bem5L6n6L6555WMXG4gICAgICAgICAgbWVkaWEuZXh0cmEueCArPSB0aGlzLmdhbGxlcnlTaXplcy53aWR0aFxuICAgICAgICAgIC8vIOW9k+eUqOaIt+W+gOW3pui+ueaLve+8jOW5tuS4lOenu+WHuuWOu+WQju+8jOimgeWwhuWug+aUvuWIsOacgOWPs+i+ueiuqeS7luS7juWPs+i+uei/m+adpe+8jCDovr7miJDkuIDkuKrlvqrnjq8s5bCx5piv56ys5LiA5Liq5YWD57Sg55qEWOe0r+WKoOS4iuaVtOS4queUu+W7iueahOWuveW6pu+8jOWwseWIsOS6huacgOWPs+i+uVxuICAgICAgICAgIC8vIOebuOWvueS6juWvueixoeiHqui6q+eahOS4reW/g+i9tOaIluiAheWOn+eCueeahOS9jee9ru+8jOS5n+WwseaYr+ivtGxvY2FsIHBvc2l0aW9uXG4gICAgICAgICAgbWVkaWEubWVzaC5yb3RhdGlvbi56ID1HU0FQLnV0aWxzLnJhbmRvbSgtTWF0aC5QSSAqIDAuMDMsTWF0aC5QSSAqIDAuMDMpXG4gIFxuICAgICAgICB9XG4gICAgICB9ZWxzZSBpZih0aGlzLnguZGlyZWN0aW9uID09PSAncmlnaHQnKXtcbiAgICAgICAgY29uc3QgeCA9IG1lZGlhLm1lc2gucG9zaXRpb24ueCAtIHNjYWxlWFxuICAgICAgICBpZih4ID4gdGhpcy5zaXplcy53aWR0aCAvIDIpe1xuICAgICAgICAgIG1lZGlhLmV4dHJhLnggLT0gdGhpcy5nYWxsZXJ5U2l6ZXMud2lkdGhcbiAgICAgICAgICBtZWRpYS5tZXNoLnJvdGF0aW9uLnogPUdTQVAudXRpbHMucmFuZG9tKC1NYXRoLlBJICogMC4wMyxNYXRoLlBJICogMC4wMylcbiAgICAgICAgfVxuICAgICAgICAgLy8g6L+Z5Liq5YWD57Sg55qE5bem6L656L6555WM5aSn5LqO5bGP5bmV5pyA5Y+z6L65LOWwseenu+WIsOWJjemdouadpVxuICAgICAgfVxuICAgIC8vIEZvciBZIGF4aXNcbiAgICBjb25zdCBzY2FsZVkgPSBtZWRpYS5tZXNoLnNjYWxlLnkgLyAyXG4gICAgICBpZiAodGhpcy55LmRpcmVjdGlvbiA9PT0gJ2JvdHRvbScpe1xuICAgICAgICBjb25zdCB5ID0gbWVkaWEubWVzaC5wb3NpdGlvbi55IC0gc2NhbGVZIFxuICAgICAgICBpZiAoeSA+IHRoaXMuc2l6ZXMuaGVpZ2h0IC8gMikge1xuICAgICAgICAgIG1lZGlhLmV4dHJhLnkgLT0gdGhpcy5nYWxsZXJ5U2l6ZXMuaGVpZ2h0XG4gICAgICAgICAgbWVkaWEubWVzaC5yb3RhdGlvbi56ID1HU0FQLnV0aWxzLnJhbmRvbSgtTWF0aC5QSSAqIDAuMDMsTWF0aC5QSSAqIDAuMDMpXG4gICAgICAgIH1cbiAgICAgICAgLy8g5b6A5LiL5ruR77yM6aG26YOo5YWD57Sg55qE5bqV6YOo6L6555WM5aSn5LqO5bGP5bmV5pyA5pyA6aG256uvLOWwseenu+WIsOW6lemDqOadpVxuICAgICAgfWVsc2UgaWYodGhpcy55LmRpcmVjdGlvbiA9PT0gJ3RvcCcpe1xuICAgICAgICBjb25zdCB5ID0gbWVkaWEubWVzaC5wb3NpdGlvbi55ICsgc2NhbGVZIFxuICAgICAgICBpZih5IDwgLXRoaXMuc2l6ZXMuaGVpZ2h0IC8gMil7XG4gICAgICAgICAgbWVkaWEuZXh0cmEueSArPSB0aGlzLmdhbGxlcnlTaXplcy5oZWlnaHRcbiAgICAgICAgICBtZWRpYS5tZXNoLnJvdGF0aW9uLnogPUdTQVAudXRpbHMucmFuZG9tKC1NYXRoLlBJICogMC4wMyxNYXRoLlBJICogMC4wMylcbiAgICAgICAgfVxuICAgICAgICAgLy8g5b6A5LiK5ruR77yM6L+Z5Liq5YWD57Sg55qE6aG26YOo6L6555WM5bCP5LqO5bGP5bmV5pyA5pyA5bqV56uvLOWwseenu+WIsOmhtumDqOadpVxuICAgICAgfVxuXG4gICAgIFxuXG4gICAgICBtZWRpYS51cGRhdGUodGhpcy5zY3JvbGwpXG4gICAgfSlcbiAgICAvLyDkvKDnu5ltZWRpYeaWh+S7tlxuICB9XG5cbiAgLyoqXG4gICAqIERlc3Ryb3lcbiAgICovXG4gIGRlc3Ryb3koKXtcbiAgICB0aGlzLnNjZW5lLnJlbW92ZUNoaWxkKHRoaXMuZ3JvdXApXG4gIH1cblxufSIsIi8vIOi/meS4quaWh+S7tueahOS4iuS4gOe6p+S6pOaOpeaYr2NvbXBvbmVudHPnmoRpbmRleC5qc+aWh+S7tlxuaW1wb3J0IHsgQ2FtZXJhLCBSZW5kZXJlciwgVHJhbnNmb3JtIH0gZnJvbSAnb2dsJztcblxuaW1wb3J0IEhvbWUgZnJvbSAnLi9ob21lJztcbmltcG9ydCBBYm91dCBmcm9tICcuL2Fib3V0JztcbmltcG9ydCBDb2xsZWN0aW9ucyBmcm9tICcuL2NvbGxlY3Rpb25zJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW52YXMge1xuICBjb25zdHJ1Y3Rvcih7dGVtcGxhdGV9KSB7XG4gICAgdGhpcy50ZW1wbGF0ZSA9IHRlbXBsYXRlXG4gICAgLy8gdGVtcGxhdGXmmK/mlbDmja7mqKHniYhcbiAgICB0aGlzLnggPSB7XG4gICAgICBzdGFydDogMCxcbiAgICAgIGRpc3RhbmNlOiAwLFxuICAgICAgZW5kOiAwXG4gICAgfVxuICAgIHRoaXMueSA9IHtcbiAgICAgIHN0YXJ0OiAwLFxuICAgICAgZGlzdGFuY2U6IDAsXG4gICAgICBlbmQ6IDBcbiAgICB9XG5cblxuICAgIHRoaXMuY3JlYXRlUmVuZGVyZXIoKVxuICAgIHRoaXMuY3JlYXRlQ2FtZXJhKClcbiAgICB0aGlzLmNyZWF0ZVNjZW5lKClcblxuICAgIHRoaXMub25SZXNpemUoKVxuXG4gICAgdGhpcy5vbkNoYW5nZUVuZCh0aGlzLnRlbXBsYXRlKVxuICAgIC8vIHRoaXMuY3JlYXRlQ3ViZSgpXG4gICAgLy8g5LuA5LmI5LuA5LmI5b+Y6K6wZGVmaW5l5LqG77yM5bCx55yL6L+Z6YeM5pyJ5rKh5pyJ6KKr5Yid5aeL5YyWXG4gIH1cblxuICBjcmVhdGVSZW5kZXJlcigpIHtcbiAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFJlbmRlcmVyKCB7XG4gICAgICBhbHBoYTogdHJ1ZSxcbiAgICAgIC8vIOiuqXdlYmds55qE6IOM5pmv6Imy6YCP5piO77yM5LuO6ICM5pi+56S6Y3Nz6K6+572u55qE6aKc6ImyXG4gICAgICBhbnRpYWxpYXM6dHJ1ZVxuICAgICAgLy8g5oqX6ZSv6b2/XG4gICAgfSk7XG5cbiAgICB0aGlzLmdsID0gdGhpcy5yZW5kZXJlci5nbDsgLy9USVAgd29ya3MgbGlrZSBhIGNhbnZhcyBjb250ZXh0XG5cbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZ2wuY2FudmFzKTtcbiAgfVxuXG4gIGNyZWF0ZUNhbWVyYSgpIHtcbiAgICB0aGlzLmNhbWVyYSA9IG5ldyBDYW1lcmEodGhpcy5nbClcbiAgICB0aGlzLmNhbWVyYS5wb3NpdGlvbi56ID0gNVxuXG4gIH1cblxuICBjcmVhdGVTY2VuZSgpIHtcbiAgICB0aGlzLnNjZW5lID0gbmV3IFRyYW5zZm9ybSgpXG4gIH1cblxuICAvKipcbiAgICogSG9tZS5cbiAgICovXG4gIGNyZWF0ZUhvbWUoKSB7XG4gICAgdGhpcy5ob21lID0gbmV3IEhvbWUoe1xuICAgICAgZ2w6IHRoaXMuZ2wsXG4gICAgICBzY2VuZTogdGhpcy5zY2VuZSxcbiAgICAgIHNpemVzOiB0aGlzLnNpemVzXG4gICAgfSk7XG5cbiAgfVxuXG4gIGRlc3Ryb3lIb21lKCl7XG4gICAgaWYoIXRoaXMuaG9tZSkgcmV0dXJuXG4gICAgLy8g5aaC5p6c5LiN5a2Y5ZyoaG9tZe+8jOWwsemUgOavgWhvbWXvvIzvvIHmmK/kuI3miJDnq4vnmoTmhI/mgJ3vvIzmnaHku7bkuLrlgYdcbiAgICB0aGlzLmhvbWUuZGVzdHJveSgpXG4gICAgdGhpcy5ob21lID0gbnVsbFxuICB9XG5cblxuICAvKipcbiAgICogQWJvdXQuXG4gICAqL1xuICBjcmVhdGVBYm91dCgpe1xuICAgIHRoaXMuYWJvdXQgPSBuZXcgQWJvdXQoe1xuICAgICAgZ2w6IHRoaXMuZ2wsXG4gICAgICBzY2VuZTogdGhpcy5zY2VuZSxcbiAgICAgIHNpemVzOiB0aGlzLnNpemVzXG4gICAgfSk7XG4gIH1cblxuICBkZXN0cm95QWJvdXQoKXtcbiAgICBpZighdGhpcy5hYm91dCkgcmV0dXJuXG4gICAgLy8g5aaC5p6c5LiN5a2Y5ZyoYWJvdXTvvIzlsLHplIDmr4FhYm91dO+8jO+8geaYr+S4jeaIkOeri+eahOaEj+aAne+8jOadoeS7tuS4uuWBh1xuICAgIHRoaXMuYWJvdXQuZGVzdHJveSgpXG4gICAgdGhpcy5hYm91dCA9IG51bGxcbiAgfVxuXG4gIC8qKlxuICAgKiBDb2xsZWN0aW9ucy5cbiAgICovXG4gIGNyZWF0ZUNvbGxlY3Rpb25zKCl7XG4gICAgdGhpcy5jb2xsZWN0aW9ucyA9IG5ldyBDb2xsZWN0aW9ucyh7XG4gICAgICBnbDogdGhpcy5nbCxcbiAgICAgIHNjZW5lOiB0aGlzLnNjZW5lLFxuICAgICAgc2l6ZXM6IHRoaXMuc2l6ZXNcbiAgICB9KTtcbiAgfVxuXG4gIGRlc3Ryb3lDb2xsZWN0aW9ucygpe1xuICAgIGlmKCF0aGlzLmNvbGxlY3Rpb25zKSByZXR1cm5cbiAgICAvLyDlpoLmnpzkuI3lrZjlnKhDb2xsZWN0aW9uc++8jOWwsemUgOavgUNvbGxlY3Rpb25z77yM77yB5piv5LiN5oiQ56uL55qE5oSP5oCd77yM5p2h5Lu25Li65YGHXG4gICAgdGhpcy5jb2xsZWN0aW9ucy5kZXN0cm95KClcbiAgICB0aGlzLmNvbGxlY3Rpb25zID0gbnVsbFxuICB9XG5cbiAgLy8gY3JlYXRlQ3ViZSgpIHtcbiAgLy8gICB0aGlzLmdlb21ldHJ5ID0gbmV3IEJveCh0aGlzLmdsKVxuICAvLyAgIHRoaXMucHJvZ3JhbSA9IG5ldyBQcm9ncmFtKHRoaXMuZ2wsIHtcbiAgLy8gICAgIHZlcnRleCxcbiAgLy8gICAgIGZyYWdtZW50XG4gIC8vICAgfSlcbiAgLy8gICAvLyDlsIZnbOS9nOS4uuesrOS4gOS4quWFg+e0oOS8oOe7mU1lc2hcbiAgLy8gICB0aGlzLm1lc2ggPSBuZXcgTWVzaCh0aGlzLmdsLCB7XG4gIC8vICAgICBnZW9tZXRyeTp0aGlzLmdlb21ldHJ5LCBcbiAgLy8gICAgIHByb2dyYW06dGhpcy5wcm9ncmFtXG4gIC8vICAgfSlcbiAgLy8gICAvLyDlsIbnm5LlrZDorr7nva7kuLrnm7jmnLrnmoTlrZDlhYPntKBcbiAgLy8gICB0aGlzLm1lc2guc2V0UGFyZW50KHRoaXMuc2NlbmUpXG5cbiAgLy8gfVxuXG4gIC8vIEV2ZW50c1xuICBcblxuICAvKipcbiAgICogRVZFTlRTXG4gICAqL1xuICBvbkNoYW5nZVN0YXJ0KCl7XG4gICAgaWYodGhpcy5hYm91dCl7XG4gICAgICB0aGlzLmFib3V0LmhpZGUoKVxuICAgIH1cblxuICAgIGlmKHRoaXMuY29sbGVjdGlvbnMpe1xuICAgICAgdGhpcy5jb2xsZWN0aW9ucy5oaWRlKClcbiAgICB9XG5cbiAgICBpZih0aGlzLmhvbWUpe1xuICAgICAgdGhpcy5ob21lLmhpZGUoKVxuICAgIH1cbiAgfVxuICBvbkNoYW5nZUVuZCh0ZW1wbGF0ZSl7XG4gICAgLy8g5bCx5piv5b2T55So5oi3Y2hhbmdlIHRoZSByb3V0ZVxuICAgIGlmKHRlbXBsYXRlID09PSAnYWJvdXQnKXtcbiAgICAgIHRoaXMuY3JlYXRlQWJvdXQoKVxuICAgIH1lbHNlIGlmICh0aGlzLmFib3V0KXtcbiAgICAgIHRoaXMuZGVzdHJveUFib3V0KClcbiAgICB9XG5cbiAgICBpZih0ZW1wbGF0ZSA9PT0gJ2NvbGxlY3Rpb25zJyl7XG4gICAgICB0aGlzLmNyZWF0ZUNvbGxlY3Rpb25zKClcbiAgICB9ZWxzZSBpZiAodGhpcy5jb2xsZWN0aW9ucyl7XG4gICAgICB0aGlzLmRlc3Ryb3lDb2xsZWNyZWF0ZUNvbGxlY3Rpb25zKClcbiAgICB9XG5cbiAgICBpZih0ZW1wbGF0ZSA9PT0gJ2hvbWUnKXtcbiAgICAgIHRoaXMuY3JlYXRlSG9tZSgpXG4gICAgfWVsc2Uge1xuICAgICAgdGhpcy5kZXN0cm95SG9tZSgpXG4gICAgfVxuXG4gIH1cblxuICBvblJlc2l6ZSgpIHtcbiAgICAvLyDlsIbmuLLmn5PnmoTnlLvluIPlsLrlr7jloavmu6Hop4bnqpflj6NcbiAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgLy8g5Yib5bu65LqGY2FtZXJh5LmL5ZCO5omN6IO95Yib5bu66YCP6KeG5Zu+XG4gICAgdGhpcy5jYW1lcmEucGVyc3BlY3RpdmUoeyBhc3BlY3Q6IHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0IH0pO1xuXG4gICAgY29uc3QgZm92ID0gdGhpcy5jYW1lcmEuZm92ICogKE1hdGguUEkgLyAxODApO1xuICAgIGNvbnN0IGhlaWdodCA9IDIgKiBNYXRoLnRhbihmb3YgLyAyKSAqIHRoaXMuY2FtZXJhLnBvc2l0aW9uLno7XG4gICAgY29uc3Qgd2lkdGggPSBoZWlnaHQgKiB0aGlzLmNhbWVyYS5hc3BlY3Q7XG5cbiAgICB0aGlzLnNpemVzID0ge1xuICAgICAgaGVpZ2h0LFxuICAgICAgd2lkdGgsXG4gICAgfTtcblxuICAgIGNvbnN0IHZhbHVlcyA9IHtzaXplczogdGhpcy5zaXplc31cblxuICAgIGlmICh0aGlzLmFib3V0KSB7XG4gICAgICB0aGlzLmFib3V0Lm9uUmVzaXplKHZhbHVlcyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY29sbGVjdGlvbnMpIHtcbiAgICAgIHRoaXMuY29sbGVjdGlvbnMub25SZXNpemUodmFsdWVzKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5ob21lKSB7XG4gICAgICB0aGlzLmhvbWUub25SZXNpemUodmFsdWVzKTtcbiAgICB9XG4gIH1cblxuICBvblRvdWNoRG93bihldmVudCkge1xuICAgIHRoaXMuaXNEb3duID0gdHJ1ZVxuICAgIHRoaXMueC5zdGFydCA9IGV2ZW50LnRvdWNoZXMgPyBldmVudC50b3VjaGVzWzBdLmNsaWVudFggOiBldmVudC5jbGllbnRYXG4gICAgdGhpcy55LnN0YXJ0ID0gZXZlbnQudG91Y2hlcyA/IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WSA6IGV2ZW50LmNsaWVudFlcblxuICAgIGNvbnN0IHZhbHVlcyA9IHtcbiAgICAgIHg6IHRoaXMueCxcbiAgICAgIHk6IHRoaXMueVxuICAgIH1cblxuICAgIGlmICh0aGlzLmFib3V0KSB7XG4gICAgICB0aGlzLmFib3V0Lm9uVG91Y2hEb3duKHZhbHVlcylcbiAgICB9XG5cbiAgICBpZiAodGhpcy5jb2xsZWN0aW9ucykge1xuICAgICAgdGhpcy5jb2xsZWN0aW9ucy5vblRvdWNoRG93bih2YWx1ZXMpXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaG9tZSkge1xuICAgICAgdGhpcy5ob21lLm9uVG91Y2hEb3duKHZhbHVlcylcbiAgICB9XG4gIH1cblxuICBvblRvdWNoTW92ZShldmVudCkge1xuICAgIGlmICghdGhpcy5pc0Rvd24pIHJldHVyblxuXG4gICAgY29uc3QgeCA9IGV2ZW50LnRvdWNoZXMgPyBldmVudC50b3VjaGVzWzBdLmNsaWVudFggOiBldmVudC5jbGllbnRYXG4gICAgY29uc3QgeSA9IGV2ZW50LnRvdWNoZXMgPyBldmVudC50b3VjaGVzWzBdLmNsaWVudFkgOiBldmVudC5jbGllbnRZXG5cbiAgICB0aGlzLnguZW5kID14XG4gICAgdGhpcy55LmVuZCA9eVxuXG5cbiAgICBjb25zdCB2YWx1ZXMgPSB7XG4gICAgICB4OiB0aGlzLngsXG4gICAgICB5OiB0aGlzLnlcbiAgICB9XG5cbiAgICBpZiAodGhpcy5hYm91dCkge1xuICAgICAgdGhpcy5hYm91dC5vblRvdWNoTW92ZSh2YWx1ZXMpXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY29sbGVjdGlvbnMpIHtcbiAgICAgIHRoaXMuY29sbGVjdGlvbnMub25Ub3VjaE1vdmUodmFsdWVzKVxuICAgIH1cblxuICAgIGlmICh0aGlzLmhvbWUpIHtcbiAgICAgIHRoaXMuaG9tZS5vblRvdWNoTW92ZSh2YWx1ZXMpXG4gICAgfVxuICB9XG5cbiAgb25Ub3VjaFVwKGV2ZW50KSB7XG4gICAgdGhpcy5pc0Rvd24gPSBmYWxzZVxuICAgIGNvbnN0IHggPSBldmVudC5jaGFuZ2VkVG91Y2hlcyA/IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFggOiBldmVudC5jbGllbnRYXG4gICAgY29uc3QgeSA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzID8gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WSA6IGV2ZW50LmNsaWVudFlcblxuICAgIHRoaXMueC5lbmQgPXhcbiAgICB0aGlzLnkuZW5kID15XG5cbiAgICBjb25zdCB2YWx1ZXMgPSB7XG4gICAgICB4OiB0aGlzLngsXG4gICAgICB5OiB0aGlzLnlcbiAgICB9XG5cbiAgICBpZiAodGhpcy5hYm91dCkge1xuICAgICAgdGhpcy5hYm91dC5vblRvdWNoVXAodmFsdWVzKVxuICAgIH1cblxuICAgIGlmICh0aGlzLmNvbGxlY3Rpb25zKSB7XG4gICAgICB0aGlzLmNvbGxlY3Rpb25zLm9uVG91Y2hVcCh2YWx1ZXMpXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaG9tZSkge1xuICAgICAgdGhpcy5ob21lLm9uVG91Y2hVcCh2YWx1ZXMpXG4gICAgfVxuICB9XG5cbiAgb25XaGVlbChldmVudCl7XG4gICAgaWYodGhpcy5ob21lKXtcbiAgICAgIHRoaXMuaG9tZS5vbldoZWVsKGV2ZW50KVxuICAgIH1cblxuICAgIGlmKHRoaXMuY29sbGVjdGlvbnMpe1xuICAgICAgdGhpcy5jb2xsZWN0aW9ucy5vbldoZWVsKGV2ZW50KVxuICAgIH1cbiAgfVxuXG4gIC8vIExvb3BcbiAgdXBkYXRlKHNjcm9sbCkge1xuICAgIC8vIOWunuaXtua4suafk1xuICAgIC8vIHRoaXMubWVzaC5yb3RhdGlvbi54ICs9IDAuMDFcbiAgICAvLyB0aGlzLm1lc2gucm90YXRpb24ueSArPSAwLjAxXG4gICAgaWYodGhpcy5hYm91dCl7XG4gICAgICB0aGlzLmFib3V0LnVwZGF0ZShzY3JvbGwpXG4gICAgfVxuICAgIC8vIOWboOS4uuWPquaciWFib3V0IHBhZ2XmnInkuIvmu5FcblxuICAgIGlmKHRoaXMuY29sbGVjdGlvbnMpe1xuICAgICAgdGhpcy5jb2xsZWN0aW9ucy51cGRhdGUoKVxuICAgIH1cblxuICAgIGlmKHRoaXMuaG9tZSl7XG4gICAgICB0aGlzLmhvbWUudXBkYXRlKClcbiAgICB9XG5cbiAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih7XG4gICAgICBjYW1lcmE6IHRoaXMuY2FtZXJhLFxuICAgICAgc2NlbmU6IHRoaXMuc2NlbmVcbiAgICB9KVxuICB9XG59IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5oID0gKCkgPT4gKFwiNjkyZWI3NWY4MDg1MjAwNWI3MTNcIikiXSwibmFtZXMiOlsiY29uc3RydWN0b3IiLCJnbCIsInNjZW5lIiwic2l6ZXMiLCJ0aGlzIiwiZ3JvdXAiLCJUcmFuc2Zvcm0iLCJnYWxsZXJ5RWxlbWVudCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm1lZGlhc0VsZW1lbnRzIiwicXVlcnlTZWxlY3RvckFsbCIsIngiLCJjdXJyZW50IiwidGFyZ2V0IiwibGVycCIsInkiLCJzY3JvbGxDdXJyZW50Iiwic2Nyb2xsIiwiY3JlYXRlR2VvbWV0cnkiLCJjcmVhdGVHYWxsZXJ5Iiwic2V0UGFyZW50Iiwic2hvdyIsImdlb21ldHJ5IiwiUGxhbmUiLCJtZWRpYXMiLCJtYXAiLCJlbGVtZW50IiwiaW5kZXgiLCJNZWRpYSIsIm1lZGlhIiwiaGlkZSIsIm9uUmVzaXplIiwiZXZlbnQiLCJnYWxsZXJ5Qm91bmRzIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiZ2FsbGVyeVNpemVzIiwiaGVpZ2h0Iiwid2luZG93IiwiaW5uZXJIZWlnaHQiLCJ3aWR0aCIsImlubmVyV2lkdGgiLCJvblRvdWNoRG93biIsIm9uVG91Y2hNb3ZlIiwieERpc3RhbmNlIiwic3RhcnQiLCJlbmQiLCJ5RGlzdGFuY2UiLCJvblRvdWNoVXAiLCJvbldoZWVsIiwicGl4ZWxYIiwicGl4ZWxZIiwidXBkYXRlIiwiR1NBUCIsInV0aWxzIiwiaW50ZXJwb2xhdGUiLCJkaXJlY3Rpb24iLCJzY2FsZVgiLCJtZXNoIiwic2NhbGUiLCJwb3NpdGlvbiIsImV4dHJhIiwicm90YXRpb24iLCJ6IiwicmFuZG9tIiwiTWF0aCIsIlBJIiwic2NhbGVZIiwiZGVzdHJveSIsInJlbW92ZUNoaWxkIiwiQ2FudmFzIiwidGVtcGxhdGUiLCJkaXN0YW5jZSIsImNyZWF0ZVJlbmRlcmVyIiwiY3JlYXRlQ2FtZXJhIiwiY3JlYXRlU2NlbmUiLCJvbkNoYW5nZUVuZCIsInJlbmRlcmVyIiwiUmVuZGVyZXIiLCJhbHBoYSIsImFudGlhbGlhcyIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImNhbnZhcyIsImNhbWVyYSIsIkNhbWVyYSIsImNyZWF0ZUhvbWUiLCJob21lIiwiSG9tZSIsImRlc3Ryb3lIb21lIiwiY3JlYXRlQWJvdXQiLCJhYm91dCIsIkFib3V0IiwiZGVzdHJveUFib3V0IiwiY3JlYXRlQ29sbGVjdGlvbnMiLCJjb2xsZWN0aW9ucyIsIkNvbGxlY3Rpb25zIiwiZGVzdHJveUNvbGxlY3Rpb25zIiwib25DaGFuZ2VTdGFydCIsImRlc3Ryb3lDb2xsZWNyZWF0ZUNvbGxlY3Rpb25zIiwic2V0U2l6ZSIsInBlcnNwZWN0aXZlIiwiYXNwZWN0IiwiZm92IiwidGFuIiwidmFsdWVzIiwiaXNEb3duIiwidG91Y2hlcyIsImNsaWVudFgiLCJjbGllbnRZIiwiY2hhbmdlZFRvdWNoZXMiLCJyZW5kZXIiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiaCJdLCJzb3VyY2VSb290IjoiIn0=