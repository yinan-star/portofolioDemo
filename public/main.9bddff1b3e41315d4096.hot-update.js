/*! For license information please see main.9bddff1b3e41315d4096.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdatefloema("main",{"./app/components/Canvas/home/index.js":(t,e,s)=>{s.r(e),s.d(e,{default:()=>a});var i=s("./node_modules/ogl/src/core/Transform.js"),h=s("./node_modules/ogl/src/extras/Plane.js"),r=s("./node_modules/gsap/index.js"),l=s("./node_modules/lodash/map.js"),o=s.n(l),n=s("./app/components/Canvas/home/Media.js");const a=class{constructor({gl:t,scene:e,sizes:s}){this.gl=t,this.scene=e,this.sizes=s,this.group=new i.Transform,this.galleryElement=document.querySelector(".home__gallery"),this.mediasElements=document.querySelectorAll(".home__gallery__media__image"),this.x={current:0,target:0,lerp:.1},this.y={current:0,target:0,lerp:.1},this.scrollCurrent={x:0,y:0},this.scroll={x:0,y:0},this.speed={current:0,target:0,lerp:.1},this.createGeometry(),this.createGallery(),this.group.setParent(this.scene),this.show()}createGeometry(){this.geometry=new h.Plane(this.gl,{widthSegments:20,heightSegments:20})}createGallery(){this.medias=o()(this.mediasElements,((t,e)=>new n.default({element:t,geometry:this.geometry,gl:this.gl,index:e,scene:this.group,sizes:this.sizes})))}show(){o()(this.medias,(t=>t.show()))}hide(){o()(this.medias,(t=>t.hide()))}onResize(t){this.galleryBounds=this.galleryElement.getBoundingClientRect(),this.sizes=t.sizes,this.gallerySizes={height:this.galleryBounds.height/window.innerHeight*this.sizes.height,width:this.galleryBounds.width/window.innerWidth*this.sizes.width},this.scroll.x=this.x.target=0,this.scroll.y=this.y.target=0,o()(this.medias,(e=>e.onResize(t,this.scroll)))}onTouchDown({x:t,y:e}){this.speed.target=1,this.scrollCurrent.x=this.scroll.x,this.scrollCurrent.y=this.scroll.y}onTouchMove({x:t,y:e}){const s=t.start-t.end,i=e.start-e.end;this.x.target=this.scrollCurrent.x-s,this.y.target=this.scrollCurrent.y-i}onTouchUp({x:t,y:e}){this.speed.target=0}onWheel({pixelX:t,pixelY:e}){this.x.target+=t,this.y.target+=e}update(){if(!this.galleryBounds)return;this.scroll.x=this.x.current,this.scroll.y=this.y.current;this.x.target,this.x.current,this.y.target,this.y.current;this.speed.current=r.default.utils.interpolate(this.speed.current,this.speed.target,this.speed.lerp),this.x.current=r.default.utils.interpolate(this.x.current,this.x.target,this.x.lerp),this.y.current=r.default.utils.interpolate(this.y.current,this.y.target,this.y.lerp),this.scroll.x<this.x.current?this.x.direction="right":this.scroll.x>this.x.current&&(this.x.direction="left"),this.scroll.y<this.y.current?this.y.direction="top":this.scroll.y>this.y.current&&(this.y.direction="bottom"),o()(this.medias,((t,e)=>{const s=t.mesh.scale.x/2;if("left"===this.x.direction){t.mesh.position.x+s<-this.sizes.width/2&&(t.extra.x+=this.gallerySizes.width,t.mesh.rotation.z=r.default.utils.random(.03*-Math.PI,.03*Math.PI))}else if("right"===this.x.direction){t.mesh.position.x-s>this.sizes.width/2&&(t.extra.x-=this.gallerySizes.width,t.mesh.rotation.z=r.default.utils.random(.03*-Math.PI,.03*Math.PI))}const i=t.mesh.scale.y/2;if("bottom"===this.y.direction){t.mesh.position.y-i>this.sizes.height/2&&(t.extra.y-=this.gallerySizes.height,t.mesh.rotation.z=r.default.utils.random(.03*-Math.PI,.03*Math.PI))}else if("top"===this.y.direction){t.mesh.position.y+i<-this.sizes.height/2&&(t.extra.y+=this.gallerySizes.height,t.mesh.rotation.z=r.default.utils.random(.03*-Math.PI,.03*Math.PI))}t.update(this.scroll,speed)}))}destroy(){this.scene.removeChild(this.group)}}}},(function(t){t.h=()=>"ba29cd41b016e31cc41c"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFLQyxHQUFxQixJQUFWRCxLQUFLQyxJQUdwRSxDQUlBcEMsRUFBTXNCLE9BQU9uRCxLQUFLYyxPQUFRQyxNQUFNLEdBR3BDLENBS0FvRCxPQUFBQSxHQUNFbkUsS0FBS0YsTUFBTXNFLFlBQVlwRSxLQUFLQyxNQUM5QixrQkM1TkZvRSxFQUFvQkMsRUFBSSxJQUFNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmxvZW1hLy4vYXBwL2NvbXBvbmVudHMvQ2FudmFzL2hvbWUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vZmxvZW1hL3dlYnBhY2svcnVudGltZS9nZXRGdWxsSGFzaCJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCB7IFBsYW5lLCBUcmFuc2Zvcm0gfSBmcm9tICdvZ2wnO1xuaW1wb3J0IEdTQVAgZnJvbSAnZ3NhcCdcblxuaW1wb3J0IG1hcCBmcm9tICdsb2Rhc2gvbWFwJ1xuXG5pbXBvcnQgTWVkaWEgZnJvbSAnLi9NZWRpYSdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcih7IGdsLCBzY2VuZSwgc2l6ZXMgfSkge1xuICAgIHRoaXMuZ2wgPSBnbDtcbiAgICB0aGlzLnNjZW5lID0gc2NlbmVcbiAgICB0aGlzLnNpemVzID0gc2l6ZXM7XG4gICAgdGhpcy5ncm91cCA9IG5ldyBUcmFuc2Zvcm0oKTtcblxuICAgIHRoaXMuZ2FsbGVyeUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaG9tZV9fZ2FsbGVyeScpXG4gICAgdGhpcy5tZWRpYXNFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICAnLmhvbWVfX2dhbGxlcnlfX21lZGlhX19pbWFnZSdcbiAgICApO1xuXG4gICAgdGhpcy54ID0ge1xuICAgICAgY3VycmVudDogMCxcbiAgICAgIHRhcmdldDogMCxcbiAgICAgIGxlcnA6IDAuMVxuICAgIH1cblxuICAgIHRoaXMueSA9IHtcbiAgICAgIGN1cnJlbnQ6IDAsXG4gICAgICB0YXJnZXQ6IDAsXG4gICAgICBsZXJwOiAwLjFcbiAgICB9XG5cbiAgICB0aGlzLnNjcm9sbEN1cnJlbnQgPSB7XG4gICAgICB4OiAwLFxuICAgICAgeTogMFxuICAgIH1cblxuICAgIHRoaXMuc2Nyb2xsID0ge1xuICAgICAgeDogMCxcbiAgICAgIHk6IDBcbiAgICB9XG5cbiAgICB0aGlzLnNwZWVkID0ge1xuICAgICAgY3VycmVudDogMCxcbiAgICAgIHRhcmdldDogMCxcbiAgICAgIGxlcnA6IDAuMVxuICAgIH1cblxuICAgIHRoaXMuY3JlYXRlR2VvbWV0cnkoKTtcbiAgICB0aGlzLmNyZWF0ZUdhbGxlcnkoKTtcblxuXG4gICAgdGhpcy5ncm91cC5zZXRQYXJlbnQodGhpcy5zY2VuZSk7XG5cbiAgICB0aGlzLnNob3coKVxuICAgIC8vIOWnkO+8jGNvbnN0cnVjdG9y5qC85byP5pivKHt9KXt944CC5LiN6KaB5b+Y6K6w5LqGXG5cbiAgfVxuXG4gIGNyZWF0ZUdlb21ldHJ5KCkge1xuICAgIHRoaXMuZ2VvbWV0cnkgPSBuZXcgUGxhbmUodGhpcy5nbCwge1xuICAgICAgd2lkdGhTZWdtZW50czogMjAsXG4gICAgICBoZWlnaHRTZWdtZW50czogMjBcbiAgICAgIC8vIOaKiuW5s+mdouWinuWKoOWIhuautSzlg48zZOS4gOagtyzlnKhob21lLXZlcnRleOmHjOmdouWBmueul+azlVxuICAgIH0pXG4gIH1cblxuICBjcmVhdGVHYWxsZXJ5KCkge1xuICAgIC8vIOS8oOWIsE1lZGlh6YeM6Z2iXG4gICAgdGhpcy5tZWRpYXMgPSBtYXAodGhpcy5tZWRpYXNFbGVtZW50cywgKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICByZXR1cm4gbmV3IE1lZGlhKHtcbiAgICAgICAgZWxlbWVudCxcbiAgICAgICAgZ2VvbWV0cnk6IHRoaXMuZ2VvbWV0cnksXG4gICAgICAgIGdsOiB0aGlzLmdsLFxuICAgICAgICBpbmRleCxcbiAgICAgICAgc2NlbmU6IHRoaXMuZ3JvdXAsXG4gICAgICAgIHNpemVzOiB0aGlzLnNpemVzXG4gICAgICB9KTtcbiAgICB9KVxuICB9XG5cbiAgLy8gQW5pbWF0aW9uc1xuICBzaG93KCkge1xuICAgIG1hcCh0aGlzLm1lZGlhcywgbWVkaWEgPT4gbWVkaWEuc2hvdygpKVxuICB9XG4gIGhpZGUoKSB7XG4gICAgbWFwKHRoaXMubWVkaWFzLCBtZWRpYSA9PiBtZWRpYS5oaWRlKCkpXG4gIH1cblxuICAvLyBFdmVudHNcbiAgb25SZXNpemUoZXZlbnQpIHtcbiAgICB0aGlzLmdhbGxlcnlCb3VuZHMgPSB0aGlzLmdhbGxlcnlFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgLy8g6I635Y+W5YWD57Sg55qE5L2N572u5ZKM5bC65a+4XG5cbiAgICB0aGlzLnNpemVzID0gZXZlbnQuc2l6ZXNcbiAgICAvLyDlsY/luZXnmoTlsLrlr7jvvIznu5l1cGRhdGXogIzkuI3mmK/nlLvluIPnmoRcblxuICAgIHRoaXMuZ2FsbGVyeVNpemVzID0ge1xuICAgICAgaGVpZ2h0OiB0aGlzLmdhbGxlcnlCb3VuZHMuaGVpZ2h0IC8gd2luZG93LmlubmVySGVpZ2h0ICogdGhpcy5zaXplcy5oZWlnaHQsXG4gICAgICB3aWR0aDogdGhpcy5nYWxsZXJ5Qm91bmRzLndpZHRoIC8gd2luZG93LmlubmVyV2lkdGggKiB0aGlzLnNpemVzLndpZHRoXG4gICAgfVxuICAgIC8vIOiuoeeul+W9k+WJjeeUu+W7iueahOWuveW6puWNoOinhueql+WPo+eahOWuveW6pueahOWkmuWwkeeEtuWQjuS5mOS7peWFt+S9k+eahOWuveW6pi0tPuWwhuWFg+e0oOWcqOinhuWPo+S4reeahOavlOS+i+i9rOaNouS4uuWFt+S9k+eahOWunumZheWuveW6puOAguWTjeW6lOW8j+W4g+WxgFxuICAgIHRoaXMuc2Nyb2xsLnggPSB0aGlzLngudGFyZ2V0ID0gMFxuICAgIHRoaXMuc2Nyb2xsLnkgPSB0aGlzLnkudGFyZ2V0ID0gMFxuICAgIG1hcCh0aGlzLm1lZGlhcywgbWVkaWEgPT4gbWVkaWEub25SZXNpemUoZXZlbnQsIHRoaXMuc2Nyb2xsKSlcblxuICB9XG5cbiAgb25Ub3VjaERvd24oeyB4LCB5IH0pIHtcbiAgICB0aGlzLnNwZWVkLnRhcmdldCA9IDFcblxuICAgIHRoaXMuc2Nyb2xsQ3VycmVudC54ID0gdGhpcy5zY3JvbGwueFxuICAgIHRoaXMuc2Nyb2xsQ3VycmVudC55ID0gdGhpcy5zY3JvbGwueVxuICB9XG5cbiAgb25Ub3VjaE1vdmUoeyB4LCB5IH0pIHtcbiAgICBjb25zdCB4RGlzdGFuY2UgPSB4LnN0YXJ0IC0geC5lbmRcbiAgICBjb25zdCB5RGlzdGFuY2UgPSB5LnN0YXJ0IC0geS5lbmRcblxuICAgIHRoaXMueC50YXJnZXQgPSB0aGlzLnNjcm9sbEN1cnJlbnQueCAtIHhEaXN0YW5jZSxcbiAgICAgIHRoaXMueS50YXJnZXQgPSB0aGlzLnNjcm9sbEN1cnJlbnQueSAtIHlEaXN0YW5jZVxuICAgIC8vIOWmguaenOm8oOagh+WSjOWbvueJh+eahOenu+WKqOebuOWPjeaWueWQke+8jOimgeeUqOWHj+WPt1xuXG5cbiAgfVxuXG4gIG9uVG91Y2hVcCh7IHgsIHkgfSkge1xuICAgIHRoaXMuc3BlZWQudGFyZ2V0ID0gMFxuXG4gIH1cblxuICBvbldoZWVsKHsgcGl4ZWxYLCBwaXhlbFkgfSkge1xuICAgIC8vIOaNleiOt+a7muWKqOS6i+S7tueahOWDj+e0oOWAvO+8jOeEtuWQjuagueaNrui/meS6m+WAvOadpeabtOaWsOmhtemdouS4reafkOS6m+WFg+e0oOeahOS9jee9ruaIlueKtuaAge+8jOWunueOsOmhtemdoueahOa7muWKqOaIluinhuWbvueahOWPmOWMllxuICAgIHRoaXMueC50YXJnZXQgKz0gcGl4ZWxYXG4gICAgdGhpcy55LnRhcmdldCArPSBwaXhlbFlcbiAgfVxuXG4gIC8vIFVwZGF0ZVxuICB1cGRhdGUoKSB7XG4gICAgaWYgKCF0aGlzLmdhbGxlcnlCb3VuZHMpIHJldHVyblxuXG5cbiAgICB0aGlzLnNjcm9sbC54ID0gdGhpcy54LmN1cnJlbnRcbiAgICB0aGlzLnNjcm9sbC55ID0gdGhpcy55LmN1cnJlbnRcblxuICAgIGNvbnN0IGEgPSB0aGlzLngudGFyZ2V0IC0gdGhpcy54LmN1cnJlbnRcbiAgICBjb25zdCBiID0gdGhpcy55LnRhcmdldCAtIHRoaXMueS5jdXJyZW50XG5cbiAgICAvLyBjb25zdCBzcGVlZCA9IE1hdGguc3FydChhICogYSArIGIgKiBiKSAqIDAuMDAxXG4gICAgLy8g566X5LiJ6KeS5Ye95pWwLOaWnOi+ueeahOi3neemuyznrpflh7rnlKjmiLfnmoTnp7vliqjot53nprs/XG4gICAgdGhpcy5zcGVlZC5jdXJyZW50ID0gR1NBUC51dGlscy5pbnRlcnBvbGF0ZSh0aGlzLnNwZWVkLmN1cnJlbnQsIHRoaXMuc3BlZWQudGFyZ2V0LCB0aGlzLnNwZWVkLmxlcnApXG5cbiAgICB0aGlzLnguY3VycmVudCA9IEdTQVAudXRpbHMuaW50ZXJwb2xhdGUodGhpcy54LmN1cnJlbnQsIHRoaXMueC50YXJnZXQsIHRoaXMueC5sZXJwKVxuICAgIHRoaXMueS5jdXJyZW50ID0gR1NBUC51dGlscy5pbnRlcnBvbGF0ZSh0aGlzLnkuY3VycmVudCwgdGhpcy55LnRhcmdldCwgdGhpcy55LmxlcnApXG5cbiAgICBpZiAodGhpcy5zY3JvbGwueCA8IHRoaXMueC5jdXJyZW50KSB7XG4gICAgICB0aGlzLnguZGlyZWN0aW9uID0gJ3JpZ2h0J1xuICAgIH0gZWxzZSBpZiAodGhpcy5zY3JvbGwueCA+IHRoaXMueC5jdXJyZW50KSB7XG4gICAgICB0aGlzLnguZGlyZWN0aW9uID0gJ2xlZnQnXG4gICAgfVxuICAgIC8vIOajgOa1i+m8oOagh+a7muWKqOaWueWQke+8jOW9k+WJjeS9jee9ruWSjOWFiOWJjeS9jee9ruWBmuavlOi+g+OAglxuICAgIGlmICh0aGlzLnNjcm9sbC55IDwgdGhpcy55LmN1cnJlbnQpIHtcbiAgICAgIHRoaXMueS5kaXJlY3Rpb24gPSAndG9wJ1xuICAgIH0gZWxzZSBpZiAodGhpcy5zY3JvbGwueSA+IHRoaXMueS5jdXJyZW50KSB7XG4gICAgICB0aGlzLnkuZGlyZWN0aW9uID0gJ2JvdHRvbSdcbiAgICB9XG5cbiAgICBtYXAodGhpcy5tZWRpYXMsIChtZWRpYSwgaW5kZXgpID0+IHtcbiAgICAgIC8vIEZvciBYIGF4aXNcbiAgICAgIGNvbnN0IHNjYWxlWCA9IG1lZGlhLm1lc2guc2NhbGUueCAvIDJcbiAgICAgIGlmICh0aGlzLnguZGlyZWN0aW9uID09PSAnbGVmdCcpIHtcbiAgICAgICAgY29uc3QgeCA9IG1lZGlhLm1lc2gucG9zaXRpb24ueCArIHNjYWxlWFxuICAgICAgICAvLyDlhYPntKDnmoR45L2N572uK+i/meS4quWFg+e0oOeahOS4gOWNiueahOWuveW6pu+8jOWwseaYr+esrOS4gOS4quWFg+e0oOeahOacgOWPs+i+uei+ueeVjO+8jOi/meS4qui+ueeVjOWwj+mbqOWxj+W5leeahOacgOW3pui+ueeahOi+ueeVjOWwseaYr+WbvueJh291dCBvZiBwaWN0dXJlXG4gICAgICAgIGlmICh4IDwgLXRoaXMuc2l6ZXMud2lkdGggLyAyKSB7XG4gICAgICAgICAgLy8g6KGo56S65bGP5bmV5a695bqm55qE5LiA5Y2K44CC5bCG5YW25Y+W6LSf5YC855qE5Y6f5Zug5piv77yM6YCa5bi45oOF5Ya15LiL5bGP5bmV5bem5L6n6L6555WM55qE5Z2Q5qCH5YC85piv6LSf55qE77yM6ICM5bGP5bmV5Y+z5L6n6L6555WM5piv5q2j55qE44CCXG4gICAgICAgICAgLy8g5qOA5p+l56ys5LiA5Liq5aqS5L2T5YWD57Sg55qE5L2N572u5piv5ZCm6LaF5Ye65bGP5bmV5bem5L6n6L6555WMXG4gICAgICAgICAgbWVkaWEuZXh0cmEueCArPSB0aGlzLmdhbGxlcnlTaXplcy53aWR0aFxuICAgICAgICAgIC8vIOW9k+eUqOaIt+W+gOW3pui+ueaLve+8jOW5tuS4lOenu+WHuuWOu+WQju+8jOimgeWwhuWug+aUvuWIsOacgOWPs+i+ueiuqeS7luS7juWPs+i+uei/m+adpe+8jCDovr7miJDkuIDkuKrlvqrnjq8s5bCx5piv56ys5LiA5Liq5YWD57Sg55qEWOe0r+WKoOS4iuaVtOS4queUu+W7iueahOWuveW6pu+8jOWwseWIsOS6huacgOWPs+i+uVxuICAgICAgICAgIC8vIOebuOWvueS6juWvueixoeiHqui6q+eahOS4reW/g+i9tOaIluiAheWOn+eCueeahOS9jee9ru+8jOS5n+WwseaYr+ivtGxvY2FsIHBvc2l0aW9uXG4gICAgICAgICAgbWVkaWEubWVzaC5yb3RhdGlvbi56ID0gR1NBUC51dGlscy5yYW5kb20oLU1hdGguUEkgKiAwLjAzLCBNYXRoLlBJICogMC4wMylcblxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRoaXMueC5kaXJlY3Rpb24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgY29uc3QgeCA9IG1lZGlhLm1lc2gucG9zaXRpb24ueCAtIHNjYWxlWFxuICAgICAgICBpZiAoeCA+IHRoaXMuc2l6ZXMud2lkdGggLyAyKSB7XG4gICAgICAgICAgbWVkaWEuZXh0cmEueCAtPSB0aGlzLmdhbGxlcnlTaXplcy53aWR0aFxuICAgICAgICAgIG1lZGlhLm1lc2gucm90YXRpb24ueiA9IEdTQVAudXRpbHMucmFuZG9tKC1NYXRoLlBJICogMC4wMywgTWF0aC5QSSAqIDAuMDMpXG4gICAgICAgIH1cbiAgICAgICAgLy8g6L+Z5Liq5YWD57Sg55qE5bem6L656L6555WM5aSn5LqO5bGP5bmV5pyA5Y+z6L65LOWwseenu+WIsOWJjemdouadpVxuICAgICAgfVxuICAgICAgLy8gRm9yIFkgYXhpc1xuICAgICAgY29uc3Qgc2NhbGVZID0gbWVkaWEubWVzaC5zY2FsZS55IC8gMlxuICAgICAgaWYgKHRoaXMueS5kaXJlY3Rpb24gPT09ICdib3R0b20nKSB7XG4gICAgICAgIGNvbnN0IHkgPSBtZWRpYS5tZXNoLnBvc2l0aW9uLnkgLSBzY2FsZVlcbiAgICAgICAgaWYgKHkgPiB0aGlzLnNpemVzLmhlaWdodCAvIDIpIHtcbiAgICAgICAgICBtZWRpYS5leHRyYS55IC09IHRoaXMuZ2FsbGVyeVNpemVzLmhlaWdodFxuICAgICAgICAgIG1lZGlhLm1lc2gucm90YXRpb24ueiA9IEdTQVAudXRpbHMucmFuZG9tKC1NYXRoLlBJICogMC4wMywgTWF0aC5QSSAqIDAuMDMpXG4gICAgICAgIH1cbiAgICAgICAgLy8g5b6A5LiL5ruR77yM6aG26YOo5YWD57Sg55qE5bqV6YOo6L6555WM5aSn5LqO5bGP5bmV5pyA5pyA6aG256uvLOWwseenu+WIsOW6lemDqOadpVxuICAgICAgfSBlbHNlIGlmICh0aGlzLnkuZGlyZWN0aW9uID09PSAndG9wJykge1xuICAgICAgICBjb25zdCB5ID0gbWVkaWEubWVzaC5wb3NpdGlvbi55ICsgc2NhbGVZXG4gICAgICAgIGlmICh5IDwgLXRoaXMuc2l6ZXMuaGVpZ2h0IC8gMikge1xuICAgICAgICAgIG1lZGlhLmV4dHJhLnkgKz0gdGhpcy5nYWxsZXJ5U2l6ZXMuaGVpZ2h0XG4gICAgICAgICAgbWVkaWEubWVzaC5yb3RhdGlvbi56ID0gR1NBUC51dGlscy5yYW5kb20oLU1hdGguUEkgKiAwLjAzLCBNYXRoLlBJICogMC4wMylcbiAgICAgICAgfVxuICAgICAgICAvLyDlvoDkuIrmu5HvvIzov5nkuKrlhYPntKDnmoTpobbpg6jovrnnlYzlsI/kuo7lsY/luZXmnIDmnIDlupXnq68s5bCx56e75Yiw6aG26YOo5p2lXG4gICAgICB9XG5cblxuXG4gICAgICBtZWRpYS51cGRhdGUodGhpcy5zY3JvbGwsIHNwZWVkKVxuICAgIH0pXG4gICAgLy8g5Lyg57uZbWVkaWHmlofku7ZcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXN0cm95XG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMuc2NlbmUucmVtb3ZlQ2hpbGQodGhpcy5ncm91cClcbiAgfVxuXG59IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5oID0gKCkgPT4gKFwiYmEyOWNkNDFiMDE2ZTMxY2M0MWNcIikiXSwibmFtZXMiOlsiY29uc3RydWN0b3IiLCJnbCIsInNjZW5lIiwic2l6ZXMiLCJ0aGlzIiwiZ3JvdXAiLCJUcmFuc2Zvcm0iLCJnYWxsZXJ5RWxlbWVudCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm1lZGlhc0VsZW1lbnRzIiwicXVlcnlTZWxlY3RvckFsbCIsIngiLCJjdXJyZW50IiwidGFyZ2V0IiwibGVycCIsInkiLCJzY3JvbGxDdXJyZW50Iiwic2Nyb2xsIiwic3BlZWQiLCJjcmVhdGVHZW9tZXRyeSIsImNyZWF0ZUdhbGxlcnkiLCJzZXRQYXJlbnQiLCJzaG93IiwiZ2VvbWV0cnkiLCJQbGFuZSIsIndpZHRoU2VnbWVudHMiLCJoZWlnaHRTZWdtZW50cyIsIm1lZGlhcyIsIm1hcCIsImVsZW1lbnQiLCJpbmRleCIsIk1lZGlhIiwibWVkaWEiLCJoaWRlIiwib25SZXNpemUiLCJldmVudCIsImdhbGxlcnlCb3VuZHMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJnYWxsZXJ5U2l6ZXMiLCJoZWlnaHQiLCJ3aW5kb3ciLCJpbm5lckhlaWdodCIsIndpZHRoIiwiaW5uZXJXaWR0aCIsIm9uVG91Y2hEb3duIiwib25Ub3VjaE1vdmUiLCJ4RGlzdGFuY2UiLCJzdGFydCIsImVuZCIsInlEaXN0YW5jZSIsIm9uVG91Y2hVcCIsIm9uV2hlZWwiLCJwaXhlbFgiLCJwaXhlbFkiLCJ1cGRhdGUiLCJHU0FQIiwidXRpbHMiLCJpbnRlcnBvbGF0ZSIsImRpcmVjdGlvbiIsInNjYWxlWCIsIm1lc2giLCJzY2FsZSIsInBvc2l0aW9uIiwiZXh0cmEiLCJyb3RhdGlvbiIsInoiLCJyYW5kb20iLCJNYXRoIiwiUEkiLCJzY2FsZVkiLCJkZXN0cm95IiwicmVtb3ZlQ2hpbGQiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiaCJdLCJzb3VyY2VSb290IjoiIn0=